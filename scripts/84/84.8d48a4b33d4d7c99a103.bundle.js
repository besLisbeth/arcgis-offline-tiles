(function(){(this||window).webpackJsonp.registerAbsMids({"esri/tasks/RouteTask":"PMnE","esri/tasks/support/RouteResultsContainer":"g5xi","esri/tasks/support/RouteResult":"qOTR"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{PMnE:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t("zOht"),t("zp6E"),t("qMld"),t("a4MF"),t("nRUF"),t("Vx27"),t("fw2w"),t("FPqO"),t("SA66"),t("g5xi")],void 0===(s=function(e,r,t,o,s,i,n,a,p,u,l,c){var d=i.createQueryParamsHelper({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});return function(e){function r(r){return e.call(this,r)||this}return t.__extends(r,e),r.prototype.solve=function(e,r){var i=this,a=[],u=[],l={},c={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,u,"stops.features",l),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,u,"pointBarriers.features",l),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,u,"polylineBarriers.features",l),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,u,"polygonBarriers.features",l),p.normalizeCentralMeridian(u).then((function(e){for(var r in l){var t=l[r];a.push(r),c[r]=e.slice(t[0],t[1])}return i._isInputGeometryZAware(c,a)?i.getServiceDescription():s.resolve({dontCheck:!0})})).then((function(s){("dontCheck"in s?s.dontCheck:s.hasZ)||i._dropZValuesOffInputGeometry(c,a);var p=function(r){c[r].forEach((function(t,o){e.get(r)[o].geometry=t}))};for(var u in c)p(u);var l={query:t.__assign(t.__assign(t.__assign({},i.parsedUrl.query),{f:"json"}),d.toQueryParams(e))};(i.requestOptions||r)&&(l=t.__assign(t.__assign(t.__assign({},i.requestOptions),r),l));var y=i.parsedUrl.path,f=n.endsWith(y,"/solve")?y:y+"/solve";return o(f,l)})).then((function(e){return i._handleSolveResponse(e)}))},r.prototype._collectGeometries=function(e,r,t,o){o[t]=[r.length,r.length+e.length],e.forEach((function(e){r.push(e.geometry)}))},r.prototype._handleSolveResponse=function(e){var r,t,o=[],s=[],i=e.data,n=i.directions,a=void 0===n?[]:n,p=i.routes,u=void 0===p?{}:p,l=u.features,d=void 0===l?[]:l,y=u.spatialReference,f=void 0===y?null:y,_=i.stops,m=void 0===_?{}:_,v=m.features,h=void 0===v?[]:v,g=m.spatialReference,B=void 0===g?null:g,R=i.barriers,b=i.polygonBarriers,N=i.polylineBarriers,O=i.messages,w="esri.tasks.RouteTask.NULL_ROUTE_NAME",k=!0,x=d&&f||h&&B||R&&R.spatialReference||b&&b.spatialReference||N&&N.spatialReference;a.forEach((function(e){o.push(r=e.routeName),s[r]={directions:e}})),d.forEach((function(e){-1===o.indexOf(r=e.attributes.Name)&&(o.push(r),s[r]={}),e.geometry&&(e.geometry.spatialReference=x),s[r].route=e})),h.forEach((function(e){t=e.attributes,-1===o.indexOf(r=t.RouteName||w)&&(o.push(r),s[r]={}),r!==w&&(k=!1),e.geometry&&(e.geometry.spatialReference=x),null==s[r].stops&&(s[r].stops=[]),s[r].stops.push(e)})),h.length>0&&!0===k&&(s[o[0]].stops=s[w].stops,delete s[w],o.splice(o.indexOf(w),1));var S=o.map((function(e){return s[e].routeName=e===w?null:e,s[e]}));return c.fromJSON({routeResults:S,pointBarriers:R,polygonBarriers:b,polylineBarriers:N,messages:O})},t.__decorate([a.subclass("esri.tasks.RouteTask")],r)}(l.NAServiceDescriptionMixin(u))}.apply(null,o))||(e.exports=s)},g5xi:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t("zOht"),t("jZlN"),t("ycL1"),t("Vx27"),t("BPYA"),t("w1v0"),t("VIp5"),t("qOTR")],void 0===(s=function(e,r,t,o,s,i,n,a,p,u){function l(e){return e&&a.fromJSON(e).features.map((function(e){return e}))}return function(e){function r(r){var t=e.call(this,r)||this;return t.barriers=null,t.messages=null,t.pointBarriers=null,t.polylineBarriers=null,t.polygonBarriers=null,t.routeResults=null,t}return t.__extends(r,e),r.prototype.readPointBarriers=function(e,r){return l(r.barriers||r.pointBarriers)},r.prototype.readPolylineBarriers=function(e){return l(e)},r.prototype.readPolygonBarriers=function(e){return l(e)},t.__decorate([i.property({aliasOf:"pointBarriers"})],r.prototype,"barriers",void 0),t.__decorate([i.property({type:[p]})],r.prototype,"messages",void 0),t.__decorate([i.property({type:[o]})],r.prototype,"pointBarriers",void 0),t.__decorate([n.reader("pointBarriers",["barriers","pointBarriers"])],r.prototype,"readPointBarriers",null),t.__decorate([i.property({type:[o]})],r.prototype,"polylineBarriers",void 0),t.__decorate([n.reader("polylineBarriers")],r.prototype,"readPolylineBarriers",null),t.__decorate([i.property({type:[o]})],r.prototype,"polygonBarriers",void 0),t.__decorate([n.reader("polygonBarriers")],r.prototype,"readPolygonBarriers",null),t.__decorate([i.property({type:[u]})],r.prototype,"routeResults",void 0),t.__decorate([i.subclass("esri.tasks.support.RouteResultsContainer")],r)}(s.JSONSupport)}.apply(null,o))||(e.exports=s)},qOTR:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t("zOht"),t("jZlN"),t("ycL1"),t("Vx27"),t("mEoI")],void 0===(s=function(e,r,t,o,s,i,n){return function(e){function r(r){var t=e.call(this,r)||this;return t.directions=null,t.route=null,t.routeName=null,t.stops=null,t}return t.__extends(r,e),t.__decorate([i.property({type:n,json:{write:!0}})],r.prototype,"directions",void 0),t.__decorate([i.property({type:o,json:{write:!0}})],r.prototype,"route",void 0),t.__decorate([i.property({type:String,json:{write:!0}})],r.prototype,"routeName",void 0),t.__decorate([i.property({type:[o],json:{write:!0}})],r.prototype,"stops",void 0),t.__decorate([i.subclass("esri.tasks.support.RouteResult")],r)}(s.JSONSupport)}.apply(null,o))||(e.exports=s)}}]);