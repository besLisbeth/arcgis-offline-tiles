(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/support/lazyLayerLoader":"FayN","esri/portal/support/jsonContext":"OECU","esri/renderers/support/styleUtils":"PhdM"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{"6hwa":function(e,n,t){var r,i;r=[t.dj.c(e.i),n,t("zOht"),t("zp6E"),t("ma1f"),t("qMld"),t("FayN"),t("Qwus"),t("OECU"),t("PhdM")],void 0===(i=function(e,n,t,r,i,a,o,u,l,c){function s(e,n){return t.__awaiter(this,void 0,void 0,(function(){var r,i,a,o,u,s;return t.__generator(this,(function(t){switch(t.label){case 0:return r=e.instance,i=r.portalItem,a=i.url,o=i.title,u=l.createForItem(i),"group"===r.type?(r.read({title:o},u),[2,p(r,e)]):(a&&r.read({url:a},u),[4,h(e,n)]);case 1:return(s=t.sent())&&r.read(s,u),r.resourceReferences={portalItem:i,paths:u.readResourcePaths},r.read({title:o},u),[2,c.loadStyleRenderer(r,u)]}}))}))}function p(e,n){var t,u,l=e.portalItem.type;switch(l){case"Feature Service":t=o.layerLookupMap.FeatureLayer;break;case"Stream Service":t=o.layerLookupMap.StreamLayer;break;case"Scene Service":t=o.layerLookupMap.SceneLayer;break;case"Feature Collection":t=o.layerLookupMap.FeatureLayer;break;default:throw new i("portal:unsupported-item-type-as-group","The item type '"+l+"' is not supported as a 'GroupLayer'")}return t().then((function(e){return u=e,h(n)})).then((function(n){return n&&Array.isArray(n.layers)?d(e,u,n):function(e,n){return e.portalItem.url?r(e.portalItem.url,{responseType:"json",query:{f:"json"}}).then((function(t){var r=t.data;if(r&&Array.isArray(r.layers)){var i=r.layers.map((function(e){return{id:e.id,name:e.name}}));return d(e,n,{layers:i})}})):a.resolve()}(e,u)}))}function d(e,n,t){var r=t.showLegend,i=t.layers.slice();i.reverse(),i.forEach((function(t){var i=new n({portalItem:e.portalItem,layerId:t.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){var a={origin:"portal-item",portal:e.portalItem.portal||u.getDefault()};i.read(t,a),null!=r&&i.read({showLegend:r},a)}e.add(i)}))}function h(e,n){if(!1===e.supportsData)return a.resolve();var t=e.instance;return t.portalItem.fetchData("json",n).catch((function(){return null})).then((function(e){var n,r=e;if(function(e){return"stream"!==e.type&&"layerId"in e}(t)){var i=!0;if(e&&Array.isArray(r.layers)){null==t.layerId&&(t.layerId=r.layers[0].id);for(var a=0;a<r.layers.length;a++)if(r.layers[a].id===t.layerId){n=r.layers[a];break}n&&(1===r.layers.length&&(i=!1),null!=e.showLegend&&(n.showLegend=e.showLegend))}return i&&"service-name"!==t.sublayerTitleMode&&(t.sublayerTitleMode="item-title-and-service-name"),n}return e}))}Object.defineProperty(n,"__esModule",{value:!0}),n.load=function(e,n){return t.__awaiter(this,void 0,void 0,(function(){var r;return t.__generator(this,(function(t){switch(t.label){case 0:return(r=e.instance.portalItem)&&r.id?[4,r.load(n)]:[2,a.resolve()];case 1:return t.sent(),function(e){var n=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(n.type))throw new i("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:n.type,expectedType:e.supportedTypes.join(", ")})}(e),[2,s(e,n)]}}))}))}}.apply(null,r))||(e.exports=i)},FayN:function(e,n,t){var r,i;r=[t.dj.c(e.i),n,t("2Kdy")],void 0===(i=function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={BingMapsLayer:function(){return new Promise((function(e,n){t.e(87).then(function(){var n=[t("V7mb")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},BuildingSceneLayer:function(){return new Promise((function(e,n){t.e(42).then(function(){var n=[t("gRqF")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},CSVLayer:function(){return new Promise((function(e,n){Promise.all([t.e(5),t.e(80)]).then(function(){var n=[t("zwOT")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},ElevationLayer:function(){return new Promise((function(e,n){t.e(22).then(function(){var n=[t("GAgw")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},FeatureLayer:function(){return new Promise((function(e,n){t.e(5).then(function(){var n=[t("Zvuv")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},GroupLayer:function(){return new Promise((function(e,n){t.e(26).then(function(){var n=[t("lAGb")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},GeoRSSLayer:function(){return new Promise((function(e,n){t.e(94).then(function(){var n=[t("Hpgp")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},ImageryLayer:function(){return new Promise((function(e,n){Promise.all([t.e(7),t.e(10),t.e(11),t.e(44)]).then(function(){var n=[t("G5N4")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},ImageryTileLayer:function(){return new Promise((function(e,n){Promise.all([t.e(11),t.e(20),t.e(49)]).then(function(){var n=[t("EhmR")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},IntegratedMeshLayer:function(){return new Promise((function(e,n){Promise.all([t.e(17),t.e(62)]).then(function(){var n=[t("wehw")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},KMLLayer:function(){return new Promise((function(e,n){t.e(68).then(function(){var n=[t("hPxN")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},MapImageLayer:function(){return new Promise((function(e,n){t.e(19).then(function(){var n=[t("d+WR")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},MapNotesLayer:function(){return new Promise((function(e,n){Promise.all([t.e(5),t.e(95)]).then(function(){var n=[t("2OQv")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},OpenStreetMapLayer:function(){return new Promise((function(e,n){t.e(96).then(function(){var n=[t("793k")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},PointCloudLayer:function(){return new Promise((function(e,n){t.e(37).then(function(){var n=[t("wvIq")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},RouteLayer:function(){return new Promise((function(e,n){Promise.all([t.e(5),t.e(97)]).then(function(){var n=[t("BdvN")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},SceneLayer:function(){return new Promise((function(e,n){Promise.all([t.e(5),t.e(63)]).then(function(){var n=[t("yf9t")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},StreamLayer:function(){return new Promise((function(e,n){t.e(48).then(function(){var n=[t("QiYT")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},TileLayer:function(){return new Promise((function(e,n){Promise.resolve().then(function(){var n=[t("WiXY")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},UnknownLayer:function(){return new Promise((function(e,n){t.e(98).then(function(){var n=[t("N1SI")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},UnsupportedLayer:function(){return new Promise((function(e,n){t.e(99).then(function(){var n=[t("9ZiH")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},VectorTileLayer:function(){return new Promise((function(e,n){t.e(47).then(function(){var n=[t("UW67")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},WebTileLayer:function(){return new Promise((function(e,n){Promise.resolve().then(function(){var n=[t("a2fw")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},WMSLayer:function(){return new Promise((function(e,n){t.e(69).then(function(){var n=[t("dWJG")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},WMTSLayer:function(){return new Promise((function(e,n){t.e(70).then(function(){var n=[t("AgRT")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))}}}.apply(null,r))||(e.exports=i)},OECU:function(e,n,t){var r,i;r=[t.dj.c(e.i),n,t("jfWY"),t("Qwus")],void 0===(i=function(e,n,t,r){Object.defineProperty(n,"__esModule",{value:!0}),n.createForItem=function(e){return{origin:"portal-item",url:t.urlToObject(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e,readResourcePaths:[]}}}.apply(null,r))||(e.exports=i)},PhdM:function(e,n,t){var r,i;r=[t.dj.c(e.i),n,t("zOht"),t("WYKK"),t("qMld"),t("V2ZO")],void 0===(i=function(e,n,t,r,i,a){Object.defineProperty(n,"__esModule",{value:!0}),n.loadStyleRenderer=function(e,n,o){return t.__awaiter(this,void 0,void 0,(function(){var u,l,c;return t.__generator(this,(function(t){switch(t.label){case 0:return(u=e&&e.getAtOrigin&&e.getAtOrigin("renderer",n.origin))&&"unique-value"===u.type&&u.styleOrigin?[4,r.result(u.populateFromStyle())]:[3,2];case 1:l=t.sent(),i.throwIfAborted(o),!1===l.ok&&(c=l.error,n&&n.messages&&n.messages.push(new a("renderer:style-reference","Failed to create unique value renderer from style reference: "+c.message,{error:c,context:n})),e.clear("renderer",n.origin)),t.label=2;case 2:return[2]}}))}))}}.apply(null,r))||(e.exports=i)}}]);