(function(){(this||window).webpackJsonp.registerAbsMids({"esri/arcade/functions/date":"/4o+","esri/arcade/ImmutablePointArray":"2CtR","esri/support/arcadeUtils":"3568","esri/arcade/functions/string":"9iaF","esri/arcade/ImmutablePathArray":"ABt8","esri/core/number":"AcGV","esri/arcade/FunctionWrapper":"AxL/","esri/arcade/Dictionary":"B2KM","esri/arcade/functions/geometry":"CyLf","esri/arcade/functions/centroid":"GeVF","esri/arcade/Attachment":"HKXX","esri/arcade/functions/geomsync":"Na27","esri/arcade/arcadeCompiler":"OSIf","esri/arcade/parser":"QlEX","esri/arcade/arcadeRuntime":"RdlP","esri/arcade/Feature":"T8lH","esri/arcade/kernel":"WoOE","esri/arcade/languageUtils":"gfOZ","esri/arcade/functions/stats":"hiUs","esri/arcade/functions/fieldStats":"lT9l","esri/arcade/ImmutableArray":"lgxM","esri/arcade/lib/esprima":"oVPt","esri/arcade/ArcadePortal":"rChG","esri/arcade/functions/maths":"sAf+","esri/arcade/treeAnalysis":"sDeS","esri/arcade/featureset/support/shared":"tq6K","esri/intl/moment":"xdyM","esri/arcade/arcade":"zjMq"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"/4o+":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("gfOZ")],void 0===(i=function(e,t,r){function n(e){return null===e?e:isNaN(e.getTime())?null:e}Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){e.today=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,0,0);var i=new Date;return i.setHours(0,0,0,0),i}))},e.now=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,0,0),new Date}))},e.timestamp=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,0,0);var i=new Date;return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds())}))},e.toutc=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?null:new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds())}))},e.tolocal=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?null:r.MomentLibrary.Moment.utc([i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()]).toDate()}))},e.day=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?NaN:i.getDate()}))},e.month=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?NaN:i.getMonth()}))},e.year=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?NaN:i.getFullYear()}))},e.hour=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?NaN:i.getHours()}))},e.second=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?NaN:i.getSeconds()}))},e.millisecond=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?NaN:i.getMilliseconds()}))},e.minute=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?NaN:i.getMinutes()}))},e.weekday=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=r.toDate(n[0]);return null===i?NaN:i.getDay()}))},e.date=function(e,i){return t(e,i,(function(e,t,i){if(r.pcCheck(i,0,7),3===i.length)return n(new Date(r.toNumber(i[0]),r.toNumber(i[1]),r.toNumber(i[2]),0,0,0,0));if(4===i.length)return n(new Date(r.toNumber(i[0]),r.toNumber(i[1]),r.toNumber(i[2]),r.toNumber(i[3]),0,0,0));if(5===i.length)return n(new Date(r.toNumber(i[0]),r.toNumber(i[1]),r.toNumber(i[2]),r.toNumber(i[3]),r.toNumber(i[4]),0,0));if(6===i.length)return n(new Date(r.toNumber(i[0]),r.toNumber(i[1]),r.toNumber(i[2]),r.toNumber(i[3]),r.toNumber(i[4]),r.toNumber(i[5]),0));if(7===i.length)return n(new Date(r.toNumber(i[0]),r.toNumber(i[1]),r.toNumber(i[2]),r.toNumber(i[3]),r.toNumber(i[4]),r.toNumber(i[5]),r.toNumber(i[6])));if(2===i.length){var a=r.toString(i[1]);if(""===a)return null;a=r.standardiseDateFormat(a);var u=r.MomentLibrary.Moment(r.toString(i[0]),a,!0);return!0===u.isValid()?u.toDate():null}if(1===i.length){if(r.isString(i[0])&&""===i[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;var o=r.toNumber(i[0]);return!1===isNaN(o)?n(new Date(o)):r.toDate(i[0])}return 0===i.length?new Date:void 0}))},e.datediff=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,2,3);var i=r.toDateM(n[0]),a=r.toDateM(n[1]);if(null===i||null===a)return NaN;switch(r.toString(n[2]).toLowerCase()){case"days":case"day":case"d":return i.diff(a,"days",!0);case"months":case"month":return i.diff(a,"months",!0);case"minutes":case"minute":case"m":return"M"===n[2]?i.diff(a,"months",!0):i.diff(a,"minutes",!0);case"seconds":case"second":case"s":return i.diff(a,"seconds",!0);case"milliseconds":case"millisecond":case"ms":return i.diff(a);case"hours":case"hour":case"h":return i.diff(a,"hours",!0);case"years":case"year":case"y":return i.diff(a,"years",!0);default:return i.diff(a)}}))},e.dateadd=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,2,3);var i=r.toDateM(n[0]);if(null===i)return null;var a="milliseconds";switch(r.toString(n[2]).toLowerCase()){case"days":case"day":case"d":a="days";break;case"months":case"month":a="months";break;case"minutes":case"minute":case"m":a="M"===n[2]?"months":"minutes";break;case"seconds":case"second":case"s":a="seconds";break;case"milliseconds":case"millisecond":case"ms":a="milliseconds";break;case"hours":case"hour":case"h":a="hours";break;case"years":case"year":case"y":a="years"}return i.add(r.toNumber(n[1]),a),i.toDate()}))}}}.apply(null,n))||(e.exports=i)},"2CtR":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("lgxM"),r("oxlp")],void 0===(i=function(e,t,r,n,i){return function(e){function t(t,r,n,i,a,u){var o=e.call(this,t)||this;return o._lazyPt=[],o._hasZ=!1,o._hasM=!1,o._spRef=r,o._hasZ=n,o._hasM=i,o._cacheId=a,o._partId=u,o}return r.__extends(t,e),t.prototype.get=function(e){if(void 0===this._lazyPt[e]){var t=this._elements[e];if(void 0===t)return;var r=this._hasZ,n=this._hasM,a=null;(a=r&&!n?new i(t[0],t[1],t[2],void 0,this._spRef):n&&r?new i(t[0],t[1],void 0,t[2],this._spRef):r&&n?new i(t[0],t[1],t[2],t[3],this._spRef):new i(t[0],t[1],this._spRef)).cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+e.toString(),this._lazyPt[e]=a}return this._lazyPt[e]},t.prototype.equalityTest=function(e){return e===this||null!==e&&e instanceof t!=0&&e.getUniqueHash()===this.getUniqueHash()},t.prototype.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()},t}(n)}.apply(null,n))||(e.exports=i)},3568:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zjMq"),r("B2KM"),r("T8lH"),r("rg9i"),r("qMld"),r("o5TS")],void 0===(i=function(e,t,r,n,i,a,u,o){Object.defineProperty(t,"__esModule",{value:!0}),t.arcade=r,t.Dictionary=n,t.arcadeFeature=i;var s=/^\$feature\./i,l={vars:{$feature:"any",$view:"any"},spatialReference:null};function c(e){if(!e)return null;try{return r.parseScript(e)}catch(e){}return null}function f(e){var t=c(e);return!!t&&r.scriptUsesGeometryEngine(t)}t.createSyntaxTree=c,t.createFunction=function(e,t){var n="string"==typeof e?c(e):e;if(!n)return null;try{return t=t||a.clone(l),r.compileScript(n,t)}catch(e){}return null},t.createExecContext=function(e,t){return{vars:{$feature:null==e?new i:i.createFromGraphic(e),$view:t&&t.view},spatialReference:t&&t.sr}},t.createFeature=function(e,t,r){return i.createFromGraphicLikeObject(t,e,r)},t.updateExecContext=function(e,t){e.vars.$feature=t},t.evalSyntaxTree=function(e,t){var n;try{n=r.executeScript(e,t)}catch(e){n=null}return n},t.executeFunction=function(e,t){var r;try{r=e?e(t):null}catch(e){r=null}return r},t.executeAsyncFunction=function(e,t){try{return e?e(t):u.resolve(null)}catch(e){return u.resolve(null)}},t.extractFieldNames=function(e){if(!e)return[];var t="string"==typeof e?c(e):e;if(!t)return[];var n=r.extractFieldLiterals(t),i=new Array;return n.forEach((function(e){s.test(e)&&(e=e.replace(s,""),i.push(e))})),i.sort(),i.filter((function(e,t){return 0===t||i[t-1]!==e}))},t.dependsOnView=function(e){return r.referencesMember(e,"$view")},t.hasVariable=function(e,t){return!!e&&r.referencesMember(e,t)},t.getViewInfo=function(e){if(e&&(null!=e.spatialReference||null!=e.scale&&null!=e.viewingMode))return{view:e.viewingMode&&null!=e.scale?new n({viewingMode:e.viewingMode,scale:e.scale}):null,sr:e.spatialReference}},t.convertServiceUrlToWorkspace=function(e,t){var n=r.featureSetUtils();return n?n.createFeatureSetCollectionFromService(e,t):null},t.convertFeatureLayerToFeatureSet=function(e,t){if(null===e)return null;var n=r.featureSetUtils();return n?n.constructFeatureSet(e,t):null},t.convertMapToFeatureSetCollection=function(e){if(null===e||null===e.map)return null;var t=r.featureSetUtils();return t?t.createFeatureSetCollectionFromMap(e.map,e.spatialReference):null},t.loadScriptDependencies=function(e,t,n){return void 0===n&&(n=[]),r.loadScriptDependencies(e,t,n)},t.enableGeometryOperations=function(){return r.enableGeometrySupport()},t.enableFeatureSetOperations=function(){return r.enableFeatureSetSupport()},t.applyTextFormattingHTML=function(e){return"string"==typeof e?e.replace(/(\n)/gi,'<br class="esri-text-new-line" />'):e},t.hasGeometryOperations=function(e){if(!e)return!1;if("string"==typeof e)return f(e);var t,r=e;if("simple"===(t=r).type||"class-breaks"===t.type||"unique-value"===t.type||"dot-density"===t.type||"dictionary"===t.type){if("dot-density"===r.type){var n=r.attributes.some((function(e){return f(e.valueExpression)}));if(n)return n}var i=r.visualVariables,a=!!i&&i.some((function(e){var t=f(e.valueExpression);return"size"===e.type&&(o.isSizeVariable(e.minSize)&&(t=t||f(e.minSize.valueExpression)),o.isSizeVariable(e.maxSize)&&(t=t||f(e.maxSize.valueExpression))),t}));return!(!("valueExpression"in r)||!f(r.valueExpression))||a}if("esri.layers.support.LabelClass"===r.declaredClass){var u=r.labelExpressionInfo&&r.labelExpressionInfo.expression;return!(!u||!f(u))||!1}return"esri.PopupTemplate"===r.declaredClass&&!!r.expressionInfos&&r.expressionInfos.some((function(e){return f(e.expression)}))}}.apply(null,n))||(e.exports=i)},"9iaF":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("rChG"),r("B2KM"),r("T8lH"),r("gfOZ"),r("tq6K")],void 0===(i=function(e,t,r,n,i,a,u){Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){e.portal=function(e,n){return t(e,n,(function(e,t,n){return a.pcCheck(n,1,1),new r(a.toString(n[0]))}))},e.trim=function(e,r){return t(e,r,(function(e,t,r){return a.pcCheck(r,1,1),a.toString(r[0]).trim()}))},e.upper=function(e,r){return t(e,r,(function(e,t,r){return a.pcCheck(r,1,1),a.toString(r[0]).toUpperCase()}))},e.proper=function(e,r){return t(e,r,(function(e,t,r){a.pcCheck(r,1,2);var n=1;2===r.length&&"firstword"===a.toString(r[1]).toLowerCase()&&(n=2);for(var i=/\s/,u=a.toString(r[0]),o="",s=!0,l=0;l<u.length;l++){var c=u[l];i.test(c)?1===n&&(s=!0):c.toUpperCase()!==c.toLowerCase()&&(s?(c=c.toUpperCase(),s=!1):c=c.toLowerCase()),o+=c}return o}))},e.lower=function(e,r){return t(e,r,(function(e,t,r){return a.pcCheck(r,1,1),a.toString(r[0]).toLowerCase()}))},e.guid=function(e,r){return t(e,r,(function(e,t,r){if(a.pcCheck(r,0,1),r.length>0)switch(a.toString(r[0]).toLowerCase()){case"digits":return a.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return a.generateUUID();case"digits-hyphen-braces":return"{"+a.generateUUID()+"}";case"digits-hyphen-parentheses":return"("+a.generateUUID()+")"}return"{"+a.generateUUID()+"}"}))},e.console=function(e,r){return t(e,r,(function(t,r,n){return 0===n.length||(1===n.length?e.console(a.toString(n[0])):e.console(a.toString(n))),a.voidOperation}))},e.mid=function(e,r){return t(e,r,(function(e,t,r){a.pcCheck(r,2,3);var n=a.toNumber(r[1]);if(isNaN(n))return"";if(n<0&&(n=0),2===r.length)return a.toString(r[0]).substr(n);var i=a.toNumber(r[2]);return isNaN(i)?"":(i<0&&(i=0),a.toString(r[0]).substr(n,i))}))},e.find=function(e,r){return t(e,r,(function(e,t,r){a.pcCheck(r,2,3);var n=0;if(r.length>2){if(n=a.toNumber(a.defaultUndefined(r[2],0)),isNaN(n))return-1;n<0&&(n=0)}return a.toString(r[1]).indexOf(a.toString(r[0]),n)}))},e.left=function(e,r){return t(e,r,(function(e,t,r){a.pcCheck(r,2,2);var n=a.toNumber(r[1]);return isNaN(n)?"":(n<0&&(n=0),a.toString(r[0]).substr(0,n))}))},e.right=function(e,r){return t(e,r,(function(e,t,r){a.pcCheck(r,2,2);var n=a.toNumber(r[1]);return isNaN(n)?"":(n<0&&(n=0),a.toString(r[0]).substr(-1*n,n))}))},e.split=function(e,r){return t(e,r,(function(e,t,r){var n;a.pcCheck(r,2,4);var i=a.toNumber(a.defaultUndefined(r[2],-1)),u=a.toBoolean(a.defaultUndefined(r[3],!1));if(-1===i||null===i||!0===u?n=a.toString(r[0]).split(a.toString(r[1])):(isNaN(i)&&(i=-1),i<-1&&(i=-1),n=a.toString(r[0]).split(a.toString(r[1]),i)),!1===u)return n;for(var o=[],s=0;s<n.length&&!(-1!==i&&o.length>=i);s++)""!==n[s]&&void 0!==n[s]&&o.push(n[s]);return o}))},e.text=function(e,r){return t(e,r,(function(e,t,r){return a.pcCheck(r,1,2),a.toStringExplicit(r[0],r[1])}))},e.concatenate=function(e,r){return t(e,r,(function(e,t,r){var n=[];if(r.length<1)return"";if(a.isArray(r[0])){for(var i=a.defaultUndefined(r[2],""),u=0;u<r[0].length;u++)n[u]=a.toStringExplicit(r[0][u],i);return r.length>1?n.join(r[1]):n.join("")}if(a.isImmutableArray(r[0])){for(i=a.defaultUndefined(r[2],""),u=0;u<r[0].length();u++)n[u]=a.toStringExplicit(r[0].get(u),i);return r.length>1?n.join(r[1]):n.join("")}for(u=0;u<r.length;u++)n[u]=a.toStringExplicit(r[u]);return n.join("")}))},e.reverse=function(e,r){return t(e,r,(function(e,t,r){var n;if(a.pcCheck(r,1,1),a.isArray(r[0]))return(n=r[0].slice(0)).reverse(),n;if(a.isImmutableArray(r[0]))return(n=r[0].toArray().slice(0)).reverse(),n;throw new Error("Invalid Parameter")}))},e.replace=function(e,r){return t(e,r,(function(e,t,r){a.pcCheck(r,3,4);var n=a.toString(r[0]),i=a.toString(r[1]),u=a.toString(r[2]);return 4!==r.length||a.toBoolean(r[3])?a.multiReplace(n,i,u):n.replace(i,u)}))},e.schema=function(e,r){return t(e,r,(function(e,t,r){if(r[0]instanceof i){var a=r[0].schema();return a?n.convertObjectToArcadeDictionary(a):null}throw new Error("Invalid Parameter")}))},e.subtypes=function(e,r){return t(e,r,(function(e,t,r){if(a.pcCheck(r,1,1),r[0]instanceof i){var u=r[0].subtypes();return u?n.convertObjectToArcadeDictionary(u):null}throw new Error("Invalid Parameter")}))},e.subtypecode=function(e,r){return t(e,r,(function(e,t,r){if(a.pcCheck(r,1,1),r[0]instanceof i){var n=r[0].subtypes();if(!n)return null;if(n.subtypeField&&r[0].hasField(n.subtypeField)){for(var u=r[0].field(n.subtypeField),o=0,s=n.subtypes;o<s.length;o++){var l=s[o];if(l.code===u)return l.code}return null}return null}throw new Error("Invalid Parameter")}))},e.subtypename=function(e,r){return t(e,r,(function(e,t,r){if(a.pcCheck(r,1,1),r[0]instanceof i){var n=r[0].subtypes();if(!n)return"";if(n.subtypeField&&r[0].hasField(n.subtypeField)){for(var u=r[0].field(n.subtypeField),o=0,s=n.subtypes;o<s.length;o++){var l=s[o];if(l.code===u)return l.name}return""}return""}throw new Error("Invalid Parameter")}))},e.domain=function(e,r){return t(e,r,(function(e,t,r){if(a.pcCheck(r,2,3),r[0]instanceof i){var o=r[0].fullDomain(a.toString(r[1]),void 0===r[2]?void 0:a.toNumber(r[2]));return o&&o.domain?"coded-value"===o.domain.type||"codedValue"===o.domain.type?n.convertObjectToArcadeDictionary({type:"codedValue",name:o.domain.name,dataType:u.layerFieldEsriConstants[o.field.type],codedValues:o.domain.codedValues.map((function(e){return{name:e.name,code:e.code}}))}):n.convertObjectToArcadeDictionary({type:"range",name:o.domain.name,dataType:u.layerFieldEsriConstants[o.field.type],min:o.domain.min,max:o.domain.max}):null}throw new Error("Invalid Parameter")}))},e.domainname=function(e,r){return t(e,r,(function(e,t,r){if(a.pcCheck(r,2,4),r[0]instanceof i)return r[0].domainValueLookup(a.toString(r[1]),r[2],void 0===r[3]?void 0:a.toNumber(r[3]));throw new Error("Invalid Parameter")}))},e.domaincode=function(e,r){return t(e,r,(function(e,t,r){if(a.pcCheck(r,2,4),r[0]instanceof i)return r[0].domainCodeLookup(a.toString(r[1]),r[2],void 0===r[3]?void 0:a.toNumber(r[3]));throw new Error("Invalid Parameter")}))},e.urlencode=function(e,r){return t(e,r,(function(e,t,r){if(a.pcCheck(r,1,1),null===r[0])return"";if(r[0]instanceof n){for(var i="",u=0,o=r[0].keys();u<o.length;u++){var s=o[u],l=r[0].field(s);""!==i&&(i+="&"),i+=null===l?encodeURIComponent(s)+"=":encodeURIComponent(s)+"="+encodeURIComponent(l)}return i}return encodeURIComponent(a.toString(r[0]))}))}}}.apply(null,n))||(e.exports=i)},ABt8:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("lgxM"),r("2CtR")],void 0===(i=function(e,t,r,n,i){return function(e){function t(t,r,n,i,a){var u=e.call(this,t)||this;return u._lazyPath=[],u._hasZ=!1,u._hasM=!1,u._hasZ=n,u._hasM=i,u._spRef=r,u._cacheId=a,u}return r.__extends(t,e),t.prototype.get=function(e){if(void 0===this._lazyPath[e]){var t=this._elements[e];if(void 0===t)return;this._lazyPath[e]=new i(t,this._spRef,this._hasZ,this._hasM,this._cacheId,e)}return this._lazyPath[e]},t.prototype.equalityTest=function(e){return e===this||null!==e&&e instanceof t!=0&&e.getUniqueHash()===this.getUniqueHash()},t.prototype.getUniqueHash=function(){return this._cacheId.toString()},t}(n)}.apply(null,n))||(e.exports=i)},AcGV:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("nRUF"),r("+PwV")],void 0===(i=function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0});var a={ar:[".",","],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function u(e){e||(e=i.getLocale());var t=e in a;if(!t){var r=e.split("-");r.length>1&&r[0]in a&&(e=r[0],t=!0),t||(e="en")}var n=a[e],u=n[0],o=n[1],s=n[2];return{decimal:u,group:o,pattern:void 0===s?"#,##0.###":s}}t.getCustoms=u,t.format=function(e,t){var i=u((t=r.__assign({},t)).locale);t.customs=i;var a=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,r){var i=(r=r||{}).customs.group,a=r.customs.decimal,u=t.split(";"),s=u[0];if(-1!==(t=u[e<0?1:0]||"-"+s).indexOf("%"))e*=100;else if(-1!==t.indexOf("‰"))e*=1e3;else{if(-1!==t.indexOf("¤"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}var l=o,c=s.match(l);if(!c)throw new Error("unable to find a number expression in pattern: "+t);return!1===r.fractional&&(r.places=0),t.replace(l,function(e,t,r){!0===(r=r||{}).places&&(r.places=0),r.places===1/0&&(r.places=6);var i=t.split("."),a="string"==typeof r.places&&r.places.indexOf(","),u=r.places;a?u=r.places.substring(a+1):u>=0||(u=(i[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(u))));var o=String(Math.abs(e)).split("."),s=o[1]||"";if(i[1]||r.places){a&&(r.places=r.places.substring(0,a));var l=void 0!==r.places?r.places:i[1]&&i[1].lastIndexOf("0")+1;l>s.length&&(o[1]=n.padEnd(s,Number(l),"0")),u<s.length&&(o[1]=s.substr(0,Number(u)))}else o[1]&&o.pop();var c=i[0].replace(",",""),f=c.indexOf("0");-1!==f&&((f=c.length-f)>o[0].length&&(o[0]=n.padStart(o[0],f,"0")),-1===c.indexOf("#")&&(o[0]=o[0].substr(o[0].length-f)));var p,m,h=i[0].lastIndexOf(",");if(-1!==h){p=i[0].length-h-1;var d=i[0].substr(0,h);-1!==(h=d.lastIndexOf(","))&&(m=d.length-h-1)}for(var y=[],g=o[0];g;){var D=g.length-p;y.push(D>0?g.substr(D):g),g=D>0?g.slice(0,D):"",m&&(p=m,m=void 0)}return o[0]=y.reverse().join(r.group||","),o.join(r.decimal||".")}(e,c[0],{decimal:a,group:i,places:r.places,round:r.round}))}(e,a,t)};var o=/[#0,]*[#0](?:\.0*#*)?/;function s(e){var t=u((e=e||{}).locale),r=e.pattern||t.pattern,i=t.group,a=t.decimal,s=1;if(-1!==r.indexOf("%"))s/=100;else if(-1!==r.indexOf("‰"))s/=1e3;else if(-1!==r.indexOf("¤"))throw new Error("currency notation not supported");var f=r.split(";");return 1===f.length&&f.push("-"+f[0]),{regexp:c(f,(function(t){return(t="(?:"+n.escapeRegExpString(t,".")+")").replace(o,(function(t){var r={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:a,exponent:!1},n=t.split("."),u=e.places;1===n.length&&1!==s&&(n[1]="###"),1===n.length||0===u?r.fractional=!1:(void 0===u&&(u=e.pattern?n[1].lastIndexOf("0")+1:1/0),u&&null==e.fractional&&(r.fractional=!0),!e.places&&u<n[1].length&&(u+=","+n[1].length),r.places=u);var o=n[0].split(",");return o.length>1&&(r.groupSize=o.pop().length,o.length>1&&(r.groupSize2=o.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=l(e),r=c(e.fractional,(function(t){var r="";return t&&0!==e.places&&(r="\\"+e.decimal,e.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+e.places+"}"),r}),!0),n=t+r;return r&&(n="(?:(?:"+n+")|(?:"+r+"))"),n+c(e.exponent,(function(t){return t?"([eE]"+l({signed:e.eSigned})+")":""}))}(r)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:a,factor:s}}function l(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",c(e.signed,(function(e){return e?"[-+]":""}),!0)+c(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=n.escapeRegExpString(t))?t="\\s":" "===t&&(t="\\s\\xa0");var r=e.groupSize,i=e.groupSize2;if(i){var a="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+r+"})";return r-i>0?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":a}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"}),!0)}t.regexp=function(e){return s(e).regexp},t._parseInfo=s,t.parse=function(e,t){var r=s(t),n=new RegExp("^"+r.regexp+"$").exec(e);if(!n)return NaN;var i=n[1];if(!n[1]){if(!n[2])return NaN;i=n[2],r.factor*=-1}return i=i.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(i)*r.factor};var c=function(e,t,r){if(!(e instanceof Array))return t(e);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return f(n.join("|"),r)},f=function(e,t){return"("+(t?"?:":"")+e+")"}}.apply(null,n))||(e.exports=i)},"AxL/":function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){return function(e,t){this.definition=null,this.context=null,this.definition=e,this.context=t}}.apply(null,n))||(e.exports=i)},B2KM:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("lgxM"),r("gfOZ"),r("YADd")],void 0===(i=function(e,t,r,n,i){function a(e){var t=null;if(null===e);else if(n.isNumber(e))t=n.toNumber(e);else if(n.isBoolean(e))t=n.toBoolean(e);else if(n.isString(e))t=n.toString(e);else if(n.isDate(e))t=n.toDate(e);else if(n.isArray(e)){t=[];for(var r=0,i=e;r<i.length;r++){var o=i[r];t.push(a(o))}}else{if(0===Object.keys(e).length)return null;var s=new u;s.immutable=!1;for(var l=0,c=Object.keys(e);l<c.length;l++){var f=c[l];s.setField(f,a(e[f]))}s.immutable=!0,t=s}return t}var u=function(){function e(t){this.declaredClass="esri.arcade.Dictionary",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=t instanceof e?t.attributes:null==t?{}:t}return e.prototype.field=function(e){var t=e.toLowerCase(),r=this.attributes[e];if(void 0!==r)return r;for(var n in this.attributes)if(n.toLowerCase()===t)return this.attributes[n];throw new Error("Field not Found")},e.prototype.setField=function(e,t){if(this.immutable)throw new Error("Dictionary is Immutable");var r=e.toLowerCase();if(void 0===this.attributes[e]){for(var n in this.attributes)if(n.toLowerCase()===r)return void(this.attributes[n]=t);this.attributes[e]=t}else this.attributes[e]=t},e.prototype.hasField=function(e){var t=e.toLowerCase();if(void 0!==this.attributes[e])return!0;for(var r in this.attributes)if(r.toLowerCase()===t)return!0;return!1},e.prototype.keys=function(){var e=[];for(var t in this.attributes)e.push(t);return e.sort()},e.prototype.castToText=function(){var e="";for(var t in this.attributes){""!==e&&(e+=",");var a=this.attributes[t];null==a?e+=JSON.stringify(t)+":null":n.isBoolean(a)||n.isNumber(a)||n.isString(a)?e+=JSON.stringify(t)+":"+JSON.stringify(a):a instanceof i||a instanceof r||a instanceof Array?e+=JSON.stringify(t)+":"+n.toStringExplicit(a):a instanceof Date?e+=JSON.stringify(t)+":"+JSON.stringify(a):null!==a&&"object"==typeof a&&void 0!==a.castToText&&(e+=JSON.stringify(t)+":"+a.castToText())}return"{"+e+"}"},e.convertObjectToArcadeDictionary=function(t){var r=new e;for(var n in r.immutable=!1,t)r.setField(n.toString(),a(t[n]));return r.immutable=!0,r},e}();return u}.apply(null,n))||(e.exports=i)},CyLf:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("B2KM"),r("T8lH"),r("2CtR"),r("gfOZ"),r("N7S/"),r("YADd"),r("t78F"),r("oxlp"),r("Vt+U"),r("aYWh"),r("GeVF"),r("Lzvl"),r("ZPQp")],void 0===(i=function(e,t,r,n,i,a,u,o,s,l,c,f,p,m,h){Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){e.ringisclockwise=function(e,r){return t(e,r,(function(e,t,r){a.pcCheck(r,1,1);var n=[],u=!1,o=!1;if(null===r[0])return!1;if(a.isArray(r[0])){for(var s=0,c=r[0];s<c.length;s++){if(!((m=c[s])instanceof l))throw new Error("Invalid Argument");n.push(m.hasZ?m.hasM?[m.x,m.y,m.z,m.m]:[m.x,m.y,m.z]:[m.x,m.y])}n.length>0&&(u=r[0][0].hasZ,o=r[0][0].hasM)}else if(r[0]instanceof i)(n=r[0]._elements).length>0&&(u=r[0]._hasZ,o=r[0]._hasM);else{if(!a.isImmutableArray(r[0]))throw new Error("Invalid Argument");for(var f=0,p=r[0].toArray();f<p.length;f++){var m;if(!((m=p[f])instanceof l))throw new Error("Invalid Argument");n.push(m.hasZ?m.hasM?[m.x,m.y,m.z,m.m]:[m.x,m.y,m.z]:[m.x,m.y])}n.length>0&&(u=r[0].get(0).hasZ,o=r[0].get(0).hasM)}return!(n.length<3)&&h.isClockwise(n,o,u)}))},e.polygon=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(u[0]instanceof r){if((o=a.fixSpatialReference(n.parseGeometryFromDictionary(u[0]),e.spatialReference))instanceof c==0)throw new Error("Illegal Parameter")}else o=u[0]instanceof c?m.fromJSON(u[0].toJSON()):a.fixSpatialReference(new c(JSON.parse(u[0])),e.spatialReference);if(null!==o&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.polyline=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(u[0]instanceof r){if((o=a.fixSpatialReference(n.parseGeometryFromDictionary(u[0]),e.spatialReference))instanceof f==0)throw new Error("Illegal Parameter")}else o=u[0]instanceof f?m.fromJSON(u[0].toJSON()):a.fixSpatialReference(new f(JSON.parse(u[0])),e.spatialReference);if(null!==o&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.point=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(u[0]instanceof r){if((o=a.fixSpatialReference(n.parseGeometryFromDictionary(u[0]),e.spatialReference))instanceof l==0)throw new Error("Illegal Parameter")}else o=u[0]instanceof l?m.fromJSON(u[0].toJSON()):a.fixSpatialReference(new l(JSON.parse(u[0])),e.spatialReference);if(null!==o&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.multipoint=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(u[0]instanceof r){if((o=a.fixSpatialReference(n.parseGeometryFromDictionary(u[0]),e.spatialReference))instanceof s==0)throw new Error("Illegal Parameter")}else o=u[0]instanceof s?m.fromJSON(u[0].toJSON()):a.fixSpatialReference(new s(JSON.parse(u[0])),e.spatialReference);if(null!==o&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.extent=function(e,i){return t(e,i,(function(t,i,o){o=a.autoCastFeatureToGeometry(o),a.pcCheck(o,1,1);var p=null;if(o[0]instanceof r)p=a.fixSpatialReference(n.parseGeometryFromDictionary(o[0]),e.spatialReference);else if(o[0]instanceof l){var h={xmin:o[0].x,ymin:o[0].y,xmax:o[0].x,ymax:o[0].y,spatialReference:o[0].spatialReference.toJSON()};o[0].hasZ?(h.zmin=o[0].z,h.zmax=o[0].z):o[0].hasM&&(h.mmin=o[0].m,h.mmax=o[0].m),p=m.fromJSON(h)}else p=o[0]instanceof c||o[0]instanceof f||o[0]instanceof s?m.fromJSON(o[0].extent.toJSON()):o[0]instanceof u?m.fromJSON(o[0].toJSON()):a.fixSpatialReference(new u(JSON.parse(o[0])),e.spatialReference);if(null!==p&&!1===p.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(p)}))},e.geometry=function(e,i){return t(e,i,(function(t,i,u){a.pcCheck(u,1,1);var o=null;if(null!==(o=u[0]instanceof n?a.fixSpatialReference(u[0].geometry(),e.spatialReference):u[0]instanceof r?a.fixSpatialReference(n.parseGeometryFromDictionary(u[0]),e.spatialReference):a.fixSpatialReference(m.fromJSON(JSON.parse(u[0])),e.spatialReference))&&!1===o.spatialReference.equals(e.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return a.fixNullGeometry(o)}))},e.setgeometry=function(e,r){return t(e,r,(function(e,t,r){if(a.pcCheck(r,2,2),!(r[0]instanceof n))throw new Error("Illegal Argument");if(!0===r[0].immutable)throw new Error("Feature is Immutable");if(!(r[1]instanceof o||null===r[1]))throw new Error("Illegal Argument");return r[0]._geometry=r[1],a.voidOperation}))},e.feature=function(e,i){return t(e,i,(function(t,i,u){if(0===u.length)throw new Error("Missing Parameters");var s=null;if(1===u.length)if(a.isString(u[0]))s=n.fromJson(JSON.parse(u[0]));else if(u[0]instanceof n)s=n.createFromArcadeFeature(u[0]);else if(u[0]instanceof o)s=n.createFromGraphicLikeObject(u[0],null,null);else{if(!(u[0]instanceof r))throw new Error("Illegal Argument");var l=u[0].hasField("geometry")?u[0].field("geometry"):null,c=u[0].hasField("attributes")?u[0].field("attributes"):null;null!==l&&l instanceof r&&(l=n.parseGeometryFromDictionary(l)),null!==c&&(c=n.parseAttributesFromDictionary(c)),s=n.createFromGraphicLikeObject(l,c,null)}else if(2===u.length){if(l=null,c=null,null!==u[0])if(u[0]instanceof o)l=u[0];else{if(!(l instanceof r))throw new Error("Illegal Argument");l=n.parseGeometryFromDictionary(u[0])}if(null!==u[1]){if(!(u[1]instanceof r))throw new Error("Illegal Argument");c=n.parseAttributesFromDictionary(u[1])}s=n.createFromGraphicLikeObject(l,c,null)}else{if(l=null,c={},null!==u[0])if(u[0]instanceof o)l=u[0];else{if(!(l instanceof r))throw new Error("Illegal Argument");l=n.parseGeometryFromDictionary(u[0])}for(var f=1;f<u.length;f+=2){var p=a.toString(u[f]),m=u[f+1];if(!(null==m||a.isString(m)||isNaN(m)||a.isDate(m)||a.isNumber(m)||a.isBoolean(m)))throw new Error("Illegal Argument");if(a.isFunctionParameter(m)||!1===a.isSimpleType(m))throw new Error("Illegal Argument");m===a.voidOperation?c[p]=null:c[p]=m}s=n.createFromGraphicLikeObject(l,c,null)}return s._geometry=a.fixSpatialReference(s.geometry(),e.spatialReference),s.immutable=!1,s}))},e.dictionary=function(e,n){return t(e,n,(function(e,t,n){if(0===n.length){var i=new r;return i.immutable=!1,i}if(1===n.length&&a.isString(n[0]))try{var u=JSON.parse(n[0]),o=r.convertObjectToArcadeDictionary(u);return o.immutable=!1,o}catch(e){throw new Error("Missing Parameters or Illegal Json")}if(n.length%2!=0)throw new Error("Missing Parameters");for(var s={},l=0;l<n.length;l+=2){var c=a.toString(n[l]),f=n[l+1];if(!(null==f||a.isString(f)||isNaN(f)||a.isDate(f)||a.isNumber(f)||a.isBoolean(f)||a.isArray(f)||a.isImmutableArray(f)))throw new Error("Illegal Argument");if(a.isFunctionParameter(f))throw new Error("Illegal Argument");f===a.voidOperation?s[c]=null:s[c]=f}var p=new r(s);return p.immutable=!1,p}))},e.haskey=function(e,i){return t(e,i,(function(e,t,i){a.pcCheck(i,2,2);var u=a.toString(i[1]);if(i[0]instanceof n)return i[0].hasField(u);if(i[0]instanceof r)return i[0].hasField(u);throw new Error("Illegal Argument")}))},e.indexof=function(e,r){return t(e,r,(function(e,t,r){a.pcCheck(r,2,2);var n=r[1];if(a.isArray(r[0])){for(var i=0;i<r[0].length;i++)if(a.equalityTest(n,r[0][i]))return i;return-1}if(a.isImmutableArray(r[0])){var u=r[0].length();for(i=0;i<u;i++)if(a.equalityTest(n,r[0].get(i)))return i;return-1}throw new Error("Illegal Argument")}))},e.angle=function(e,r){return t(e,r,(function(e,t,r){if(r=a.autoCastFeatureToGeometry(r),a.pcCheck(r,2,3),!(r[0]instanceof l))throw new Error("Illegal Argument");if(!(r[1]instanceof l))throw new Error("Illegal Argument");if(r.length>2&&!(r[2]instanceof l))throw new Error("Illegal Argument");return 2===r.length?p.angle2D(r[0],r[1]):p.angleBetween2D(r[0],r[1],r[2])}))},e.bearing=function(e,r){return t(e,r,(function(e,t,r){if(r=a.autoCastFeatureToGeometry(r),a.pcCheck(r,2,3),!(r[0]instanceof l))throw new Error("Illegal Argument");if(!(r[1]instanceof l))throw new Error("Illegal Argument");if(r.length>2&&!(r[2]instanceof l))throw new Error("Illegal Argument");return 2===r.length?p.bearing2D(r[0],r[1]):p.bearingBetween2D(r[0],r[1],r[2])}))},e.isselfintersecting=function(e,r){return t(e,r,(function(t,r,n){n=a.autoCastFeatureToGeometry(n),a.pcCheck(n,1,1);var i=n[0];if(i instanceof c)return i.isSelfIntersecting;if(i instanceof f)return i=i.paths,p.pathsSelfIntersecting(i);if(i instanceof s)for(var u=i.points,o=0;o<u.length;o++)for(var l=0;l<u.length;l++)if(l!==o){for(var m=!0,h=0;h<u[o].length;h++)if(u[o][h]!==u[l][h]){m=!1;break}if(!0===m)return!0}return!(!a.isArray(i)&&!a.isImmutableArray(i))&&(null!==(i=a.autoCastArrayOfPointsToPolyline(i,e.spatialReference))&&(i=i.paths),p.pathsSelfIntersecting(i))}))}}}.apply(null,n))||(e.exports=i)},GeVF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("oxlp"),r("Thzy")],void 0===(i=function(e,t,r,n){function i(e,t,r){var n={x:0,y:0};t&&(n.z=0),r&&(n.m=0);for(var i=0,u=e[0],l=0;l<e.length;l++){var c=e[l];if(!1===s(c,u)){var f=o(u,c,t),p=a(u,c,t,r);p.x*=f,p.y*=f,n.x+=p.x,n.y+=p.y,t&&(p.z*=f,n.z+=p.z),r&&(p.m*=f,n.m+=p.m),i+=f,u=c}}return i>0?(n.x/=i,n.y/=i,t&&(n.z/=i),r&&(n.m/=i)):(n.x=e[0][0],n.y=e[0][1],t&&(n.z=e[0][2]),r&&t?n.m=e[0][3]:r&&(n.m=e[0][2])),n}function a(e,t,r,n){var i={x:(e[0]+t[0])/2,y:(e[1]+t[1])/2};return r&&(i.z=(e[2]+t[2])/2),r&&n?i.m=(e[3]+t[3])/2:n&&(i.m=(e[2]+t[2])/2),i}function u(e,t){if(e.length<=1)return 0;for(var r=0,n=1;n<e.length;n++)r+=o(e[n-1],e[n],t);return r}function o(e,t,r){var n=t[0]-e[0],i=t[1]-e[1];if(r){var a=t[2]-t[2];return Math.sqrt(n*n+i*i+a*a)}return Math.sqrt(n*n+i*i)}function s(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function l(e,t,r){for(void 0===r&&(r=0);e<r;)e+=t;for(var n=r+t;e>=n;)e-=t;return e}function c(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}function f(e,t,r){var n,i,a={x:e.x-t.x,y:e.y-t.y},u={x:r.x-t.x,y:r.y-t.y};return Math.atan2((n=u).x*(i=a).y-i.x*n.y,function(e,t){return e.x*t.x+e.y*t.y}(u,a))}Object.defineProperty(t,"__esModule",{value:!0}),t.centroidPolyline=function(e){for(var t={x:0,y:0,spatialReference:e.spatialReference.toJSON()},n={x:0,y:0,spatialReference:e.spatialReference.toJSON()},a=0,o=0,s=0;s<e.paths.length;s++)if(0!==e.paths[s].length){var l=u(e.paths[s],!0===e.hasZ);if(0===l){var c=i(e.paths[s],!0===e.hasZ,!0===e.hasM);t.x+=c.x,t.y+=c.y,!0===e.hasZ&&(t.z+=c.z),!0===e.hasM&&(t.m+=c.m),++a}else c=i(e.paths[s],!0===e.hasZ,!0===e.hasM),n.x+=c.x*l,n.y+=c.y*l,!0===e.hasZ&&(n.z+=c.z*l),!0===e.hasM&&(n.m+=c.m*l),o+=l}return o>0?(n.x/=o,n.y/=o,!0===e.hasZ&&(n.z/=o),!0===e.hasM&&(n.m/=o),new r(n)):a>0?(t.x/=a,t.y/=a,!0===e.hasZ&&(n.z/=a),!0===e.hasM&&(t.m/=a),new r(t)):null},t.centroidMultiPoint=function(e){if(0===e.points.length)return null;for(var t=0,n=0,i=0,a=0,u=0;u<e.points.length;u++){var o=e.getPoint(u);!0===o.hasZ&&(i+=o.z),!0===o.hasM&&(a+=o.m),t+=o.x,n+=o.y,a+=o.m}var s={x:t/e.points.length,y:n/e.points.length,spatialReference:null};return s.spatialReference=e.spatialReference.toJSON(),!0===e.hasZ&&(s.z=i/e.points.length),!0===e.hasM&&(s.m=a/e.points.length),new r(s)},t.angleRad=c,t.angle2D=function(e,t){return l(c(e,t),2*Math.PI)*(180/Math.PI)},t.bearing2D=function(e,t){return l(Math.PI/2-c(e,t),2*Math.PI)*(180/Math.PI)},t.angleBetweenRad=f,t.angleBetween2D=function(e,t,r){return l(f(e,t,r),2*Math.PI)*(180/Math.PI)},t.bearingBetween2D=function(e,t,r){return l(-1*f(e,t,r),2*Math.PI)*(180/Math.PI)};var p=[0,0];t.pathsSelfIntersecting=function(e){for(var t=0;t<e.length;t++){for(var r=e[t],i=0;i<r.length-1;i++)for(var a=r[i],u=r[i+1],o=t+1;o<e.length;o++)for(var s=0;s<e[o].length-1;s++){var l=e[o][s],c=e[o][s+1];if(n.segmentIntersects(a,u,l,c,p)&&!(p[0]===a[0]&&p[1]===a[1]||p[0]===l[0]&&p[1]===l[1]||p[0]===u[0]&&p[1]===u[1]||p[0]===c[0]&&p[1]===c[1]))return!0}var f=r.length;if(!(f<3))for(i=0;i<=f-2;i++)for(a=r[i],u=r[i+1],o=i+2;o<=f-2;o++)if(l=r[o],c=r[o+1],n.segmentIntersects(a,u,l,c,p)&&!(p[0]===a[0]&&p[1]===a[1]||p[0]===l[0]&&p[1]===l[1]||p[0]===u[0]&&p[1]===u[1]||p[0]===c[0]&&p[1]===c[1]))return!0}return!1}}.apply(null,n))||(e.exports=i)},HKXX:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("B2KM")],void 0===(i=function(e,t,r,n){return function(e){function t(t,r,n,i,a){var u=e.call(this)||this;return u.attachmentUrl=a,u.immutable=!1,u.setField("id",t),u.setField("name",r),u.setField("contenttype",n),u.setField("size",i),u.immutable=!0,u}return r.__extends(t,e),t}(n)}.apply(null,n))||(e.exports=i)},Na27:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("urqW"),r("WoOE"),r("gfOZ"),r("GeVF"),r("N7S/"),r("YADd"),r("t78F"),r("oxlp"),r("Vt+U"),r("aYWh"),r("Lzvl")],void 0===(i=function(e,t,r,n,i,a,u,o,s,l,c,f,p){Object.defineProperty(t,"__esModule",{value:!0});var m=null;function h(e){return 0===r.version.indexOf("4.")?c.fromExtent(e):new c({spatialReference:e.spatialReference,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})}t.setGeometryEngine=function(e){m=e},t.registerFunctions=function(e,t){function r(e){if(i.pcCheck(e,2,2),e[0]instanceof o&&e[1]instanceof o);else if(e[0]instanceof o&&null===e[1]);else if(e[1]instanceof o&&null===e[0]);else if(null!==e[0]||null!==e[1])throw new Error("Illegal Argument")}e.disjoint=function(e,n){return t(e,n,(function(e,t,n){return r(n=i.autoCastFeatureToGeometry(n)),null===n[0]||null===n[1]||m.disjoint(n[0],n[1])}))},e.intersects=function(e,n){return t(e,n,(function(e,t,n){return r(n=i.autoCastFeatureToGeometry(n)),null!==n[0]&&null!==n[1]&&m.intersects(n[0],n[1])}))},e.touches=function(e,n){return t(e,n,(function(e,t,n){return r(n=i.autoCastFeatureToGeometry(n)),null!==n[0]&&null!==n[1]&&m.touches(n[0],n[1])}))},e.crosses=function(e,n){return t(e,n,(function(e,t,n){return r(n=i.autoCastFeatureToGeometry(n)),null!==n[0]&&null!==n[1]&&m.crosses(n[0],n[1])}))},e.within=function(e,n){return t(e,n,(function(e,t,n){return r(n=i.autoCastFeatureToGeometry(n)),null!==n[0]&&null!==n[1]&&m.within(n[0],n[1])}))},e.contains=function(e,n){return t(e,n,(function(e,t,n){return r(n=i.autoCastFeatureToGeometry(n)),null!==n[0]&&null!==n[1]&&m.contains(n[0],n[1])}))},e.overlaps=function(e,n){return t(e,n,(function(e,t,n){return r(n=i.autoCastFeatureToGeometry(n)),null!==n[0]&&null!==n[1]&&m.overlaps(n[0],n[1])}))},e.equals=function(e,r){return t(e,r,(function(e,t,r){return i.pcCheck(r,2,2),r[0]===r[1]||(r[0]instanceof o&&r[1]instanceof o?m.equals(r[0],r[1]):!(!i.isDate(r[0])||!i.isDate(r[1]))&&r[0].getTime()===r[1].getTime())}))},e.relate=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,3,3),r[0]instanceof o&&r[1]instanceof o)return m.relate(r[0],r[1],i.toString(r[2]));if(r[0]instanceof o&&null===r[1])return!1;if(r[1]instanceof o&&null===r[0])return!1;if(null===r[0]&&null===r[1])return!1;throw new Error("Illegal Argument")}))},e.intersection=function(e,n){return t(e,n,(function(e,t,n){return r(n=i.autoCastFeatureToGeometry(n)),null===n[0]||null===n[1]?null:m.intersect(n[0],n[1])}))},e.union=function(e,r){return t(e,r,(function(t,r,a){var u=[];if(0===(a=i.autoCastFeatureToGeometry(a)).length)throw new Error("Function called with wrong number of Parameters");if(1===a.length)if(i.isArray(a[0])){for(var s=i.autoCastFeatureToGeometry(a[0]),l=0;l<s.length;l++)if(null!==s[l]){if(!(s[l]instanceof o))throw new Error("Illegal Argument");u.push(s[l])}}else{if(!i.isImmutableArray(a[0])){if(a[0]instanceof o)return i.fixSpatialReference(n.cloneGeometry(a[0]),e.spatialReference);if(null===a[0])return null;throw new Error("Illegal Argument")}var c=i.autoCastFeatureToGeometry(a[0].toArray());for(l=0;l<c.length;l++)if(null!==c[l]){if(!(c[l]instanceof o))throw new Error("Illegal Argument");u.push(c[l])}}else for(l=0;l<a.length;l++)if(null!==a[l]){if(!(a[l]instanceof o))throw new Error("Illegal Argument");u.push(a[l])}return 0===u.length?null:m.union(u)}))},e.difference=function(e,a){return t(e,a,(function(e,t,a){return r(a=i.autoCastFeatureToGeometry(a)),null!==a[0]&&null===a[1]?n.cloneGeometry(a[0]):null===a[0]?null:m.difference(a[0],a[1])}))},e.symmetricdifference=function(e,a){return t(e,a,(function(e,t,a){return r(a=i.autoCastFeatureToGeometry(a)),null===a[0]&&null===a[1]?null:null===a[0]?n.cloneGeometry(a[1]):null===a[1]?n.cloneGeometry(a[0]):m.symmetricDifference(a[0],a[1])}))},e.clip=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,2),!(r[1]instanceof u)&&null!==r[1])throw new Error("Illegal Argument");if(null===r[0])return null;if(!(r[0]instanceof o))throw new Error("Illegal Argument");return null===r[1]?null:m.clip(r[0],r[1])}))},e.cut=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,2),!(r[1]instanceof f)&&null!==r[1])throw new Error("Illegal Argument");if(null===r[0])return[];if(!(r[0]instanceof o))throw new Error("Illegal Argument");return null===r[1]?[n.cloneGeometry(r[0])]:m.cut(r[0],r[1])}))},e.area=function(e,r){return t(e,r,(function(t,r,a){if(i.pcCheck(a,1,2),null===(a=i.autoCastFeatureToGeometry(a))[0])return 0;if(i.isArray(a[0])||i.isImmutableArray(a[0])){var u=i.autoCastArrayOfPointsToPolygon(a[0],e.spatialReference);return null===u?0:m.planarArea(u,n.convertSquareUnitsToCode(i.defaultUndefined(a[1],-1)))}if(!(a[0]instanceof o))throw new Error("Illegal Argument");return m.planarArea(a[0],n.convertSquareUnitsToCode(i.defaultUndefined(a[1],-1)))}))},e.areageodetic=function(e,r){return t(e,r,(function(t,r,a){if(i.pcCheck(a,1,2),null===(a=i.autoCastFeatureToGeometry(a))[0])return 0;if(i.isArray(a[0])||i.isImmutableArray(a[0])){var u=i.autoCastArrayOfPointsToPolygon(a[0],e.spatialReference);return null===u?0:m.geodesicArea(u,n.convertSquareUnitsToCode(i.defaultUndefined(a[1],-1)))}if(!(a[0]instanceof o))throw new Error("Illegal Argument");return m.geodesicArea(a[0],n.convertSquareUnitsToCode(i.defaultUndefined(a[1],-1)))}))},e.length=function(e,r){return t(e,r,(function(t,r,a){if(i.pcCheck(a,1,2),null===(a=i.autoCastFeatureToGeometry(a))[0])return 0;if(i.isArray(a[0])||i.isImmutableArray(a[0])){var u=i.autoCastArrayOfPointsToPolyline(a[0],e.spatialReference);return null===u?0:m.planarLength(u,n.convertLinearUnitsToCode(i.defaultUndefined(a[1],-1)))}if(!(a[0]instanceof o))throw new Error("Illegal Argument");return m.planarLength(a[0],n.convertLinearUnitsToCode(i.defaultUndefined(a[1],-1)))}))},e.lengthgeodetic=function(e,r){return t(e,r,(function(t,r,a){if(i.pcCheck(a,1,2),null===(a=i.autoCastFeatureToGeometry(a))[0])return 0;if(i.isArray(a[0])||i.isImmutableArray(a[0])){var u=i.autoCastArrayOfPointsToPolyline(a[0],e.spatialReference);return null===u?0:m.geodesicLength(u,n.convertLinearUnitsToCode(i.defaultUndefined(a[1],-1)))}if(!(a[0]instanceof o))throw new Error("Illegal Argument");return m.geodesicLength(a[0],n.convertLinearUnitsToCode(i.defaultUndefined(a[1],-1)))}))},e.distance=function(e,r){return t(e,r,(function(t,r,a){a=i.autoCastFeatureToGeometry(a),i.pcCheck(a,2,3);var u=a[0];(i.isArray(a[0])||i.isImmutableArray(a[0]))&&(u=i.autoCastArrayOfPointsToMultiPoint(a[0],e.spatialReference));var s=a[1];if((i.isArray(a[1])||i.isImmutableArray(a[1]))&&(s=i.autoCastArrayOfPointsToMultiPoint(a[1],e.spatialReference)),!(u instanceof o))throw new Error("Illegal Argument");if(!(s instanceof o))throw new Error("Illegal Argument");return m.distance(u,s,n.convertLinearUnitsToCode(i.defaultUndefined(a[2],-1)))}))},e.distancegeodetic=function(e,r){return t(e,r,(function(e,t,r){r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,3);var a=r[0],u=r[1];if(!(a instanceof l))throw new Error("Illegal Argument");if(!(u instanceof l))throw new Error("Illegal Argument");var o=new f({paths:[],spatialReference:a.spatialReference});return o.addPath([a,u]),m.geodesicLength(o,n.convertLinearUnitsToCode(i.defaultUndefined(r[2],-1)))}))},e.densify=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,3),null===r[0])return null;if(!(r[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(r[1]);if(isNaN(a))throw new Error("Illegal Argument");if(a<=0)throw new Error("Illegal Argument");return r[0]instanceof c||r[0]instanceof f?m.densify(r[0],a,n.convertLinearUnitsToCode(i.defaultUndefined(r[2],-1))):r[0]instanceof u?m.densify(h(r[0]),a,n.convertLinearUnitsToCode(i.defaultUndefined(r[2],-1))):r[0]}))},e.densifygeodetic=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,3),null===r[0])return null;if(!(r[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(r[1]);if(isNaN(a))throw new Error("Illegal Argument");if(a<=0)throw new Error("Illegal Argument");return r[0]instanceof c||r[0]instanceof f?m.geodesicDensify(r[0],a,n.convertLinearUnitsToCode(i.defaultUndefined(r[2],-1))):r[0]instanceof u?m.geodesicDensify(h(r[0]),a,n.convertLinearUnitsToCode(i.defaultUndefined(r[2],-1))):r[0]}))},e.generalize=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,4),null===r[0])return null;if(!(r[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(r[1]);if(isNaN(a))throw new Error("Illegal Argument");return m.generalize(r[0],a,i.toBoolean(i.defaultUndefined(r[2],!0)),n.convertLinearUnitsToCode(i.defaultUndefined(r[3],-1)))}))},e.buffer=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,3),null===r[0])return null;if(!(r[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(r[1]);if(isNaN(a))throw new Error("Illegal Argument");return 0===a?n.cloneGeometry(r[0]):m.buffer(r[0],a,n.convertLinearUnitsToCode(i.defaultUndefined(r[2],-1)))}))},e.buffergeodetic=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,3),null===r[0])return null;if(!(r[0]instanceof o))throw new Error("Illegal Argument");var a=i.toNumber(r[1]);if(isNaN(a))throw new Error("Illegal Argument");return 0===a?n.cloneGeometry(r[0]):m.geodesicBuffer(r[0],a,n.convertLinearUnitsToCode(i.defaultUndefined(r[2],-1)))}))},e.offset=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,6),null===r[0])return null;if(!(r[0]instanceof c||r[0]instanceof f))throw new Error("Illegal Argument");var a=i.toNumber(r[1]);if(isNaN(a))throw new Error("Illegal Argument");var u=i.toNumber(i.defaultUndefined(r[4],10));if(isNaN(u))throw new Error("Illegal Argument");var o=i.toNumber(i.defaultUndefined(r[5],0));if(isNaN(o))throw new Error("Illegal Argument");return m.offset(r[0],a,n.convertLinearUnitsToCode(i.defaultUndefined(r[2],-1)),i.toString(i.defaultUndefined(r[3],"round")).toLowerCase(),u,o)}))},e.rotate=function(e,r){return t(e,r,(function(e,t,r){r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,2,3);var n=r[0];if(null===n)return null;if(!(n instanceof o))throw new Error("Illegal Argument");n instanceof u&&(n=c.fromExtent(n));var a=i.toNumber(r[1]);if(isNaN(a))throw new Error("Illegal Argument");var s=i.defaultUndefined(r[2],null);if(null===s)return m.rotate(n,a);if(s instanceof l)return m.rotate(n,a,s);throw new Error("Illegal Argument")}))},e.centroid=function(e,r){return t(e,r,(function(t,r,p){if(p=i.autoCastFeatureToGeometry(p),i.pcCheck(p,1,1),null===p[0])return null;var m=p[0];if((i.isArray(p[0])||i.isImmutableArray(p[0]))&&(m=i.autoCastArrayOfPointsToMultiPoint(p[0],e.spatialReference)),null===m)return null;if(!(m instanceof o))throw new Error("Illegal Argument");return m instanceof l?i.fixSpatialReference(n.cloneGeometry(p[0]),e.spatialReference):m instanceof c?m.centroid:m instanceof f?a.centroidPolyline(m):m instanceof s?a.centroidMultiPoint(m):m instanceof u?m.center:null}))},e.multiparttosinglepart=function(e,r){return t(e,r,(function(t,r,a){a=i.autoCastFeatureToGeometry(a),i.pcCheck(a,1,1);var h=[];if(null===a[0])return null;if(!(a[0]instanceof o))throw new Error("Illegal Argument");if(a[0]instanceof l)return[i.fixSpatialReference(n.cloneGeometry(a[0]),e.spatialReference)];if(a[0]instanceof u)return[i.fixSpatialReference(n.cloneGeometry(a[0]),e.spatialReference)];var d=m.simplify(a[0]);if(d instanceof c){for(var y=[],g=[],D=0;D<d.rings.length;D++)if(d.isClockwise(d.rings[D])){var v=p.fromJSON({rings:[d.rings[D]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});y.push(v)}else g.push({ring:d.rings[D],pt:d.getPoint(D,0)});for(var E=0;E<g.length;E++)for(var b=0;b<y.length;b++)if(y[b].contains(g[E].pt)){y[b].addRing(g[E].ring);break}return y}if(d instanceof f){var C=[];for(D=0;D<d.paths.length;D++){var A=p.fromJSON({paths:[d.paths[D]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});C.push(A)}return C}if(a[0]instanceof s){var F=i.fixSpatialReference(n.cloneGeometry(a[0]),e.spatialReference);for(D=0;D<F.points.length;D++)h.push(F.getPoint(D));return h}return null}))},e.issimple=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,1,1),null===r[0])return!0;if(!(r[0]instanceof o))throw new Error("Illegal Argument");return m.isSimple(r[0])}))},e.simplify=function(e,r){return t(e,r,(function(e,t,r){if(r=i.autoCastFeatureToGeometry(r),i.pcCheck(r,1,1),null===r[0])return null;if(!(r[0]instanceof o))throw new Error("Illegal Argument");return m.simplify(r[0])}))}}}.apply(null,n))||(e.exports=i)},OSIf:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("rChG"),r("HKXX"),r("B2KM"),r("T8lH"),r("ABt8"),r("2CtR"),r("gfOZ"),r("sDeS"),r("/4o+"),r("CyLf"),r("Na27"),r("sAf+"),r("hiUs"),r("9iaF"),r("qMld"),r("N7S/"),r("YADd"),r("t78F"),r("oxlp"),r("Vt+U"),r("aYWh"),r("Z4y+")],void 0===(i=function(e,t,n,i,a,u,o,s,l,c,f,p,m,h,d,y,g,D,v,E,b,C,A,F){function S(e,t,r){try{return r(e,null,t)}catch(e){throw e}}function w(e){return e instanceof Error?g.reject(e):g.reject(new Error(e))}function N(e,t){try{switch(t.type){case"EmptyStatement":return"lc.voidOperation";case"VariableDeclarator":return function(e,t){var r=null===t.init?null:N(e,t.init);r===l.voidOperation&&(r=null);var n=t.id.name.toLowerCase();if(null!==e.localScope){if(void 0!==e.localScope[n])return"lscope['"+n+"']="+r+"; ";if(void 0!==e.localScope._SymbolsMap[n])return"lscope['"+e.localScope._SymbolsMap[n]+"']="+r+"; ";var i=R(e);return e.localScope._SymbolsMap[n]=i,e.mangleMap[n]=i,"lscope['"+i+"']="+r+"; "}return void 0!==e.globalScope[n]?"gscope['"+n+"']="+r+"; ":void 0!==e.globalScope._SymbolsMap[n]?"gscope['"+e.globalScope._SymbolsMap[n]+"']="+r+"; ":(i=R(e),e.globalScope._SymbolsMap[n]=i,e.mangleMap[n]=i,"gscope['"+i+"']="+r+"; ")}(e,t);case"VariableDeclaration":return function(e,t){for(var r=[],n=0;n<t.declarations.length;n++)r.push(N(e,t.declarations[n]));return r.join("\n")+" \n lastStatement=  lc.voidOperation; \n"}(e,t);case"BlockStatement":return I(e,t);case"FunctionDeclaration":return function(e,t){var r=t.id.name.toLowerCase(),n={isAsync:e.isAsync,spatialReference:e.spatialReference,console:e.console,lrucache:e.lrucache,services:e.services,symbols:e.symbols,mangleMap:e.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:e.depthCounter+1,globalScope:e.globalScope};if(n.depthCounter>64)throw new Error("Exceeded maximum function depth");for(var i="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement = lc.voidOperation; \n   var lscope = runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n",a=0;a<t.params.length;a++){var u=t.params[a].name.toLowerCase(),o=R(e);n.localScope._SymbolsMap[u]=o,n.mangleMap[u]=o,i+="lscope['"+o+"']=arguments["+a.toString()+"];\n"}return!0===e.isAsync?(i+="return lang.__awaiter(this, void 0, void 0, function* () {\n",i+=I(n,t.body)+"\n return lastStatement; ",i+="});  }",i+=", runtimeCtx))",i+="\n lastStatement = lc.voidOperation; \n"):(i+=I(n,t.body)+"\n return lastStatement; }, runtimeCtx))",i+="\n lastStatement = lc.voidOperation; \n"),void 0!==e.globalScope[r]?"gscope['"+r+"']="+i:void 0!==e.globalScope._SymbolsMap[r]?"gscope['"+e.globalScope._SymbolsMap[r]+"']="+i:(o=R(e),e.globalScope._SymbolsMap[r]=o,e.mangleMap[r]=o,"gscope['"+o+"']="+i)}(e,t);case"ReturnStatement":return function(e,t){return null===t.argument?"return lc.voidOperation":"return "+N(e,t.argument)}(e,t);case"IfStatement":return function(e,t){if("AssignmentExpression"===t.test.type||"UpdateExpression"===t.test.type)throw new Error(c.nodeErrorMessage(t.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var r=N(e,t.test),n=P(e),i="var "+n+" = "+r+";\n if ("+n+" === true) {\n"+x(e,t.consequent)+"\n }\n";return null!==t.alternate?i+="else if ("+n+"===false)   { \n"+x(e,t.alternate)+"}\n":i+="else if ("+n+"===false) { \n lastStatement = lc.voidOperation;\n }\n",i+"else { lang.error({type: '"+t.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n"}(e,t);case"ExpressionStatement":return function(e,t){return"AssignmentExpression"===t.expression.type?"lastStatement = lc.voidOperation; "+N(e,t.expression)+"; \n ":(t.expression.type,"lastStatement = "+N(e,t.expression)+"; ")}(e,t);case"AssignmentExpression":return function(e,t){var r=N(e,t.right),n=null;if("MemberExpression"===t.left.type)return"lang.assignmember("+(n=N(e,t.left.object))+","+(!0===t.left.computed?N(e,t.left.property):"'"+t.left.property.name+"'")+",'"+t.operator+"',"+r+")";if(n=t.left.name.toLowerCase(),null!==e.localScope){if(void 0!==e.localScope[n])return"lscope['"+n+"']=lang.assign("+r+",'"+t.operator+"', lscope['"+n+"'])";if(void 0!==e.localScope._SymbolsMap[n])return"lscope['"+e.localScope._SymbolsMap[n]+"']=lang.assign("+r+",'"+t.operator+"', lscope['"+e.localScope._SymbolsMap[n]+"'])"}if(void 0!==e.globalScope[n])return"gscope['"+n+"']=lang.assign("+r+",'"+t.operator+"', gscope['"+n+"'])";if(void 0!==e.globalScope._SymbolsMap[n])return"gscope['"+e.globalScope._SymbolsMap[n]+"']=lang.assign("+r+",'"+t.operator+"', gscope['"+e.globalScope._SymbolsMap[n]+"'])";throw new Error("Variable not recognised")}(e,t);case"UpdateExpression":return function(e,t){var r=null;if("MemberExpression"===t.argument.type)return"lang.memberupdate("+(r=N(e,t.argument.object))+","+(!0===t.argument.computed?N(e,t.argument.property):"'"+t.argument.property.name+"'")+",'"+t.operator+"',"+t.prefix+")";if(r=t.argument.name.toLowerCase(),null!==e.localScope){if(void 0!==e.localScope[r])return"lang.update(lscope, '"+r+"','"+t.operator+"',"+t.prefix+")";if(void 0!==e.localScope._SymbolsMap[r])return"lang.update(lscope, '"+e.localScope._SymbolsMap[r]+"','"+t.operator+"',"+t.prefix+")"}if(void 0!==e.globalScope[r])return"lang.update(gscope, '"+r+"','"+t.operator+"',"+t.prefix+")";if(void 0!==e.globalScope._SymbolsMap[r])return"lang.update(gscope, '"+e.globalScope._SymbolsMap[r]+"','"+t.operator+"',"+t.prefix+")";throw new Error("Variable not recognised")}(e,t);case"BreakStatement":return"break";case"ContinueStatement":return"continue";case"TemplateLiteral":return function(e,t){try{for(var r=[],n=0,i=0,a=t.quasis;i<a.length;i++){var u=a[i];r.push(u.value?JSON.stringify(u.value.cooked):JSON.stringify("")),!1===u.tail&&(r.push(t.expressions[n]?"lang.castString(lang.aCheck("+N(e,t.expressions[n])+", 'TemplateLiteral'))":""),n++)}return"(["+r.join(",")+"]).join('')"}catch(e){throw e}}(e,t);case"TemplateElement":return JSON.stringify(t.value?t.value.cooked:"");case"ForStatement":return function(e,t){var r="lastStatement = lc.voidOperation; \n";null!==t.init&&(r+=N(e,t.init)+"; ");var n=P(e),i=P(e);return r+="var "+n+" = true; ",r+="\n do { ",null!==t.update&&(r+=" if ("+n+"===false) {\n "+N(e,t.update)+"  \n}\n "+n+"=false; \n"),null!==t.test&&(r+="var "+i+" = "+N(e,t.test)+"; ",r+="if ("+i+"===false) { break; } else if ("+i+"!==true) { lang.error({type: '"+t.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n"),r+=N(e,t.body),null!==t.update&&(r+="\n "+N(e,t.update)),r+"\n"+n+" = true; \n} while(true);  lastStatement = lc.voidOperation; "}(e,t);case"ForInStatement":return function(e,t){var r=P(e),n=P(e),i=P(e),a="var "+r+" = "+N(e,t.right)+";\n";"VariableDeclaration"===t.left.type&&(a+=N(e,t.left));var u="VariableDeclaration"===t.left.type?t.left.declarations[0].id.name:t.left.name;u=u.toLowerCase();var o="";return null!==e.localScope&&(void 0!==e.localScope[u]?o="lscope['"+u+"']":void 0!==e.localScope._SymbolsMap[u]&&(o="lscope['"+e.localScope._SymbolsMap[u]+"']")),""===o&&(void 0!==e.globalScope[u]?o="gscope['"+u+"']":void 0!==e.globalScope._SymbolsMap[u]&&(o="gscope['"+e.globalScope._SymbolsMap[u]+"']")),a+="if ("+r+"===null) {  lastStatement = lc.voidOperation; }\n ",a+="else if (lc.isArray("+r+") || lc.isString("+r+")) {",a+="var "+n+"="+r+".length; \n",a+="for(var "+i+"=0; "+i+"<"+n+"; "+i+"++) {\n",a+=o+"="+i+";\n",a+=N(e,t.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n",a+="else if (lc.isImmutableArray("+r+")) {",a+="var "+n+"="+r+".length(); \n",a+="for(var "+i+"=0; "+i+"<"+n+"; "+i+"++) {\n",a+=o+"="+i+";\n",a+=N(e,t.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n",a+="else if (( "+r+" instanceof lang.Dictionary) || ( "+r+" instanceof lang.Feature)) {",a+="var "+n+"="+r+".keys(); \n",a+="for(var "+i+"=0; "+i+"<"+n+".length; "+i+"++) {\n",a+=o+"="+n+"["+i+"];\n",a+=N(e,t.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n",e.isAsync&&(a+="else if (lc.isFeatureSet("+r+")) {",a+="var "+n+"="+r+".iterator(runtimeCtx.abortSignal); \n",a+="for(var "+i+"=lang. graphicToFeature( yield "+n+".next(),"+r+"); "+i+"!=null; "+i+"=lang. graphicToFeature( yield "+n+".next(),"+r+")) {\n",a+=o+"="+i+";\n",a+=N(e,t.body),a+="\n}\n",a+=" lastStatement = lc.voidOperation; \n",a+=" \n}\n"),a+"else { lastStatement = lc.voidOperation; } \n"}(e,t);case"Identifier":return function(e,t){try{var r=t.name.toLowerCase();if(null!==e.localScope){if(void 0!==e.localScope[r])return"lscope['"+r+"']";if(void 0!==e.localScope._SymbolsMap[r])return"lscope['"+e.localScope._SymbolsMap[r]+"']"}if(void 0!==e.globalScope[r])return"gscope['"+r+"']";if(void 0!==e.globalScope._SymbolsMap[r])return"gscope['"+e.globalScope._SymbolsMap[r]+"']";throw new Error(c.nodeErrorMessage(t,"RUNTIME","VARIABLENOTFOUND"))}catch(e){throw e}}(e,t);case"MemberExpression":return function(e,t){try{var r;return r=!0===t.computed?N(e,t.property):"'"+t.property.name+"'","lang.member("+N(e,t.object)+","+r+")"}catch(e){throw e}}(e,t);case"Literal":return null===t.value||void 0===t.value?"null":JSON.stringify(t.value);case"ThisExpression":throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));case"CallExpression":return function(e,t){try{if("Identifier"!==t.callee.type)throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYNODESSUPPORTED"));var r=t.callee.name.toLowerCase(),n="";if(null!==e.localScope&&(void 0!==e.localScope[r]?n="lscope['"+r+"']":void 0!==e.localScope._SymbolsMap[r]&&(n="lscope['"+e.localScope._SymbolsMap[r]+"']")),""===n&&(void 0!==e.globalScope[r]?n="gscope['"+r+"']":void 0!==e.globalScope._SymbolsMap[r]&&(n="gscope['"+e.globalScope._SymbolsMap[r]+"']")),""!==n){for(var i="[",a=0;a<t.arguments.length;a++)a>0&&(i+=", "),i+=N(e,t.arguments[a]);return i+="]",e.isAsync?"(yield lang.callfunc("+n+","+i+",runtimeCtx) )":"lang.callfunc("+n+","+i+",runtimeCtx)"}throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTFOUND"))}catch(e){throw e}}(e,t);case"UnaryExpression":return function(e,t){try{return"lang.unary("+N(e,t.argument)+",'"+t.operator+"')"}catch(e){throw e}}(e,t);case"BinaryExpression":return function(e,t){try{return"lang.binary("+N(e,t.left)+","+N(e,t.right)+",'"+t.operator+"')"}catch(e){throw e}}(e,t);case"LogicalExpression":return function(e,t){try{if("AssignmentExpression"===t.left.type||"UpdateExpression"===t.left.type)throw new Error(c.nodeErrorMessage(t.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===t.right.type||"UpdateExpression"===t.right.type)throw new Error(c.nodeErrorMessage(t.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("&&"===t.operator||"||"===t.operator)return"(lang.logicalCheck("+N(e,t.left)+") "+t.operator+" lang.logicalCheck("+N(e,t.right)+"))";throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"))}catch(e){throw e}}(e,t);case"ConditionalExpression":throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));case"ArrayExpression":return function(e,t){try{for(var r=[],n=0;n<t.elements.length;n++)"Literal"===t.elements[n].type?r.push(N(e,t.elements[n])):r.push("lang.aCheck("+N(e,t.elements[n])+",'ArrayExpression')");return"["+r.join(",")+"]"}catch(e){throw e}}(e,t);case"ObjectExpression":return function(e,t){for(var r="lang.dictionary([",n=0;n<t.properties.length;n++){var i=t.properties[n];n>0&&(r+=","),r+="lang.strCheck("+("Identifier"===i.key.type?"'"+i.key.name+"'":N(e,i.key))+",'ObjectExpression'),lang.aCheck("+N(e,i.value)+", 'ObjectExpression')"}return r+"])"}(e,t);case"Property":return function(e,t){throw new Error("Should not get here")}();case"Array":throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));default:throw new Error(c.nodeErrorMessage(t,"RUNTIME","UNREOGNISED"))}}catch(e){throw e}}function x(e,t){return"BlockStatement"===t.type?N(e,t):"ReturnStatement"===t.type||"BreakStatement"===t.type||"ContinueStatement"===t.type?N(e,t)+"; ":"UpdateExpression"===t.type?"lastStatement = "+N(e,t)+"; ":"ExpressionStatement"===t.type?N(e,t):"ObjectExpression"===t.type?"lastStatement = "+N(e,t)+"; ":N(e,t)+"; "}function I(e,t){for(var r="",n=0;n<t.body.length;n++)"ReturnStatement"===t.body[n].type||"BreakStatement"===t.body[n].type||"ContinueStatement"===t.body[n].type?r+=N(e,t.body[n])+"; \n":"UpdateExpression"===t.body[n].type||"ObjectExpression"===t.body[n].type?r+="lastStatement = "+N(e,t.body[n])+"; \n":r+=N(e,t.body[n])+" \n";return r}Object.defineProperty(t,"__esModule",{value:!0});var O=0,T={};function B(e){return null===e?"":l.isArray(e)||l.isImmutableArray(e)?"Array":l.isDate(e)?"Date":l.isString(e)?"String":l.isBoolean(e)?"Boolean":l.isNumber(e)?"Number":e instanceof i?"Attachment":e instanceof n?"Portal":e instanceof a?"Dictionary":e instanceof u?"Feature":e instanceof b?"Point":e instanceof C?"Polygon":e instanceof A?"Polyline":e instanceof E?"Multipoint":e instanceof D?"Extent":l.isFunctionParameter(e)?"Function":l.isFeatureSet(e)?"FeatureSet":l.isFeatureSetCollection(e)?"FeatureSetCollection":e===l.voidOperation?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function k(e,t){var r=e.length,n=Math.floor(r/2);return 0===r?[]:1===r?[e[0]]:function(e,t,r){for(var n=[];e.length>0||t.length>0;)if(e.length>0&&t.length>0){var i=r(e[0],t[0]);isNaN(i)&&(i=0),i<=0?(n.push(e[0]),e=e.slice(1)):(n.push(t[0]),t=t.slice(1))}else e.length>0?(n.push(e[0]),e=e.slice(1)):t.length>0&&(n.push(t[0]),t=t.slice(1));return n}(k(e.slice(0,n),t),k(e.slice(n,r),t),t)}function R(e){return e.symbols.symbolCounter++,"_T"+e.symbols.symbolCounter.toString()}function P(e){return e.symbols.symbolCounter++,"_Tvar"+e.symbols.symbolCounter.toString()}f.registerFunctions(T,S),y.registerFunctions(T,S),h.registerFunctions(T,S),p.registerFunctions(T,S),d.registerFunctions(T,S),T.typeof=function(e,t){return S(e,t,(function(e,t,r){l.pcCheck(r,1,1);var n=B(r[0]);if("Unrecognised Type"===n)throw new Error("Unrecognised Type");return n}))},T.iif=function(e,t){try{return S(e,t,(function(e,t,r){if(l.pcCheck(r,3,3),!1===l.isBoolean(r[0]))throw new Error("IF Function must have a boolean test condition");return r[0]?r[1]:r[2]}))}catch(e){throw e}},T.decode=function(e,t){try{return S(e,t,(function(t,r,n){if(n.length<2)throw new Error("Missing Parameters");if(2===n.length)return n[1];if((n.length-1)%2==0)throw new Error("Must have a default value result.");var i=n[0];return function e(t,r,n,i){try{var a=r[n];if(l.equalityTest(a,i))return r[n+1];var u=r.length-n;return 1===u?r[n]:2===u?null:3===u?r[n+2]:e(t,r,n+2,i)}catch(e){throw e}}(e,n,1,i)}))}catch(e){throw e}},T.when=function(e,t){try{return S(e,t,(function(t,r,n){if(n.length<3)throw new Error("Missing Parameters");if(n.length%2==0)throw new Error("Must have a default value result.");var i=n[0];if(!1===l.isBoolean(i))throw new Error("WHEN needs boolean test conditions");return function e(t,r,n,i){try{if(!0===i)return r[n+1];if(3==r.length-n)return r[n+2];var a=r[n+2];if(!1===l.isBoolean(a))throw new Error("WHEN needs boolean test conditions");return e(t,r,n+2,a)}catch(e){throw e}}(e,n,0,i)}))}catch(e){throw e}},T.top=function(e,t){return S(e,t,(function(e,t,r){if(l.pcCheck(r,2,2),l.isArray(r[0]))return l.toNumber(r[1])>=r[0].length?r[0].slice(0):r[0].slice(0,l.toNumber(r[1]));if(l.isImmutableArray(r[0]))return l.toNumber(r[1])>=r[0].length()?r[0].slice(0):r[0].slice(0,l.toNumber(r[1]));throw new Error("Top cannot accept this parameter type")}))},T.first=function(e,t){return S(e,t,(function(e,t,r){return l.pcCheck(r,1,1),l.isArray(r[0])?0===r[0].length?null:r[0][0]:l.isImmutableArray(r[0])?0===r[0].length()?null:r[0].get(0):null}))},T.sort=function(e,t){return S(e,t,(function(t,r,n){l.pcCheck(n,1,2);var i=n[0];if(l.isImmutableArray(i)&&(i=i.toArray()),!1===l.isArray(i))throw new Error("Illegal Argument");if(n.length>1){if(!1===l.isFunctionParameter(n[1]))throw new Error("Illegal Argument");var a=i,u=function(e,r){return z.callfunc(n[1],[e,r],t)};return e.isAsync?function e(t,r){try{var n=t.length,i=Math.floor(n/2);if(0===n)return g.resolve([]);if(1===n)return g.resolve([t[0]]);var a=[e(t.slice(0,i),r),e(t.slice(i,n),r)];return g.all(a).then((function(e){return function e(t,r,n,i){return g.create((function(a,u){var o=i;t.length>0||r.length>0?t.length>0&&r.length>0?n(t[0],r[0]).then((function(s){try{isNaN(s)&&(s=1),s<=0?(o.push(t[0]),t=t.slice(1)):(o.push(r[0]),r=r.slice(1)),e(t,r,n,i).then((function(e){a(e)}),u)}catch(e){u(e)}}),u):t.length>0?(o.push(t[0]),t=t.slice(1),e(t,r,n,i).then((function(e){a(e)}),u)):r.length>0&&(o.push(r[0]),r=r.slice(1),e(t,r,n,i).then((function(e){a(e)}),u)):a(i)}))}(e[0],e[1],r,[])}))}catch(t){return g.reject(t)}}(a,u):a=k(a,(function(e,t){return u(e,t)}))}if(0===(a=i).length)return[];for(var o={},s=0;s<a.length;s++){var c=B(a[s]);""!==c&&(o[c]=!0)}if(!0===o.Array||!0===o.Dictionary||!0===o.Feature||!0===o.Point||!0===o.Polygon||!0===o.Polyline||!0===o.Multipoint||!0===o.Extent||!0===o.Function)return a.slice(0);var f=0,p="";for(var m in o)f++,p=m;return f>1||"String"===p?k(a,(function(e,t){if(null==e||e===l.voidOperation)return null==t||t===l.voidOperation?0:1;if(null==t||t===l.voidOperation)return-1;var r=l.toString(e),n=l.toString(t);return r<n?-1:r===n?0:1})):"Number"===p?k(a,(function(e,t){return e-t})):"Boolean"===p?k(a,(function(e,t){return e===t?0:t?-1:1})):"Date"===p?k(a,(function(e,t){return t-e})):a.slice(0)}))};var M={};for(var L in T)M[L]=new l.NativeFunction(T[L]);for(var L in m.registerFunctions(T,S),T)T[L]=new l.NativeFunction(T[L]);var _=function(){};_.prototype=T;var U=function(){};function G(e,t,r){var n={};for(var i in e||(e={}),r||(r={}),n._SymbolsMap={},n.textformatting=1,n.infinity=1,n.pi=1,t)n[i]=1;for(var i in r)n[i]=1;for(var i in e)n[i]=1;return n}U.prototype=M;var j={fixSpatialReference:l.fixSpatialReference,parseArguments:function(e,t){for(var r=[],n=0;n<t.arguments.length;n++)r.push(N(e,t.arguments[n]));return r},standardFunction:S};function Y(e,t){for(var r={mode:t,compiled:!0,functions:{},signatures:[],failDefferred:w,standardFunction:S,standardFunctionAsync:S,evaluateIdentifier:V},n=0;n<e.length;n++)e[n].registerFunctions(r);if("sync"===t){for(var i in r.functions)T[i]=new l.NativeFunction(r.functions[i]),_.prototype[i]=T[i];for(n=0;n<r.signatures.length;n++)c.addFunctionDeclaration(r.signatures[n],"sync")}else{for(var i in r.functions)M[i]=new l.NativeFunction(r.functions[i]),U.prototype[i]=M[i];for(n=0;n<r.signatures.length;n++)c.addFunctionDeclaration(r.signatures[n],"async")}}function V(e,t){var r=t.name;if("_SymbolsMap"===r)throw"Illegal";if(e.localStack.length>0){if("_t"!==r.substr(0,2).toLowerCase()&&void 0!==e.localStack[e.localStack.length-1][r])return e.localStack[e.localStack.length-1][r];var n=e.mangleMap[r];if(void 0!==n&&void 0!==e.localStack[e.localStack.length-1][n])return e.localStack[e.localStack.length-1][n]}if("_t"!==r.substr(0,2).toLowerCase()&&void 0!==e.globalScope[r])return e.globalScope[r];if(1===e.globalScope._SymbolsMap[r])return e.globalScope[r];var i=e.mangleMap[r];return void 0!==i?e.globalScope[i]:void 0}t.functionHelper=j,t.extend=Y,t.executeScript=function(e,t){return e(t)},t.extractFieldLiterals=function(e,t){return void 0===t&&(t=!1),c.findFieldLiterals(e)},t.validateScript=function(e,t){return c.validateScript(e,t,"sync")},t.referencesMember=function(e,t){return c.referencesMember(e,t)},t.referencesFunction=function(e,t){return c.referencesFunction(e,t)};var q=0,z={error:function(e,t,r){throw new Error(c.nodeErrorMessage(e,t,r))},__awaiter:function(e,t,r,n){return g.create((function(r,i){function a(e){try{o(n.next(e))}catch(e){i(e)}}function u(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){e.done?r(e.value):e.value&&e.value.then?e.value.then(a,u):++q%100==0?setTimeout((function(){q=0,a(e.value)}),0):a(e.value)}o((n=n.apply(e,t||[])).next())}))},functionDepthchecker:function(e,t){return function(){if(t.depthCounter++,t.localStack.push([]),t.depthCounter>64)throw new Error("Exceeded maximum function depth");var r=e.apply(this,arguments);return g.isPromiseLike(r)?r.then((function(e){return t.depthCounter--,t.localStack.length=t.localStack.length-1,e})):(t.depthCounter--,t.localStack.length=t.localStack.length-1,r)}},castString:function(e){return l.toString(e)},aCheck:function(e,t){if(l.isFunctionParameter(e))throw new Error(c.nodeErrorMessage({type:t},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return e===l.voidOperation?null:e},Dictionary:a,Feature:u,dictionary:function(e){for(var t={},r=0;r<e.length;r+=2){if(l.isFunctionParameter(e[r+1]))throw new Error("Illegal Argument");if(!1===l.isString(e[r]))throw new Error("Illegal Argument");e[r+1]===l.voidOperation?t[e[r].toString()]=null:t[e[r].toString()]=e[r+1]}var n=new a(t);return n.immutable=!1,n},strCheck:function(e){if(!1===l.isString(e))throw new Error("Illegal Argument");return e},unary:function(e,t){if(l.isBoolean(e)){if("!"===t)return!e;if("-"===t)return-1*l.toNumber(e);if("+"===t)return 1*l.toNumber(e);if("~"===t)return~l.toNumber(e);var r={type:"UnaryExpression",operator:t,prefix:null,argument:null};throw new Error(c.nodeErrorMessage(r,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("-"===t)return-1*l.toNumber(e);if("+"===t)return 1*l.toNumber(e);if("~"===t)return~l.toNumber(e);var n={type:"UnaryExpression",operator:t,prefix:null,argument:null};throw new Error(c.nodeErrorMessage(n,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))},logicalCheck:function(e){if(!1===l.isBoolean(e))throw new Error(c.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return e},logical:function(e,t,r){if(l.isBoolean(e)&&l.isBoolean(t))switch(r){case"||":return e||t;case"&&":return e&&t;default:throw new Error(c.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))}throw new Error(c.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))},binary:function(e,t,r){switch(r){case"|":case"<<":case">>":case">>>":case"^":case"&":return l.binaryOperator(l.toNumber(e),l.toNumber(t),r);case"==":case"=":return l.equalityTest(e,t);case"!=":return!l.equalityTest(e,t);case"<":case">":case"<=":case">=":return l.greaterThanLessThan(e,t,r);case"+":return l.isString(e)||l.isString(t)?l.toString(e)+l.toString(t):l.toNumber(e)+l.toNumber(t);case"-":return l.toNumber(e)-l.toNumber(t);case"*":return l.toNumber(e)*l.toNumber(t);case"/":return l.toNumber(e)/l.toNumber(t);case"%":return l.toNumber(e)%l.toNumber(t);default:var n={type:"BinaryExpression",operator:r,left:e,right:t};throw new Error(c.nodeErrorMessage(n,"RUNTIME","OPERATORNOTRECOGNISED"))}},assign:function(e,t,r){switch(t){case"=":return e===l.voidOperation?null:e;case"/=":return l.toNumber(r)/l.toNumber(e);case"*=":return l.toNumber(r)*l.toNumber(e);case"-=":return l.toNumber(r)-l.toNumber(e);case"+=":return l.isString(r)||l.isString(e)?l.toString(r)+l.toString(e):l.toNumber(r)+l.toNumber(e);case"%=":return l.toNumber(r)%l.toNumber(e);default:var n={type:"AssignmentExpression",operator:t,left:null,right:null};throw new Error(c.nodeErrorMessage(n,"RUNTIME","OPERATORNOTRECOGNISED"))}},update:function(e,t,r,n){var i=l.toNumber(e[t]);return e[t]="++"===r?i+1:i-1,!1===n?i:"++"===r?i+1:i-1},graphicToFeature:function(e,t){return null===e?null:u.createFromGraphicLikeObject(e.geometry,e.attributes,t)},memberupdate:function(e,t,r,n){var i;if(l.isArray(e)){if(!l.isNumber(t))throw new Error("Invalid Parameter");if(t<0&&(t=e.length+t),t<0||t>=e.length)throw new Error("Assignment outside of array bounds");i=l.toNumber(e[t]),e[t]="++"===r?i+1:i-1}else if(e instanceof a){if(!1===l.isString(t))throw new Error("Dictionary accessor must be a string");if(!0!==e.hasField(t))throw new Error("Invalid Parameter");i=l.toNumber(e.field(t)),e.setField(t,"++"===r?i+1:i-1)}else{if(!(e instanceof u))throw l.isImmutableArray(e)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===l.isString(t))throw new Error("Feature accessor must be a string");if(!0!==e.hasField(t))throw new Error("Invalid Parameter");i=l.toNumber(e.field(t)),e.setField(t,"++"===r?i+1:i-1)}return!1===n?i:"++"===r?i+1:i-1},assignmember:function(e,t,r,n){if(l.isArray(e)){if(!l.isNumber(t))throw new Error("Invalid Parameter");if(t<0&&(t=e.length+t),t<0||t>e.length)throw new Error("Assignment outside of array bounds");if(t===e.length){if("="!==r)throw new Error("Invalid Parameter");e[t]=this.assign(n,r,e[t])}else e[t]=this.assign(n,r,e[t])}else if(e instanceof a){if(!1===l.isString(t))throw new Error("Dictionary accessor must be a string");if(!0===e.hasField(t))e.setField(t,this.assign(n,r,e.field(t)));else{if("="!==r)throw new Error("Invalid Parameter");e.setField(t,this.assign(n,r,null))}}else{if(!(e instanceof u))throw l.isImmutableArray(e)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===l.isString(t))throw new Error("Feature accessor must be a string");if(!0===e.hasField(t))e.setField(t,this.assign(n,r,e.field(t)));else{if("="!==r)throw new Error("Invalid Parameter");e.setField(t,this.assign(n,r,null))}}},member:function(e,t){if(null===e)throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(e instanceof a||e instanceof u){if(l.isString(t))return e.field(t);throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(e instanceof v){if(l.isString(t))return function(e,t,r){var n;switch(t=t.toLowerCase()){case"hasz":var i=e.hasZ;return void 0!==i&&i;case"hasm":var u=e.hasM;return void 0!==u&&u;case"spatialreference":var l=e.spatialReference._arcadeCacheId;if(void 0===l){var f=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(f=!1),f&&(O++,e.spatialReference._arcadeCacheId=O,l=O)}var p=new a({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==l&&(p._arcadeCacheId="SPREF"+l.toString()),p}switch(e.type){case"extent":switch(t){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":var m=e[t];return void 0!==m?m:null;case"type":return"Extent"}break;case"polygon":switch(t){case"rings":return void 0===(n=e.cache._arcadeCacheId)&&(n=++O,e.cache._arcadeCacheId=n),new o(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,n);case"type":return"Polygon"}break;case"point":switch(t){case"x":case"y":case"z":case"m":return void 0!==e[t]?e[t]:null;case"type":return"Point"}break;case"polyline":switch(t){case"paths":return void 0===(n=e.cache._arcadeCacheId)&&(n=++O,e.cache._arcadeCacheId=n),new o(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,n);case"type":return"Polyline"}break;case"multipoint":switch(t){case"points":return void 0===(n=e.cache._arcadeCacheId)&&(n=++O,e.cache._arcadeCacheId=n),new s(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,n,1);case"type":return"Multipoint"}}throw new Error(c.nodeErrorMessage("MemberExpression","RUNTIME","PROPERTYNOTFOUND"))}(e,t);throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(l.isArray(e)){if(l.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){if(t<0&&(t=e.length+t),t>=e.length||t<0)throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return e[t]}throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(l.isString(e)){if(l.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){if(t<0&&(t=e.length+t),t>=e.length||t<0)throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return e[t]}throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(l.isImmutableArray(e)){if(l.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){if(t<0&&(t=e.length()+t),t>=e.length()||t<0)throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return e.get(t)}throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}throw new Error(c.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))},callfunc:function(e,t,r){return e instanceof l.NativeFunction?e.fn(r,t):e instanceof l.SizzleFunction?e.fn.apply(this,t):e.apply(this,t)}};function J(e){}t.compileScript=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1),null===t&&(t={vars:{},customfunctions:{}});var n={isAsync:r,globalScope:G(t.vars,r?M:T,t.customfunctions),localScope:null,mangleMap:{},console:J,lrucache:t.lrucache,services:t.services,symbols:{symbolCounter:0}},i=N(n,e.body[0].body);""===i&&(i="lc.voidOperation; ");var o={lc:l,lang:z,mangles:n.mangleMap,postProcess:function(e){if(e instanceof l.ReturnResult&&(e=e.value),e instanceof l.ImplicitResult&&(e=e.value),e===l.voidOperation&&(e=null),e===l.breakResult)throw new Error("Cannot return BREAK");if(e===l.continueResult)throw new Error("Cannot return CONTINUE");if(l.isFunctionParameter(e))throw new Error("Cannot return FUNCTION");return e},prepare:function(e,t){var r=e.spatialReference;null==r&&(r=new F({wkid:102100}));var n=function(e,t,r){var n=r?new U:new _;e||(e={}),t||(t={});var i=new a({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});for(var o in i.immutable=!1,n._SymbolsMap={textformatting:1,infinity:1,pi:1},n.textformatting=i,n.infinity=Number.POSITIVE_INFINITY,n.pi=Math.PI,t)n[o]=t[o],n._SymbolsMap[o]=1;for(var o in e)n._SymbolsMap[o]=1,e[o]&&"esri.Graphic"===e[o].declaredClass?n[o]=u.createFromGraphic(e[o]):n[o]=e[o];return n}(e.vars,e.customfunctions,t);return{localStack:[],isAsync:t,mangleMap:this.mangles,spatialReference:r,globalScope:n,abortSignal:void 0===e.abortSignal||null===e.abortSignal?{aborted:!1}:e.abortSignal,localScope:null,services:e.services,console:e.console?e.console:J,lrucache:e.lrucache,symbols:{symbolCounter:0},depthCounter:1}}};return new Function("context","spatialReference",r?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+i+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+i+"\n return lastStatement; } \n return this.postProcess(mainBody()); ").bind(o)},t.enableAsyncSupport=function(){return g.create((function(e,t){r.e(85).then((function(){var t=[r("G6wh")];(function(t){Y([t],"async"),e(!0)}).apply(null,t)})).catch((function(e){t(e)}))}))}}.apply(null,n))||(e.exports=i)},QlEX:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("sDeS"),r("oVPt")],void 0===(i=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseScript=function(e,t){void 0===t&&(t=[]);var i=n.parse("function _() { "+e+"\n}");if(null===i.body||void 0===i.body)throw new Error("No formula provided.");if(0===i.body.length)throw new Error("No formula provided.");if(0===i.body.length)throw new Error("No formula provided.");if("BlockStatement"!==i.body[0].body.type)throw new Error("Invalid formula content.");var a=r.validateLanguage(i);if(""!==a)throw new Error(a);return r.findScriptDependencies(i,t),i},t.scriptCheck=function(e,t,i,a,u){var o=[];try{var s=n.parse("function _() { "+e+"\n}",{tolerant:!0,loc:!0}),l=s.errors;if(l.length>0)for(var c=0;c<l.length;c++)o.push({line:l[c].lineNumber,character:l[c].column,reason:l[c].description});for(var f=r.checkScript(s,t,i,a,u),p=0;p<f.length;p++)o.push(f[p])}catch(t){try{"Unexpected token }"===t.description?(t.index=("function _() { "+e+"\n}").length-1,o.push({line:t.lineNumber,character:t.column,reason:"Unexpected end of script"})):o.push({line:t.lineNumber,character:t.column,reason:t.description})}catch(e){}}return o},t.extractFieldLiterals=function(e,t){return void 0===t&&(t=!1),r.findFieldLiterals(e)},t.validateScript=function(e,t,n){return r.validateScript(e,t,n)},t.referencesMember=function(e,t){return r.referencesMember(e,t)},t.referencesFunction=function(e,t){return r.referencesFunction(e,t)}}.apply(null,n))||(e.exports=i)},RdlP:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("rChG"),r("HKXX"),r("B2KM"),r("T8lH"),r("AxL/"),r("ABt8"),r("2CtR"),r("gfOZ"),r("sDeS"),r("/4o+"),r("CyLf"),r("Na27"),r("sAf+"),r("hiUs"),r("9iaF"),r("N7S/"),r("YADd"),r("t78F"),r("oxlp"),r("Vt+U"),r("aYWh"),r("Z4y+")],void 0===(i=function(e,t,r,n,i,a,u,o,s,l,c,f,p,m,h,d,y,g,D,v,E,b,C,A){function F(e,t){for(var r=[],n=0;n<t.arguments.length;n++)r.push(w(e,t.arguments[n]));return r}function S(e,t,r){try{return r(e,t,F(e,t))}catch(e){throw e}}function w(e,t){try{switch(t.type){case"EmptyStatement":return l.voidOperation;case"VariableDeclarator":return function(e,t){var r=null===t.init?null:w(e,t.init);if(r===l.voidOperation&&(r=null),"Identifier"!==t.id.type)throw new Error("Can only assign a regular variable");var n=t.id.name.toLowerCase();return null!==e.localScope?e.localScope[n]={value:r,valueset:!0,node:t.init}:e.globalScope[n]={value:r,valueset:!0,node:t.init},l.voidOperation}(e,t);case"VariableDeclaration":return function(e,t){for(var r=0;r<t.declarations.length;r++)w(e,t.declarations[r]);return l.voidOperation}(e,t);case"BlockStatement":return function(e,t){for(var r=l.voidOperation,n=0;n<t.body.length;n++)if((r=w(e,t.body[n]))instanceof l.ReturnResult||r===l.breakResult||r===l.continueResult)return r;return r}(e,t);case"FunctionDeclaration":return function(e,t){var r=t.id.name.toLowerCase();return e.globalScope[r]={valueset:!0,node:null,value:new u(t,e)},l.voidOperation}(e,t);case"ReturnStatement":return function(e,t){if(null===t.argument)return new l.ReturnResult(l.voidOperation);var r=w(e,t.argument);return new l.ReturnResult(r)}(e,t);case"IfStatement":return function(e,t){if("AssignmentExpression"===t.test.type||"UpdateExpression"===t.test.type)throw new Error(c.nodeErrorMessage(t.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var r=w(e,t.test);if(!0===r)return w(e,t.consequent);if(!1===r)return null!==t.alternate?w(e,t.alternate):l.voidOperation;throw new Error(c.nodeErrorMessage(t,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}(e,t);case"ExpressionStatement":return function(e,t){return"AssignmentExpression"===t.expression.type||"UpdateExpression"===t.expression.type?w(e,t.expression):(t.expression.type,(r=w(e,t.expression))===l.voidOperation?l.voidOperation:new l.ImplicitResult(r));var r}(e,t);case"AssignmentExpression":return function(e,t){var r=w(e,t.right),n=null,u="";if("MemberExpression"===t.left.type){if(n=w(e,t.left.object),!0===t.left.computed?u=w(e,t.left.property):"Identifier"===t.left.property.type&&(u=t.left.property.name),l.isArray(n)){if(!l.isNumber(u))throw new Error("Invalid Parameter");if(u<0&&(u=n.length+u),u<0||u>n.length)throw new Error("Assignment outside of array bounds");if(u===n.length){if("="!==t.operator)throw new Error("Invalid Parameter");n[u]=x(r,t.operator,n[u],t)}else n[u]=x(r,t.operator,n[u],t)}else if(n instanceof i){if(!1===l.isString(u))throw new Error("Dictionary accessor must be a string");if(!0===n.hasField(u))n.setField(u,x(r,t.operator,n.field(u),t));else{if("="!==t.operator)throw new Error("Invalid Parameter");n.setField(u,x(r,t.operator,null,t))}}else{if(!(n instanceof a))throw l.isImmutableArray(n)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===l.isString(u))throw new Error("Feature accessor must be a string");if(!0===n.hasField(u))n.setField(u,x(r,t.operator,n.field(u),t));else{if("="!==t.operator)throw new Error("Invalid Parameter");n.setField(u,x(r,t.operator,null,t))}}return l.voidOperation}if(n=t.left.name.toLowerCase(),null!==e.localScope&&void 0!==e.localScope[n])return e.localScope[n]={value:x(r,t.operator,e.localScope[n].value,t),valueset:!0,node:t.right},l.voidOperation;if(void 0!==e.globalScope[n])return e.globalScope[n]={value:x(r,t.operator,e.globalScope[n].value,t),valueset:!0,node:t.right},l.voidOperation;throw new Error("Variable not recognised")}(e,t);case"UpdateExpression":return function(e,t){var r,n=null,u="";if("MemberExpression"===t.argument.type){if(n=w(e,t.argument.object),!0===t.argument.computed?u=w(e,t.argument.property):"Identifier"===t.argument.property.type&&(u=t.argument.property.name),l.isArray(n)){if(!l.isNumber(u))throw new Error("Invalid Parameter");if(u<0&&(u=n.length+u),u<0||u>=n.length)throw new Error("Assignment outside of array bounds");r=l.toNumber(n[u]),n[u]="++"===t.operator?r+1:r-1}else if(n instanceof i){if(!1===l.isString(u))throw new Error("Dictionary accessor must be a string");if(!0!==n.hasField(u))throw new Error("Invalid Parameter");r=l.toNumber(n.field(u)),n.setField(u,"++"===t.operator?r+1:r-1)}else{if(!(n instanceof a))throw l.isImmutableArray(n)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===l.isString(u))throw new Error("Feature accessor must be a string");if(!0!==n.hasField(u))throw new Error("Invalid Parameter");r=l.toNumber(n.field(u)),n.setField(u,"++"===t.operator?r+1:r-1)}return!1===t.prefix?r:"++"===t.operator?r+1:r-1}if(!(n="Identifier"===t.argument.type?t.argument.name.toLowerCase():""))throw new Error("Invalid identifier");if(null!==e.localScope&&void 0!==e.localScope[n])return r=l.toNumber(e.localScope[n].value),e.localScope[n]={value:"++"===t.operator?r+1:r-1,valueset:!0,node:t},!1===t.prefix?r:"++"===t.operator?r+1:r-1;if(void 0!==e.globalScope[n])return r=l.toNumber(e.globalScope[n].value),e.globalScope[n]={value:"++"===t.operator?r+1:r-1,valueset:!0,node:t},!1===t.prefix?r:"++"===t.operator?r+1:r-1;throw new Error("Variable not recognised")}(e,t);case"BreakStatement":return l.breakResult;case"ContinueStatement":return l.continueResult;case"TemplateElement":return function(e,t){return t.value?t.value.cooked:""}(0,t);case"TemplateLiteral":return function(e,t){for(var r="",n=0,i=0,a=t.quasis;i<a.length;i++){var u=a[i];if(r+=u.value?u.value.cooked:"",!1===u.tail)r+=t.expressions[n]?l.toString(w(e,t.expressions[n])):"",n++}return r}(e,t);case"ForStatement":return function(e,t){null!==t.init&&w(e,t.init);var r={testResult:!0,lastAction:l.voidOperation};do{N(e,t,r)}while(!0===r.testResult);return r.lastAction instanceof l.ReturnResult?r.lastAction:l.voidOperation}(e,t);case"ForInStatement":return function(e,t){var r=w(e,t.right);"VariableDeclaration"===t.left.type&&w(e,t.left);var n=null,u="";if("VariableDeclaration"===t.left.type){var o=t.left.declarations[0].id;"Identifier"===o.type&&(u=o.name)}else"Identifier"===t.left.type&&(u=t.left.name);if(!u)throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDVARIABLE"));if(u=u.toLowerCase(),null!==e.localScope&&void 0!==e.localScope[u]&&(n=e.localScope[u]),null===n&&void 0!==e.globalScope[u]&&(n=e.globalScope[u]),null===n)throw new Error(c.nodeErrorMessage(t,"RUNTIME","VARIABLENOTDECLARED"));if(l.isArray(r)||l.isString(r)){for(var s=r.length,f=0;f<s&&(n.value=f,(h=w(e,t.body))!==l.breakResult);f++)if(h instanceof l.ReturnResult)return h;return l.voidOperation}if(l.isImmutableArray(r)){for(f=0;f<r.length()&&(n.value=f,(h=w(e,t.body))!==l.breakResult);f++)if(h instanceof l.ReturnResult)return h;return l.voidOperation}if(!(r instanceof i||r instanceof a))return l.voidOperation;for(var p=r.keys(),m=0;m<p.length;m++){var h;if(n.value=p[m],(h=w(e,t.body))===l.breakResult)break;if(h instanceof l.ReturnResult)return h}}(e,t);case"Identifier":return T(e,t);case"MemberExpression":return function(e,t){try{var r=w(e,t.object);if(null===r)throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTFOUND"));if(!1===t.computed){if("Identifier"===t.property.type){if(r instanceof i||r instanceof a)return r.field(t.property.name);if(r instanceof D)return O(r,t.property.name,t)}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}var n=w(e,t.property);if(r instanceof i||r instanceof a){if(l.isString(n))return r.field(n);throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}if(r instanceof D){if(l.isString(n))return O(r,n,t);throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}if(l.isArray(r)){if(l.isNumber(n)&&isFinite(n)&&Math.floor(n)===n){if(n<0&&(n=r.length+n),n>=r.length||n<0)throw new Error(c.nodeErrorMessage(t,"RUNTIME","OUTOFBOUNDS"));return r[n]}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}if(l.isString(r)){if(l.isNumber(n)&&isFinite(n)&&Math.floor(n)===n){if(n<0&&(n=r.length+n),n>=r.length||n<0)throw new Error(c.nodeErrorMessage(t,"RUNTIME","OUTOFBOUNDS"));return r[n]}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}if(l.isImmutableArray(r)){if(l.isNumber(n)&&isFinite(n)&&Math.floor(n)===n){if(n<0&&(n=r.length()+n),n>=r.length()||n<0)throw new Error(c.nodeErrorMessage(t,"RUNTIME","OUTOFBOUNDS"));return r.get(n)}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}throw new Error(c.nodeErrorMessage(t,"RUNTIME","INVALIDTYPE"))}catch(e){throw e}}(e,t);case"Literal":return t.value;case"CallExpression":return function(e,t){try{if("Identifier"!==t.callee.type)throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==e.localScope&&void 0!==e.localScope[t.callee.name.toLowerCase()]){if((r=e.localScope[t.callee.name.toLowerCase()]).value instanceof l.NativeFunction)return r.value.fn(e,t);if(r.value instanceof u)return M(e,t,r.value.definition);throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTAFUNCTION"))}if(void 0!==e.globalScope[t.callee.name.toLowerCase()]){var r;if((r=e.globalScope[t.callee.name.toLowerCase()]).value instanceof l.NativeFunction)return r.value.fn(e,t);if(r.value instanceof u)return M(e,t,r.value.definition);throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTAFUNCTION"))}throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTFOUND"))}catch(e){throw e}}(e,t);case"UnaryExpression":return function(e,t){try{var r=w(e,t.argument);if(l.isBoolean(r)){if("!"===t.operator)return!r;if("-"===t.operator)return-1*l.toNumber(r);if("+"===t.operator)return 1*l.toNumber(r);if("~"===t.operator)return~l.toNumber(r);throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("~"===t.operator)return~l.toNumber(r);if("-"===t.operator)return-1*l.toNumber(r);if("+"===t.operator)return 1*l.toNumber(r);throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}catch(e){throw e}}(e,t);case"BinaryExpression":return function(e,t){try{var r=[w(e,t.left),w(e,t.right)],n=r[0],i=r[1];switch(t.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return l.binaryOperator(l.toNumber(n),l.toNumber(i),t.operator);case"==":return l.equalityTest(n,i);case"!=":return!l.equalityTest(n,i);case"<":case">":case"<=":case">=":return l.greaterThanLessThan(n,i,t.operator);case"+":return l.isString(n)||l.isString(i)?l.toString(n)+l.toString(i):l.toNumber(n)+l.toNumber(i);case"-":return l.toNumber(n)-l.toNumber(i);case"*":return l.toNumber(n)*l.toNumber(i);case"/":return l.toNumber(n)/l.toNumber(i);case"%":return l.toNumber(n)%l.toNumber(i);default:throw new Error(c.nodeErrorMessage(t,"RUNTIME","OPERATORNOTRECOGNISED"))}}catch(e){throw e}}(e,t);case"LogicalExpression":return function(e,t){try{if("AssignmentExpression"===t.left.type||"UpdateExpression"===t.left.type)throw new Error(c.nodeErrorMessage(t.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===t.right.type||"UpdateExpression"===t.right.type)throw new Error(c.nodeErrorMessage(t.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var r=w(e,t.left);if(l.isBoolean(r))switch(t.operator){case"||":if(!0===r)return r;var n=w(e,t.right);if(l.isBoolean(n))return n;throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"));case"&&":if(!1===r)return r;if(n=w(e,t.right),l.isBoolean(n))return n;throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"));default:throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"))}throw new Error(c.nodeErrorMessage(t,"RUNTIME","ONLYBOOLEAN"))}catch(e){throw e}}(e,t);case"ConditionalExpression":throw new Error(c.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));case"ArrayExpression":return function(e,t){try{for(var r=[],n=0;n<t.elements.length;n++){var i=w(e,t.elements[n]);if(l.isFunctionParameter(i))throw new Error(c.nodeErrorMessage(t,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));i===l.voidOperation?r.push(null):r.push(i)}return r}catch(e){throw e}}(e,t);case"ObjectExpression":return function(e,t){for(var r={},n=0;n<t.properties.length;n++){var a=w(e,t.properties[n]);if(l.isFunctionParameter(a.value))throw new Error("Illegal Argument");if(!1===l.isString(a.key))throw new Error("Illegal Argument");a.value===l.voidOperation?r[a.key.toString()]=null:r[a.key.toString()]=a.value}var u=new i(r);return u.immutable=!1,u}(e,t);case"Property":return function(e,t){return{key:"Identifier"===t.key.type?t.key.name:w(e,t.key),value:w(e,t.value)}}(e,t);default:throw new Error(c.nodeErrorMessage(t,"RUNTIME","UNREOGNISED"))}}catch(e){throw e}}function N(e,t,r){if(null!==t.test){if(r.testResult=w(e,t.test),!1===r.testResult)return;if(!0!==r.testResult)throw new Error(c.nodeErrorMessage(t,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}r.lastAction=w(e,t.body),r.lastAction!==l.breakResult?r.lastAction instanceof l.ReturnResult?r.testResult=!1:null!==t.update&&w(e,t.update):r.testResult=!1}function x(e,t,r,n){switch(t){case"=":return e===l.voidOperation?null:e;case"/=":return l.toNumber(r)/l.toNumber(e);case"*=":return l.toNumber(r)*l.toNumber(e);case"-=":return l.toNumber(r)-l.toNumber(e);case"+=":return l.isString(r)||l.isString(e)?l.toString(r)+l.toString(e):l.toNumber(r)+l.toNumber(e);case"%=":return l.toNumber(r)%l.toNumber(e);default:throw new Error(c.nodeErrorMessage(n,"RUNTIME","OPERATORNOTRECOGNISED"))}}Object.defineProperty(t,"__esModule",{value:!0});var I=0;function O(e,t,r){var n;switch(t=t.toLowerCase()){case"hasz":var a=e.hasZ;return void 0!==a&&a;case"hasm":var u=e.hasM;return void 0!==u&&u;case"spatialreference":var l=e.spatialReference._arcadeCacheId;if(void 0===l){var f=!0;Object.freeze&&Object.isFrozen(e.spatialReference)&&(f=!1),f&&(I++,e.spatialReference._arcadeCacheId=I,l=I)}var p=new i({wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return void 0!==l&&(p._arcadeCacheId="SPREF"+l.toString()),p}switch(e.type){case"extent":switch(t){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":var m=e[t];return void 0!==m?m:null;case"type":return"Extent"}break;case"polygon":switch(t){case"rings":return void 0===(n=e.cache._arcadeCacheId)&&(n=++I,e.cache._arcadeCacheId=n),new o(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,n);case"type":return"Polygon"}break;case"point":switch(t){case"x":case"y":case"z":case"m":return void 0!==e[t]?e[t]:null;case"type":return"Point"}break;case"polyline":switch(t){case"paths":return void 0===(n=e.cache._arcadeCacheId)&&(n=++I,e.cache._arcadeCacheId=n),new o(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,n);case"type":return"Polyline"}break;case"multipoint":switch(t){case"points":return void 0===(n=e.cache._arcadeCacheId)&&(n=++I,e.cache._arcadeCacheId=n),new s(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,n,1);case"type":return"Multipoint"}}throw new Error(c.nodeErrorMessage(r,"RUNTIME","PROPERTYNOTFOUND"))}function T(e,t){var r;try{var n=t.name.toLowerCase();if(null!==e.localScope&&void 0!==e.localScope[n])return!0===(r=e.localScope[n]).valueset||(r.value=w(e,r.node),r.valueset=!0),r.value;if(void 0!==e.globalScope[n])return!0===(r=e.globalScope[n]).valueset||(r.value=w(e,r.node),r.valueset=!0),r.value;throw new Error(c.nodeErrorMessage(t,"RUNTIME","VARIABLENOTFOUND"))}catch(e){throw e}}var B={};function k(e){return null==e?"":l.isArray(e)||l.isImmutableArray(e)?"Array":l.isDate(e)?"Date":l.isString(e)?"String":l.isBoolean(e)?"Boolean":l.isNumber(e)?"Number":e instanceof n?"Attachment":e instanceof r?"Portal":e instanceof i?"Dictionary":e instanceof a?"Feature":e instanceof E?"Point":e instanceof b?"Polygon":e instanceof C?"Polyline":e instanceof v?"Multipoint":e instanceof g?"Extent":l.isFunctionParameter(e)?"Function":l.isFeatureSet(e)?"FeatureSet":l.isFeatureSetCollection(e)?"FeatureSetCollection":e===l.voidOperation?"":"number"==typeof e&&isNaN(e)?"Number":"Unrecognised Type"}function R(e,t){var r=e.length,n=Math.floor(r/2);return 0===r?[]:1===r?[e[0]]:function(e,t,r){for(var n=[];e.length>0||t.length>0;)if(e.length>0&&t.length>0){var i=r(e[0],t[0]);isNaN(i)&&(i=0),i<=0?(n.push(e[0]),e=e.slice(1)):(n.push(t[0]),t=t.slice(1))}else e.length>0?(n.push(e[0]),e=e.slice(1)):t.length>0&&(n.push(t[0]),t=t.slice(1));return n}(R(e.slice(0,n),t),R(e.slice(n,r),t),t)}function P(e,t,r){try{var n=e.body;if(r.length!==e.params.length)throw new Error("Invalid Parameter calls to function.");for(var i=0;i<r.length;i++)t.localScope[e.params[i].name.toLowerCase()]={value:r[i],valueset:!0,node:null};var a=w(t,n);if(a instanceof l.ReturnResult)return a.value;if(a===l.breakResult)throw new Error("Cannot Break from a Function");if(a===l.continueResult)throw new Error("Cannot Continue from a Function");return a instanceof l.ImplicitResult?a.value:a}catch(e){throw e}}function M(e,t,r){return S(e,t,(function(t,n,i){var a={spatialReference:e.spatialReference,globalScope:e.globalScope,depthCounter:e.depthCounter+1,console:e.console,lrucache:e.lrucache,localScope:{}};if(a.depthCounter>64)throw new Error("Exceeded maximum function depth");return P(r,a,i)}))}function L(e){return function(){var t={spatialReference:e.context.spatialReference,console:e.context.console,lrucache:e.context.lrucache,localScope:{},depthCounter:e.context.depthCounter+1,globalScope:e.context.globalScope};if(t.depthCounter>64)throw new Error("Exceeded maximum function depth");return P(e.definition,t,arguments)}}for(var _ in f.registerFunctions(B,S),y.registerFunctions(B,S),h.registerFunctions(B,S),p.registerFunctions(B,S),d.registerFunctions(B,S),m.registerFunctions(B,S),B.typeof=function(e,t){return S(e,t,(function(e,t,r){l.pcCheck(r,1,1);var n=k(r[0]);if("Unrecognised Type"===n)throw new Error("Unrecognised Type");return n}))},B.iif=function(e,t){try{l.pcCheck(null===t.arguments?[]:t.arguments,3,3);var r=w(e,t.arguments[0]);if(!1===l.isBoolean(r))throw new Error("IF Function must have a boolean test condition");var n=w(e,t.arguments[1]),i=w(e,t.arguments[2]);return!0===r?n:i}catch(e){throw e}},B.decode=function(e,t){try{if(t.arguments.length<2)throw new Error("Missing Parameters");if(2===t.arguments.length)return w(e,t.arguments[1]);if((t.arguments.length-1)%2==0)throw new Error("Must have a default value result.");return function e(t,r,n,i){try{var a=w(t,r.arguments[n]);if(l.equalityTest(a,i))return w(t,r.arguments[n+1]);var u=r.arguments.length-n;return 1===u?w(t,r.arguments[n]):2===u?null:3===u?w(t,r.arguments[n+2]):e(t,r,n+2,i)}catch(e){throw e}}(e,t,1,w(e,t.arguments[0]))}catch(e){throw e}},B.when=function(e,t){try{if(t.arguments.length<3)throw new Error("Missing Parameters");if(t.arguments.length%2==0)throw new Error("Must have a default value result.");var r=w(e,t.arguments[0]);if(!1===l.isBoolean(r))throw new Error("WHEN needs boolean test conditions");return function e(t,r,n,i){try{if(!0===i)return w(t,r.arguments[n+1]);if(3==r.arguments.length-n)return w(t,r.arguments[n+2]);var a=w(t,r.arguments[n+2]);if(!1===l.isBoolean(a))throw new Error("WHEN needs boolean test conditions");return e(t,r,n+2,a)}catch(e){throw e}}(e,t,0,r)}catch(e){throw e}},B.top=function(e,t){return S(e,t,(function(e,t,r){if(l.pcCheck(r,2,2),l.isArray(r[0]))return l.toNumber(r[1])>=r[0].length?r[0].slice(0):r[0].slice(0,l.toNumber(r[1]));if(l.isImmutableArray(r[0]))return l.toNumber(r[1])>=r[0].length()?r[0].slice(0):r[0].slice(0,l.toNumber(r[1]));throw new Error("Top cannot accept this parameter type")}))},B.first=function(e,t){return S(e,t,(function(e,t,r){return l.pcCheck(r,1,1),l.isArray(r[0])?0===r[0].length?null:r[0][0]:l.isImmutableArray(r[0])?0===r[0].length()?null:r[0].get(0):null}))},B.sort=function(e,t){return S(e,t,(function(e,t,r){l.pcCheck(r,1,2);var n=r[0];if(l.isImmutableArray(n)&&(n=n.toArray()),!1===l.isArray(n))throw new Error("Illegal Argument");if(r.length>1){if(!1===l.isFunctionParameter(r[1]))throw new Error("Illegal Argument");var i=n,a=L(r[1]);return R(i,(function(e,t){return a(e,t)}))}if(0===(i=n).length)return[];for(var u={},o=0;o<i.length;o++){var s=k(i[o]);""!==s&&(u[s]=!0)}if(!0===u.Array||!0===u.Dictionary||!0===u.Feature||!0===u.Point||!0===u.Polygon||!0===u.Polyline||!0===u.Multipoint||!0===u.Extent||!0===u.Function)return i.slice(0);var c=0,f="";for(var p in u)c++,f=p;return c>1||"String"===f?R(i,(function(e,t){if(null==e||e===l.voidOperation)return null==t||t===l.voidOperation?0:1;if(null==t||t===l.voidOperation)return-1;var r=l.toString(e),n=l.toString(t);return r<n?-1:r===n?0:1})):"Number"===f?R(i,(function(e,t){return e-t})):"Boolean"===f?R(i,(function(e,t){return e===t?0:t?-1:1})):"Date"===f?R(i,(function(e,t){return t-e})):i.slice(0)}))},B)B[_]={value:new l.NativeFunction(B[_]),valueset:!0,node:null};var U=function(){};(U.prototype=B).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},U.prototype.pi={value:Math.PI,valueset:!0,node:null};var G={fixSpatialReference:l.fixSpatialReference,parseArguments:F,standardFunction:S};function j(e){}t.functionHelper=G,t.extend=function(e){for(var t={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:S,evaluateIdentifier:T,arcadeCustomFunctionHandler:L},r=0;r<e.length;r++)e[r].registerFunctions(t);for(var n in t.functions)B[n]={value:new l.NativeFunction(t.functions[n]),valueset:!0,node:null},U.prototype[n]=B[n];for(r=0;r<t.signatures.length;r++)c.addFunctionDeclaration(t.signatures[r],"async")},t.executeScript=function(e,t){var r=t.spatialReference;null==r&&(r=new A({wkid:102100}));var n=w({spatialReference:r,globalScope:function(e,t){var r=new U;e||(e={}),t||(t={});var n=new i({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});for(var u in n.immutable=!1,r.textformatting={value:n,valueset:!0,node:null},t)r[u]={value:new l.NativeFunction(t[u]),native:!0,valueset:!0,node:null};for(var u in e)e[u]&&"esri.Graphic"===e[u].declaredClass?r[u]={value:a.createFromGraphic(e[u]),valueset:!0,node:null}:r[u]={value:e[u],valueset:!0,node:null};return r}(t.vars,t.customfunctions),localScope:null,console:t.console?t.console:j,lrucache:t.lrucache,depthCounter:1},e.body[0].body);if(n instanceof l.ReturnResult&&(n=n.value),n instanceof l.ImplicitResult&&(n=n.value),n===l.voidOperation&&(n=null),n===l.breakResult)throw new Error("Cannot return BREAK");if(n===l.continueResult)throw new Error("Cannot return CONTINUE");if(n instanceof u)throw new Error("Cannot return FUNCTION");if(n instanceof l.NativeFunction)throw new Error("Cannot return FUNCTION");return n},t.extractFieldLiterals=function(e,t){return void 0===t&&(t=!1),c.findFieldLiterals(e)},t.validateScript=function(e,t){return c.validateScript(e,t,"simple")},t.referencesMember=function(e,t){return c.referencesMember(e,t)},t.referencesFunction=function(e,t){return c.referencesFunction(e,t)},t.findFunctionCalls=function(e){return c.findFunctionCalls(e)}}.apply(null,n))||(e.exports=i)},T8lH:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("B2KM"),r("lgxM"),r("gfOZ"),r("YADd"),r("oxlp"),r("Lzvl"),r("tq6K"),r("+6sX"),r("LxLY")],void 0===(i=function(e,t,r,n,i,a,u,o,s,l,c,f){return function(){function e(){this.declaredClass="esri.arcade.Feature",this._optimizedGeomDefinition=null,this._geometry=null,this.attributes=null,this._layer=null,this._datesfixed=!0,this.immutable=!0,this._datefields=null,this.immutable=!0}return e.createFromGraphic=function(t){var r=new e;return r._geometry=f.isSome(t.geometry)?t.geometry:null,void 0===t.attributes||null===t.attributes?r.attributes={}:r.attributes=t.attributes,t._sourceLayer?(r._layer=t._sourceLayer,r._datesfixed=!1):t._layer?(r._layer=t._layer,r._datesfixed=!1):t.layer?(r._layer=t.layer,r._datesfixed=!1):t.sourceLayer&&(r._layer=t.sourceLayer,r._datesfixed=!1),r},e.createFromArcadeFeature=function(t){var r=new e;return r._datesfixed=t._datesfixed,r.attributes=t.attributes,r._geometry=t._geometry,r._optimizedGeomDefinition=t._optimizedGeomDefinition,t._layer&&(r._layer=t._layer),r},e.createFromOptimisedFeature=function(t,r,n){var i=new e;return i._geometry=t.geometry?{geometry:t.geometry}:null,i._optimizedGeomDefinition=n,i.attributes=t.attributes||{},i._layer=r,i._datesfixed=!1,i},e.createFromArcadeDictionary=function(t){var r=new e;return r.attributes=t.field("attributes"),null!==r.attributes&&r.attributes instanceof n?(r.attributes=r.attributes.attributes,null===r.attributes&&(r.attributes={})):r.attributes={},r._geometry=t.field("geometry"),null!==r._geometry&&(r._geometry instanceof n?r._geometry=e.parseGeometryFromDictionary(r._geometry):r._geometry instanceof u||(r._geometry=null)),r},e.createFromGraphicLikeObject=function(t,r,n){void 0===n&&(n=null);var i=new e;return null===r&&(r={}),i.attributes=r,i._geometry=f.isSome(t)?t:null,i._layer=n,i._layer&&(i._datesfixed=!1),i},e.prototype.repurposeFromGraphicLikeObject=function(e,t,r){void 0===r&&(r=null),null===t&&(t={}),this.attributes=t,this._geometry=e||null,this._layer=r,this._layer?this._datesfixed=!1:this._datesfixed=!0},e.prototype.castToText=function(){var e="";for(var t in!1===this._datesfixed&&this._fixDates(),this.attributes){""!==e&&(e+=",");var r=this.attributes[t];null==r?e+=JSON.stringify(t)+":null":a.isBoolean(r)||a.isNumber(r)||a.isString(r)?e+=JSON.stringify(t)+":"+JSON.stringify(r):r instanceof u||r instanceof i||r instanceof Array?e+=JSON.stringify(t)+":"+a.toStringExplicit(r):r instanceof Date?e+=JSON.stringify(t)+":"+JSON.stringify(r):null!==r&&"object"==typeof r&&void 0!==r.castToText&&(e+=JSON.stringify(t)+":"+r.castToText())}return'{"geometry":'+(null===this.geometry()?"null":a.toStringExplicit(this.geometry()))+',"attributes":{'+e+"}}"},e.prototype._fixDates=function(){if(null!==this._datefields)return this._datefields.length>0&&this._fixDateFields(this._datefields),void(this._datesfixed=!0);for(var e=[],t=0;t<this._layer.fields.length;t++){var r=this._layer.fields[t];"date"!==r.type&&"esriFieldTypeDate"!==r.type||e.push(r.name)}this._datefields=e,e.length>0&&this._fixDateFields(e),this._datesfixed=!0},e.prototype._fixDateFields=function(e){this.attributes=r.__assign({},this.attributes);for(var t=0;t<e.length;t++){var n=this.attributes[e[t]];if(null===n);else if(void 0===n){for(var i in this.attributes)if(i.toLowerCase()===e[t].toLowerCase()){null!==(n=this.attributes[i])&&(n instanceof Date||(this.attributes[i]=new Date(n)));break}}else n instanceof Date||(this.attributes[e[t]]=new Date(n))}},e.prototype.geometry=function(){return null===this._geometry||this._geometry instanceof u||(this._optimizedGeomDefinition?(this._geometry=f.unwrap(s.fromJSON(c.convertToGeometry(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=f.unwrap(s.fromJSON(this._geometry))),this._geometry},e.prototype.field=function(e){!1===this._datesfixed&&this._fixDates();var t=this.attributes[e];if(void 0!==t)return t;var r=e.toLowerCase();for(var n in this.attributes)if(n.toLowerCase()===r)return this.attributes[n];if(this._hasFieldDefinition(r))return null;throw new Error("Field not Found")},e.prototype._hasFieldDefinition=function(e){if(null===this._layer)return!1;for(var t=0;t<this._layer.fields.length;t++)if(this._layer.fields[t].name.toLowerCase()===e)return!0;return!1},e.prototype._field=function(e){!1===this._datesfixed&&this._fixDates();var t=e.toLowerCase(),r=this.attributes[e];if(void 0!==r)return r;for(var n in this.attributes)if(n.toLowerCase()===t)return this.attributes[n];return null},e.prototype.setField=function(e,t){if(this.immutable)throw new Error("Feature is Immutable");if(!1===a.isSimpleType(t))throw new Error("Illegal Value Assignment to Feature");var r=e.toLowerCase();if(void 0===this.attributes[e]){for(var n in this.attributes)if(n.toLowerCase()===r)return void(this.attributes[n]=t);this.attributes[e]=t}else this.attributes[e]=t},e.prototype.hasField=function(e){var t=e.toLowerCase();if(void 0!==this.attributes[e])return!0;for(var r in this.attributes)if(r.toLowerCase()===t)return!0;return!!this._hasFieldDefinition(t)},e.prototype.keys=function(){var e=[],t={};for(var r in this.attributes)e.push(r),t[r.toLowerCase()]=1;if(null!==this._layer)for(var n=0;n<this._layer.fields.length;n++){var i=this._layer.fields[n];1!==t[i.name.toLowerCase()]&&e.push(i.name)}return e.sort()},e.parseGeometryFromDictionary=function(t){var r=e.convertDictionaryToJson(t,!0);return void 0!==r.spatialreference&&(r.spatialReference=r.spatialreference,delete r.spatialreference),void 0!==r.rings&&(r.rings=this.fixPathArrays(r.rings,!0===r.hasZ,!0===r.hasM)),void 0!==r.paths&&(r.paths=this.fixPathArrays(r.paths,!0===r.hasZ,!0===r.hasM)),void 0!==r.points&&(r.points=this.fixPointArrays(r.points,!0===r.hasZ,!0===r.hasM)),s.fromJSON(r)},e.fixPathArrays=function(e,t,r){var n=[];if(e instanceof Array)for(var a=0;a<e.length;a++)n.push(this.fixPointArrays(e[a],t,r));else if(e instanceof i)for(a=0;a<e.length();a++)n.push(this.fixPointArrays(e.get(a),t,r));return n},e.fixPointArrays=function(e,t,r){var n=[];if(e instanceof Array)for(var a=0;a<e.length;a++)(u=e[a])instanceof o?t&&r?n.push([u.x,u.y,u.z,u.m]):t?n.push([u.x,u.y,u.z]):r?n.push([u.x,u.y,u.m]):n.push([u.x,u.y]):u instanceof i?n.push(u.toArray()):n.push(u);else if(e instanceof i)for(a=0;a<e.length();a++){var u;(u=e.get(a))instanceof o?t&&r?n.push([u.x,u.y,u.z,u.m]):t?n.push([u.x,u.y,u.z]):r?n.push([u.x,u.y,u.m]):n.push([u.x,u.y]):u instanceof i?n.push(u.toArray()):n.push(u)}return n},e.convertDictionaryToJson=function(t,r){void 0===r&&(r=!1);var i={};for(var a in t.attributes){var u=t.attributes[a];u instanceof n&&(u=e.convertDictionaryToJson(u)),r?i[a.toLowerCase()]=u:i[a]=u}return i},e.parseAttributesFromDictionary=function(e){var t={};for(var r in e.attributes){var n=e.attributes[r];if(!a.isSimpleType(n))throw new Error("Illegal Argument");t[r]=n}return t},e.fromJson=function(t){var r=null;null!==t.geometry&&void 0!==t.geometry&&(r=s.fromJSON(t.geometry));var n={};if(null!==t.attributes&&void 0!==t.attributes)for(var i in t.attributes){var u=t.attributes[i];if(null===u)n[i]=u;else{if(!(a.isString(u)||a.isNumber(u)||a.isBoolean(u)||a.isDate(u)))throw new Error("Illegal Argument");n[i]=u}}return e.createFromGraphicLikeObject(r,n,null)},e.prototype.fullDomain=function(e,t){return null===this._layer?null:this._layer.fields?a.getDomain(e,this._layer,this,t):null},e.prototype.subtypes=function(){return null===this._layer?null:this._layer.fields&&this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map((function(e){return{name:e.name,code:e.id}})):[]}:null},e.prototype.domainValueLookup=function(e,t,r){if(null===this._layer)return null;if(!this._layer.fields)return null;var n=a.getDomain(e,this._layer,this,r);if(void 0===t)try{t=this.field(e)}catch(e){return null}return a.getDomainValue(n,t)},e.prototype.domainCodeLookup=function(e,t,r){if(null===this._layer)return null;if(!this._layer.fields)return null;if(void 0===t){try{t=this.field(e)}catch(e){return null}return t}var n=a.getDomain(e,this._layer,this,r);return a.getDomainCode(n,t)},e.prototype.schema=function(){if(null===this._layer)return null;if(!this._layer.fields)return null;for(var e=[],t=0,r=this._layer.fields;t<r.length;t++){var n=r[t];e.push(l.esriFieldToJson(n))}return{objectIdField:this._layer.objectIdField,typeIdField:this._layer.typeIdField,geometryType:void 0===l.layerGeometryEsriRestConstants[this._layer.geometryType]?"":l.layerGeometryEsriRestConstants[this._layer.geometryType],hasZ:!0===this._layer.hasZ,hasM:!0===this._layer.hasM,fields:e}},e}()}.apply(null,n))||(e.exports=i)},WoOE:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("N7S/")],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSquareUnitsToCode=function(e){if(void 0===e)return null;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":case"square-meter":case"square-meters":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":case"square-miles":case"square-mile":return 109413;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"square-kilometers":case"square-kilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"square-yards":case"square-yard":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"square-feet":case"square-foot":case"squarefeet":case"squarefoot":return 109405}return null},t.shapeExtent=function(e){if(null===e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new r({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null},t.convertLinearUnitsToCode=function(e){if(void 0===e)return null;if("number"==typeof e)return e;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":case"square-meter":case"square-meters":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":case"square-miles":case"square-mile":return 9035;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"square-kilometers":case"square-kilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"square-yards":case"square-yard":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"square-feet":case"square-foot":case"squarefeet":case"squarefoot":return 9002}return null},t.sameGeomType=function(e,t){return e===t||"point"===e&&"esriGeometryPoint"===t||"polyline"===e&&"esriGeometryPolyline"===t||"polygon"===e&&"esriGeometryPolygon"===t||"extent"===e&&"esriGeometryEnvelope"===t||"multipoint"===e&&"esriGeometryMultipoint"===t||"point"===t&&"esriGeometryPoint"===e||"polyline"===t&&"esriGeometryPolyline"===e||"polygon"===t&&"esriGeometryPolygon"===e||"extent"===t&&"esriGeometryEnvelope"===e||"multipoint"===t&&"esriGeometryMultipoint"===e},t.cloneGeometry=function(e){if(null===e)return null;var t=e.clone();return void 0!==e.cache._geVersion&&(t.cache._geVersion=e.cache._geVersion),t}}.apply(null,n))||(e.exports=i)},gfOZ:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("AxL/"),r("lgxM"),r("ABt8"),r("2CtR"),r("qMld"),r("N7S/"),r("YADd"),r("t78F"),r("oxlp"),r("Vt+U"),r("aYWh"),r("AcGV"),r("ZPQp"),r("LxLY")],void 0===(i=function(e,t,r,n,i,a,u,o,s,l,c,f,p,m,h,d){Object.defineProperty(t,"__esModule",{value:!0});var y=function(e){this.value=e};t.ReturnResultE=y;var g=function(e){this.value=e};t.ImplicitResultE=g;var D=function(e){this.fn=e};t.NativeFunctionE=D;var v=function(e){this.fn=e};function E(e,t,r){return""===t||null==t||t===r||t===r?e:e=e.split(t).join(r)}function b(e){return e instanceof D||e instanceof r||e instanceof v}function C(e){return!!(A(e)||S(e)||x(e)||F(e)||null===e||e===t.voidOperation||"number"==typeof e)}function A(e){return"string"==typeof e||e instanceof String}function F(e){return"boolean"==typeof e}function S(e){return"number"==typeof e}function w(e){return e instanceof Array}function N(e){return e instanceof n}function x(e){return e instanceof Date}function I(e,t){return!1===isNaN(e)?null==t||""===t?e.toString():(t=E(t,"‰",""),t=E(t,"¤",""),m.format(e,{pattern:t})):e.toString()}function O(e,r){var n=t.MomentLibrary.Moment(e);return null==r||""===r?n.format():n.format(T(r))}function T(e){return e.replace(/(LTS)|L|l/g,(function(e){return"["+e+"]"}))}function B(e,t,r){switch(r){case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}return!1}function k(e,r){if(e===r)return!0;if(null===e&&r===t.voidOperation||null===r&&e===t.voidOperation)return!0;if(x(e)&&x(r))return e.getTime()===r.getTime();if(e instanceof i)return e.equalityTest(r);if(e instanceof a)return e.equalityTest(r);var n,u;if(e instanceof c&&r instanceof c&&(n=e.cache._arcadeCacheId,u=r.cache._arcadeCacheId,null!=n))return n===u;if(void 0!==e&&void 0!==r&&null!==e&&null!==r&&"object"==typeof e&&"object"==typeof r){if(e._arcadeCacheId===r._arcadeCacheId&&void 0!==e._arcadeCacheId&&null!==e._arcadeCacheId)return!0;if(e._underlyingGraphic===r._underlyingGraphic&&void 0!==e._underlyingGraphic&&null!==e._underlyingGraphic)return!0}return!1}function R(e,r){if(A(e))return e;if(null===e)return"";if(S(e))return I(e,r);if(F(e))return e.toString();if(x(e))return O(e,r);if(e instanceof s)return JSON.stringify(e.toJSON());if(w(e)){for(var i=[],a=0;a<e.length;a++)i[a]=M(e[a]);return"["+i.join(",")+"]"}if(e instanceof n){for(i=[],a=0;a<e.length();a++)i[a]=M(e.get(a));return"["+i.join(",")+"]"}return null!==e&&"object"==typeof e&&void 0!==e.castToText?e.castToText():b(e)?"object, Function":(t.voidOperation,"")}function P(e,r){if(A(e))return e;if(null===e)return"";if(S(e))return I(e,r);if(F(e))return e.toString();if(x(e))return O(e,r);if(e instanceof s)return e instanceof o?'{"xmin":'+e.xmin.toString()+',"ymin":'+e.ymin.toString()+","+(e.hasZ?'"zmin":'+e.zmin.toString()+",":"")+(e.hasM?'"mmin":'+e.mmin.toString()+",":"")+'"xmax":'+e.xmax.toString()+',"ymax":'+e.ymax.toString()+","+(e.hasZ?'"zmax":'+e.zmax.toString()+",":"")+(e.hasM?'"mmax":'+e.mmax.toString()+",":"")+'"spatialReference":'+U(e.spatialReference)+"}":U(e.toJSON(),(function(e,t){return e.key===t.key?0:"spatialReference"===e.key?1:"spatialReference"===t.key||e.key<t.key?-1:e.key>t.key?1:0}));if(w(e)){for(var i=[],a=0;a<e.length;a++)i[a]=M(e[a]);return"["+i.join(",")+"]"}if(e instanceof n){for(i=[],a=0;a<e.length();a++)i[a]=M(e.get(a));return"["+i.join(",")+"]"}return null!==e&&"object"==typeof e&&void 0!==e.castToText?e.castToText():b(e)?"object, Function":(t.voidOperation,"")}function M(e){if(null===e)return"null";if(F(e)||S(e)||A(e))return JSON.stringify(e);if(e instanceof s)return P(e);if(e instanceof n)return P(e);if(e instanceof Array)return P(e);if(e instanceof Date)return JSON.stringify(O(e,""));if(null!==e&&"object"==typeof e){if(void 0!==e.castToText)return e.castToText()}else if(e===t.voidOperation)return"null";return"null"}function L(e,r){return S(e)?e:null===e||""===e?0:x(e)?NaN:F(e)?e?1:0:w(e)||""===e||void 0===e?NaN:void 0!==r&&A(e)?(r=E(r,"‰",""),r=E(r,"¤",""),m.parse(e,{pattern:r})):e===t.voidOperation?0:Number(e)}function _(e,t){var r;return t.fields.some((function(t){return t.name===e&&(r=t.domain),!!r})),r}function U(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},a={key:n,value:e[n]};return r(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,u;if(Array.isArray(t)){for(u="[",r=0;r<t.length;r++)r&&(u+=","),u+=e(t[r])||"null";return u+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=a.push(t)-1,s=Object.keys(t).sort(i&&i(t));for(u="",r=0;r<s.length;r++){var l=s[r],c=e(t[l]);c&&(u&&(u+=","),u+=JSON.stringify(l)+":"+c)}return a.splice(o,1),"{"+u+"}"}}(e)}function G(e,t){if(!(t instanceof c))throw new Error("Invalid Argument");e.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}t.SizzleFunctionE=v,t.NativeFunction=D,t.ImplicitResult=g,t.ReturnResult=y,t.SizzleFunction=v,t.voidOperation={type:"VOID"},t.breakResult={type:"BREAK"},t.continueResult={type:"CONTINUE"},t.multiReplace=E,t.isFunctionParameter=b,t.isSimpleType=C,t.defaultUndefined=function(e,t){return void 0===e?t:e},t.isString=A,t.isBoolean=F,t.isNumber=S,t.isArray=w,t.isFeatureSet=function(e){return!0===(e&&e.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===e.declaredRootClass)},t.isFeatureSetCollection=function(e){return!0===(e&&e.declaredRootClass&&"esri.arcade.featureSetCollection"===e.declaredRootClass)},t.isImmutableArray=N,t.isDate=x,t.pcCheck=function(e,t,r){if(e.length<t||e.length>r)throw new Error("Function called with wrong number of Parameters")},t.generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))},t.formatNumber=I,t.formatDate=O,t.standardiseDateFormat=T,t.greaterThanLessThan=function(e,r,n){if(null===e){if(null===r||r===t.voidOperation)return B(null,null,n);if(S(r))return B(0,r,n);if(A(r))return B(0,L(r),n);if(F(r))return B(0,L(r),n);if(x(r))return B(0,r.getTime(),n)}if(e===t.voidOperation){if(null===r||r===t.voidOperation)return B(null,null,n);if(S(r))return B(0,r,n);if(A(r))return B(0,L(r),n);if(F(r))return B(0,L(r),n);if(x(r))return B(0,r.getTime(),n)}else if(S(e)){if(S(r))return B(e,r,n);if(F(r))return B(e,L(r),n);if(null===r||r===t.voidOperation)return B(e,0,n);if(A(r))return B(e,L(r),n);if(x(r))return B(e,r.getTime(),n)}else if(A(e)){if(A(r))return B(R(e),R(r),n);if(x(r))return B(L(e),r.getTime(),n);if(S(r))return B(L(e),r,n);if(null===r||r===t.voidOperation)return B(L(e),0,n);if(F(r))return B(L(e),L(r),n)}else if(x(e)){if(x(r))return B(e,r,n);if(null===r||r===t.voidOperation)return B(e.getTime(),0,n);if(S(r))return B(e.getTime(),r,n);if(F(r))return B(e.getTime(),L(r),n);if(A(r))return B(e.getTime(),L(r),n)}else if(F(e)){if(F(r))return B(e,r,n);if(S(r))return B(L(e),L(r),n);if(x(r))return B(L(e),r.getTime(),n);if(null===r||r===t.voidOperation)return B(L(e),0,n);if(A(r))return B(L(e),L(r),n)}return!!k(e,r)&&("<="===n||">="===n)},t.equalityTest=k,t.toString=R,t.toNumberArray=function(e){var t=[];if(!1===w(e))return null;if(e instanceof n){for(var r=0;r<e.length();r++)t[r]=L(e.get(r));return t}for(r=0;r<e.length;r++)t[r]=L(e[r]);return t},t.toStringExplicit=P,t.toNumber=L,t.toDate=function(e,r){if(x(e))return e;if(A(e)){var n=t.MomentLibrary.Moment(e,[null==r||""===r?t.MomentLibrary.Moment.ISO_8601:r]);if(n.isValid())return n.toDate()}return null},t.toDateM=function(e,r){if(x(e))return t.MomentLibrary.Moment(e);if(A(e)){var n=t.MomentLibrary.Moment(e,[null==r||""===r?t.MomentLibrary.Moment.ISO_8601:r]);if(n.isValid())return n}return null},t.toBoolean=function(e){return F(e)?e:A(e)?"true"===(e=e.toLowerCase()):!!S(e)&&0!==e&&!isNaN(e)},t.fixSpatialReference=function(e,t){return d.isNone(e)?null:(null!==e.spatialReference&&void 0!==e.spatialReference||(e.spatialReference=t),e)},t.fixNullGeometry=function(e){return null===e?null:e instanceof c?"NaN"===e.x||null===e.x||isNaN(e.x)?null:e:e instanceof f?0===e.rings.length?null:e:e instanceof p?0===e.paths.length?null:e:e instanceof l?0===e.points.length?null:e:e instanceof o?"NaN"===e.xmin||null===e.xmin||isNaN(e.xmin)?null:e:null},t.getDomainValue=function(e,t){if(!e)return t;if(!e.domain)return t;var r=null;if("string"===e.field.type||"esriFieldTypeString"===e.field.type)t=R(t);else{if(null==t)return null;if(""===t)return t;t=L(t)}for(var n=0;n<e.domain.codedValues.length;n++){var i=e.domain.codedValues[n];i.code===t&&(r=i)}return null===r?t:r.name},t.getDomainCode=function(e,t){if(!e)return t;if(!e.domain)return t;var r=null;t=R(t);for(var n=0;n<e.domain.codedValues.length;n++){var i=e.domain.codedValues[n];i.name===t&&(r=i)}return null===r?t:r.code},t.getDomain=function(e,t,r,n){if(void 0===r&&(r=null),!t)return null;if(!t.fields)return null;for(var i,a,u=null,o=0;o<t.fields.length;o++){var s=t.fields[o];s.name.toLowerCase()===e.toString().toLowerCase()&&(u=s)}if(null===u)throw new Error("Field not found");return n||(n=r&&t.typeIdField&&r._field(t.typeIdField)),null!=n&&t.types.some((function(e){return e.id===n&&((i=e.domains&&e.domains[u.name])&&"inherited"===i.type&&(i=_(u.name,t),a=!0),!0)})),a||i||(i=_(e,t)),{field:u,domain:i}},t.stableStringify=U,t.autoCastFeatureToGeometry=function(e){if(null===e)return null;for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];i&&i.declaredClass&&"esri.arcade.Feature"===i.declaredClass?t.push(i.geometry()):t.push(i)}return t},t.autoCastArrayOfPointsToPolygon=function(e,t){if(w(e)||N(e)){var r=!1,n=!1,i=[],u=t;if(w(e)){for(var o=0,s=e;o<s.length;o++)G(i,s[o]);i.length>0&&(u=e[0].spatialReference,r=e[0].hasZ,n=e[0].hasM)}else if(e instanceof a)(i=e._elements).length>0&&(r=e._hasZ,n=e._hasM,u=e.get(0).spatialReference);else{if(!N(e))throw new Error("Invalid Argument");for(var l=0,c=e.toArray();l<c.length;l++)G(i,c[l]);i.length>0&&(u=e.get(0).spatialReference,r=!0===e.get(0).hasZ,n=!0===e.get(0).hasM)}return 0===i.length?null:(!1===h.isClockwise(i,n,r)&&(i=i.slice(0).reverse()),new f({rings:[i],spatialReference:u,hasZ:r,hasM:n}))}return e},t.autoCastArrayOfPointsToPolyline=function(e,t){if(w(e)||N(e)){var r=!1,n=!1,i=[],u=t;if(w(e)){for(var o=0,s=e;o<s.length;o++)G(i,s[o]);i.length>0&&(u=e[0].spatialReference,r=!0===e[0].hasZ,n=!0===e[0].hasM)}else if(e instanceof a)(i=e._elements).length>0&&(r=e._hasZ,n=e._hasM,u=e.get(0).spatialReference);else if(N(e)){for(var l=0,c=e.toArray();l<c.length;l++)G(i,c[l]);i.length>0&&(u=e.get(0).spatialReference,r=!0===e.get(0).hasZ,n=!0===e.get(0).hasM)}return 0===i.length?null:new p({paths:[i],spatialReference:u,hasZ:r,hasM:n})}return e},t.autoCastArrayOfPointsToMultiPoint=function(e,t){if(w(e)||N(e)){var r=!1,n=!1,i=[],u=t;if(w(e)){for(var o=0,s=e;o<s.length;o++)G(i,s[o]);i.length>0&&(u=e[0].spatialReference,r=!0===e[0].hasZ,n=!0===e[0].hasM)}else if(e instanceof a)(i=e._elements).length>0&&(r=e._hasZ,n=e._hasM,u=e.get(0).spatialReference);else if(N(e)){for(var c=0,f=e.toArray();c<f.length;c++)G(i,f[c]);i.length>0&&(u=e.get(0).spatialReference,r=!0===e.get(0).hasZ,n=!0===e.get(0).hasM)}return 0===i.length?null:new l({points:i,spatialReference:u,hasZ:r,hasM:n})}return e},t.toStringArray=function(e,t){void 0===t&&(t=!1);var r=[];if(null===e)return r;if(!0===w(e)){for(var i=0;i<e.length;i++)""===(a=R(e[i]))&&!0!==t||r.push(a);return r}if(e instanceof n){for(i=0;i<e.length();i++){var a;""===(a=R(e.get(i)))&&!0!==t||r.push(a)}return r}return C(e)?(""===(a=R(e))&&!0!==t||r.push(a),r):[]};var j=0;t.tick=function(e){return++j%100==0?(j=0,u.create((function(t){setTimeout((function(){t(e)}),0)}))):e},t.MomentLibrary={Moment:null},t.binaryOperator=function(e,t,r){switch(r){case"&":return e&t;case"|":return e|t;case"^":return e^t;case"<<":return e<<t;case">>":return e>>t;case">>>":return e>>>t}}}.apply(null,n))||(e.exports=i)},hiUs:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("gfOZ"),r("lT9l")],void 0===(i=function(e,t,r,n){function i(e,t,i,a){if(1===a.length){if(r.isArray(a[0]))return n.calculateStat(e,a[0],-1);if(r.isImmutableArray(a[0]))return n.calculateStat(e,a[0].toArray(),-1)}return n.calculateStat(e,a,-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){e.stdev=function(e,r){return t(e,r,(function(e,t,r){return i("stdev",0,0,r)}))},e.variance=function(e,r){return t(e,r,(function(e,t,r){return i("variance",0,0,r)}))},e.average=function(e,r){return t(e,r,(function(e,t,r){return i("mean",0,0,r)}))},e.mean=function(e,r){return t(e,r,(function(e,t,r){return i("mean",0,0,r)}))},e.sum=function(e,r){return t(e,r,(function(e,t,r){return i("sum",0,0,r)}))},e.min=function(e,r){return t(e,r,(function(e,t,r){return i("min",0,0,r)}))},e.max=function(e,r){return t(e,r,(function(e,t,r){return i("max",0,0,r)}))},e.distinct=function(e,r){return t(e,r,(function(e,t,r){return i("distinct",0,0,r)}))},e.count=function(e,n){return t(e,n,(function(e,t,n){if(r.pcCheck(n,1,1),r.isArray(n[0])||r.isString(n[0]))return n[0].length;if(r.isImmutableArray(n[0]))return n[0].length();throw new Error("Invalid Parameters for Count")}))}}}.apply(null,n))||(e.exports=i)},lT9l:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("gfOZ")],void 0===(i=function(e,t,r){function n(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t/e.length}function i(e){for(var t=n(e),r=0,i=0;i<e.length;i++)r+=Math.pow(t-e[i],2);return r/e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeStatType=function(e){switch(e.toLowerCase()){case"distinct":return"distinct";case"avg":case"mean":return"avg";case"min":return"min";case"sum":return"sum";case"max":return"max";case"stdev":case"stddev":return"stddev";case"var":case"variance":return"var";case"count":return"count"}return""},t.calculateStat=function(e,t,a){switch(void 0===a&&(a=1e3),e.toLowerCase()){case"distinct":return function(e,t){for(var n=[],i={},a=[],u=0;u<e.length;u++){if(void 0!==e[u]&&null!==e[u]&&e[u]!==r.voidOperation){var o=e[u];if(r.isNumber(o)||r.isString(o))void 0===i[o]&&(n.push(o),i[o]=1);else{for(var s=!1,l=0;l<a.length;l++)!0===r.equalityTest(a[l],o)&&(s=!0);!1===s&&(a.push(o),n.push(o))}}if(n.length>=t&&-1!==t)return n}return n}(t,a);case"avg":case"mean":return n(r.toNumberArray(t));case"min":return Math.min.apply(Math,r.toNumberArray(t));case"sum":return function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}(r.toNumberArray(t));case"max":return Math.max.apply(Math,r.toNumberArray(t));case"stdev":case"stddev":return Math.sqrt(i(r.toNumberArray(t)));case"var":case"variance":return i(r.toNumberArray(t));case"count":return t.length}return 0}}.apply(null,n))||(e.exports=i)},lgxM:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){return function(){function e(e){void 0===e&&(e=[]),this._elements=e}return e.prototype.length=function(){return this._elements.length},e.prototype.get=function(e){return this._elements[e]},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length();t++)e.push(this.get(t));return e},e}()}.apply(null,n))||(e.exports=i)},oVPt:function(e,t,r){var n,i,a;!function(r,u){"use strict";i=[t],void 0===(a="function"==typeof(n=function(e){var t,r,n,i,a,u,o,s,l,c,f,p,m,h,d,y,g,D,v,E,b,C,A,F,S,w,N;function x(e,t){if(!e)throw new Error("ASSERT: "+t)}function I(e){return e>=48&&e<=57}function O(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function T(e){return"01234567".indexOf(e)>=0}function B(e){var t="0"!==e,r="01234567".indexOf(e);return c<b&&T(s[c])&&(t=!0,r=8*r+"01234567".indexOf(s[c++]),"0123".indexOf(e)>=0&&c<b&&T(s[c])&&(r=8*r+"01234567".indexOf(s[c++]))),{code:r,octal:t}}function k(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function R(e){return 10===e||13===e||8232===e||8233===e}function P(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))}function M(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&o.NonAsciiIdentifierStart.test(P(e))}function L(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&o.NonAsciiIdentifierPart.test(P(e))}function _(e,t,r,n,i){var a;x("number"==typeof r,"Comment must have valid position"),A.lastCommentStart=r,a={type:e,value:t},F.range&&(a.range=[r,n]),F.loc&&(a.loc=i),F.comments.push(a),F.attachComment&&(F.leadingComments.push(a),F.trailingComments.push(a)),F.tokenize&&(a.type=a.type+"Comment",F.delegate&&(a=F.delegate(a)),F.tokens.push(a))}function U(e){var t,r,n,i;for(t=c-e,r={start:{line:f,column:c-p-e}};c<b;)if(n=s.charCodeAt(c),++c,R(n))return m=!0,F.comments&&(i=s.slice(t+e,c-1),r.end={line:f,column:c-p-1},_("Line",i,t,c-1,r)),13===n&&10===s.charCodeAt(c)&&++c,++f,void(p=c);F.comments&&(i=s.slice(t+e,c),r.end={line:f,column:c-p},_("Line",i,t,c,r))}function G(){var e,t,r,n;for(F.comments&&(e=c-2,t={start:{line:f,column:c-p-2}});c<b;)if(R(r=s.charCodeAt(c)))13===r&&10===s.charCodeAt(c+1)&&++c,m=!0,++f,++c,p=c;else if(42===r){if(47===s.charCodeAt(c+1))return++c,++c,void(F.comments&&(n=s.slice(e+2,c-2),t.end={line:f,column:c-p},_("Block",n,e,c,t)));++c}else++c;F.comments&&(t.end={line:f,column:c-p},_("Block",n=s.slice(e+2,c),e,c,t)),ce()}function j(){var e,t;for(m=!1,t=0===c;c<b;)if(k(e=s.charCodeAt(c)))++c;else if(R(e))m=!0,++c,13===e&&10===s.charCodeAt(c)&&++c,++f,p=c,t=!0;else if(47===e)if(47===(e=s.charCodeAt(c+1)))++c,++c,U(2),t=!0;else{if(42!==e)break;++c,++c,G()}else if(t&&45===e){if(45!==s.charCodeAt(c+1)||62!==s.charCodeAt(c+2))break;c+=3,U(3)}else{if(60!==e)break;if("!--"!==s.slice(c+1,c+4))break;++c,++c,++c,++c,U(4)}}function Y(e){var t,r,n,i=0;for(r="u"===e?4:2,t=0;t<r;++t){if(!(c<b&&O(s[c])))return"";n=s[c++],i=16*i+"0123456789abcdef".indexOf(n.toLowerCase())}return String.fromCharCode(i)}function V(){var e,t;for(t=0,"}"===(e=s[c])&&le();c<b&&O(e=s[c++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&le(),P(t)}function q(e){var t,r;return(t=s.charCodeAt(e))>=55296&&t<=56319&&(r=s.charCodeAt(e+1))>=56320&&r<=57343&&(t=1024*(t-55296)+r-56320+65536),t}function z(){var e,t,r;for(r=P(e=q(c)),c+=r.length,92===e&&(117!==s.charCodeAt(c)&&le(),++c,"{"===s[c]?(++c,t=V()):(e=(t=Y("u")).charCodeAt(0),t&&"\\"!==t&&M(e)||le()),r=t);c<b&&L(e=q(c));)r+=t=P(e),c+=t.length,92===e&&(r=r.substr(0,r.length-1),117!==s.charCodeAt(c)&&le(),++c,"{"===s[c]?(++c,t=V()):(e=(t=Y("u")).charCodeAt(0),t&&"\\"!==t&&L(e)||le()),r+=t);return r}function J(){var e,r;return e=c,{type:1===(r=92===s.charCodeAt(c)?z():function(){var e,t;for(e=c++;c<b;){if(92===(t=s.charCodeAt(c)))return c=e,z();if(t>=55296&&t<57343)return c=e,z();if(!L(t))break;++c}return s.slice(e,c)}()).length?t.Identifier:function(e){switch((e=e.toLowerCase()).length){case 2:return"if"===e||"in"===e;case 3:return"var"===e||"for"===e;case 4:return"else"===e;case 5:return"break"===e;case 6:return"return"===e;case 8:return"function"===e||"continue"===e;default:return!1}}(r)?t.Keyword:"null"===r.toLowerCase()?t.NullLiteral:"true"===r.toLowerCase()||"false"===r.toLowerCase()?t.BooleanLiteral:t.Identifier,value:r,lineNumber:f,lineStart:p,start:e,end:c}}function X(){var e,r;switch(e={type:t.Punctuator,value:"",lineNumber:f,lineStart:p,start:c,end:c},r=s[c]){case"(":F.tokenize&&(F.openParenToken=F.tokenValues.length),++c;break;case"{":F.tokenize&&(F.openCurlyToken=F.tokenValues.length),A.curlyStack.push("{"),++c;break;case".":++c,"."===s[c]&&"."===s[c+1]&&(c+=2,r="...");break;case"}":++c,A.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++c;break;default:">>>="===(r=s.substr(c,4))?c+=4:"==="===(r=r.substr(0,3))||"!=="===r||">>>"===r||"<<="===r||">>="===r?c+=3:"&&"===(r=r.substr(0,2))||"||"===r||"=="===r||"!="===r||"+="===r||"-="===r||"*="===r||"/="===r||"++"===r||"--"===r||"<<"===r||">>"===r||"&="===r||"|="===r||"^="===r||"%="===r||"<="===r||">="===r||"=>"===r?c+=2:(r=s[c],"<>=!+-*%&|^/".indexOf(r)>=0&&++c)}return c===e.start&&le(),e.end=c,e.value=r,e}function Z(){var e,r,n;if(x(I((n=s[c]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),r=c,e="","."!==n){if(e=s[c++],n=s[c],"0"===e){if("x"===n||"X"===n)return++c,function(e){for(var r="";c<b&&O(s[c]);)r+=s[c++];return 0===r.length&&le(),M(s.charCodeAt(c))&&le(),{type:t.NumericLiteral,value:parseInt("0x"+r,16),lineNumber:f,lineStart:p,start:e,end:c}}(r);if("b"===n||"B"===n)return++c,function(e){var r,n;for(n="";c<b&&("0"===(r=s[c])||"1"===r);)n+=s[c++];return 0===n.length&&le(),c<b&&(M(r=s.charCodeAt(c))||I(r))&&le(),{type:t.NumericLiteral,value:parseInt(n,2),lineNumber:f,lineStart:p,start:e,end:c}}(r);if("o"===n||"O"===n)return function(e,r){var n,i;for(T(e)?(i=!0,n="0"+s[c++]):(i=!1,++c,n="");c<b&&T(s[c]);)n+=s[c++];return i||0!==n.length||le(),(M(s.charCodeAt(c))||I(s.charCodeAt(c)))&&le(),{type:t.NumericLiteral,value:parseInt(n,8),octal:i,lineNumber:f,lineStart:p,start:r,end:c}}(n,r)}for(;I(s.charCodeAt(c));)e+=s[c++];n=s[c]}if("."===n){for(e+=s[c++];I(s.charCodeAt(c));)e+=s[c++];n=s[c]}if("e"===n||"E"===n)if(e+=s[c++],"+"!==(n=s[c])&&"-"!==n||(e+=s[c++]),I(s.charCodeAt(c)))for(;I(s.charCodeAt(c));)e+=s[c++];else le();return M(s.charCodeAt(c))&&le(),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:f,lineStart:p,start:r,end:c}}function H(){var e,r;return c>=b?{type:t.EOF,lineNumber:f,lineStart:p,start:c,end:c}:M(e=s.charCodeAt(c))?(r=J(),l&&(r.value,0)&&(r.type=t.Keyword),r):40===e||41===e||59===e?X():39===e||34===e?function(){var e,r,n,i,a,u="",o=!1;for(x("'"===(e=s[c])||'"'===e,"String literal must starts with a quote"),r=c,++c;c<b;){if((n=s[c++])===e){e="";break}if("\\"===n)if((n=s[c++])&&R(n.charCodeAt(0)))++f,"\r"===n&&"\n"===s[c]&&++c,p=c;else switch(n){case"u":case"x":if("{"===s[c])++c,u+=V();else{if(!(i=Y(n)))throw le();u+=i}break;case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="\t";break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="\v";break;case"8":case"9":u+=n,ce();break;default:T(n)?(o=(a=B(n)).octal||o,u+=String.fromCharCode(a.code)):u+=n}else{if(R(n.charCodeAt(0)))break;u+=n}}return""!==e&&(c=r,le()),{type:t.StringLiteral,value:u,octal:o,lineNumber:D,lineStart:v,start:r,end:c}}():46===e?I(s.charCodeAt(c+1))?Z():X():I(e)?Z():F.tokenize&&47===e?function(){var e,t,r;function i(e){return e&&e.length>1&&e[0]>="a"&&e[0]<="z"}switch(e=null!==(t=F.tokenValues[F.tokenValues.length-1]),t){case"this":case"]":e=!1;break;case")":(r=F.tokenValues[F.openParenToken-1])&&(r=r.toLowerCase()),e="if"===r||"while"===r||"for"===r||"with"===r;break;case"}":e=!1,i(F.tokenValues[F.openCurlyToken-3])?((r=F.tokenValues[F.openCurlyToken-4])&&(r=r.toLowerCase()),e=!!r&&n.indexOf(r)<0):i(F.tokenValues[F.openCurlyToken-4])&&(e=!(r=F.tokenValues[F.openCurlyToken-5])||n.indexOf(r)<0)}return e?collectRegex():X()}():96===e||125===e&&"${"===A.curlyStack[A.curlyStack.length-1]?function(){var e,r,n,i,a,o,l,m,h="";for(i=!1,o=!1,r=c,a="`"===s[c],n=2,++c;c<b;){if("`"===(e=s[c++])){n=1,o=!0,i=!0;break}if("$"===e){if("{"===s[c]){A.curlyStack.push("${"),++c,i=!0;break}h+=e}else if("\\"===e)if(R((e=s[c++]).charCodeAt(0)))++f,"\r"===e&&"\n"===s[c]&&++c,p=c;else switch(e){case"n":h+="\n";break;case"r":h+="\r";break;case"t":h+="\t";break;case"u":case"x":"{"===s[c]?(++c,h+=V()):(l=c,(m=Y(e))?h+=m:(c=l,h+=e));break;case"b":h+="\b";break;case"f":h+="\f";break;case"v":h+="\v";break;default:"0"===e?(I(s.charCodeAt(c))&&ue(u.TemplateOctalLiteral),h+="\0"):T(e)?ue(u.TemplateOctalLiteral):h+=e}else R(e.charCodeAt(0))?(++f,"\r"===e&&"\n"===s[c]&&++c,p=c,h+="\n"):h+=e}return i||le(),a||A.curlyStack.pop(),{type:t.Template,value:{cooked:h,raw:s.slice(r+1,c-n)},head:a,tail:o,lineNumber:f,lineStart:p,start:r,end:c}}():e>=55296&&e<57343&&M(e=q(c))?J():X()}function K(){var e,n,i,a;return e={start:{line:f,column:c-p}},n=H(),e.end={line:f,column:c-p},n.type!==t.EOF&&(i=s.slice(n.start,n.end),a={type:r[n.type],value:i,range:[n.start,n.end],loc:e},n.regex&&(a.regex={pattern:n.regex.pattern,flags:n.regex.flags}),F.tokenValues&&F.tokenValues.push("Punctuator"===a.type||"Keyword"===a.type?a.value:null),F.tokenize&&(F.range||delete a.range,F.loc||delete a.loc,F.delegate&&(a=F.delegate(a))),F.tokens.push(a)),n}function W(){var e;return E=!0,h=c,d=f,y=p,j(),e=C,g=c,D=f,v=p,C=void 0!==F.tokens?K():H(),E=!1,e}function $(){E=!0,j(),h=c,d=f,y=p,g=c,D=f,v=p,C=void 0!==F.tokens?K():H(),E=!1}function Q(){this.line=D,this.column=g-v}function ee(){this.start=new Q,this.end=null}function te(e){this.start={line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function re(){F.range&&(this.range=[g,0]),F.loc&&(this.loc=new ee)}function ne(e){F.range&&(this.range=[e.start,0]),F.loc&&(this.loc=new te(e))}function ie(e){var t,r;for(t=0;t<F.errors.length;t++)if((r=F.errors[t]).index===e.index&&r.message===e.message)return;F.errors.push(e)}function ae(e,t,r){var n;return(n=function(e,t){var r=new Error(e);try{throw r}catch(e){Object.create&&Object.defineProperty&&(r=Object.create(e),Object.defineProperty(r,"column",{value:t}))}finally{return r}}("Line "+e+": "+r,t-(E?p:y)+1)).lineNumber=e,n.description=r,n.index=t,n}function ue(e){var t,r;throw t=Array.prototype.slice.call(arguments,1),r=e.replace(/%(\d)/g,(function(e,r){return x(r<t.length,"Message reference must be in range"),t[r]})),ae(d,h,r)}function oe(e){var t,r,n;if(t=Array.prototype.slice.call(arguments,1),r=e.replace(/%(\d)/g,(function(e,r){return x(r<t.length,"Message reference must be in range"),t[r]})),n=ae(f,h,r),!F.errors)throw n;ie(n)}function se(e,r){var n,i=r||u.UnexpectedToken;return e?(r||(i=e.type===t.EOF?u.UnexpectedEOS:e.type===t.Identifier?u.UnexpectedIdentifier:e.type===t.NumericLiteral?u.UnexpectedNumber:e.type===t.StringLiteral?u.UnexpectedString:e.type===t.Template?u.UnexpectedTemplate:u.UnexpectedToken,e.type===t.Keyword&&(e.value,l&&(e.value,0)&&(i=u.StrictReservedWord))),n=e.type===t.Template?e.value.raw:e.value):n="ILLEGAL",i=i.replace("%0",n),e&&"number"==typeof e.lineNumber?ae(e.lineNumber,e.start,i):ae(E?f:d,E?c:h,i)}function le(e,t){throw se(e,t)}function ce(e,t){var r=se(e,t);if(!F.errors)throw r;ie(r)}function fe(e){var r=W();r.type===t.Punctuator&&r.value===e||le(r)}function pe(){var e;F.errors?(e=C).type===t.Punctuator&&","===e.value?W():e.type===t.Punctuator&&";"===e.value?(W(),ce(e)):ce(e,u.UnexpectedToken):fe(",")}function me(e){var r=W();r.type===t.Keyword&&r.value.toLowerCase()===e.toLowerCase()||le(r)}function he(e){return C.type===t.Punctuator&&C.value===e}function de(e){return C.type===t.Keyword&&C.value.toLowerCase()===e.toLowerCase()}function ye(){59===s.charCodeAt(g)||he(";")?W():m||(h=g,d=D,y=v,C.type===t.EOF||he("}")||le(C))}function ge(e){var t,r=S,n=w,i=N;return S=!0,w=!0,N=null,t=e(),null!==N&&le(N),S=r,w=n,N=i,t}function De(e){var t,r=S,n=w,i=N;return S=!0,w=!0,N=null,t=e(),S=S&&r,w=w&&n,N=i||N,t}function ve(e,r){var n,i,a,u=new re,o=he("[");if(C.type===t.Identifier){if(i=C,n=ze(),he("="))return e.push(i),W(),a=je(),u.finishProperty("init",n,!1,new ne(i).finishAssignmentPattern(n,a),!1,!0);if(!he(":"))return e.push(i),u.finishProperty("init",n,!1,n,!1,!0)}else n=Fe();return fe(":"),a=be(e,r),u.finishProperty("init",n,o,a,!1,!1)}function Ee(e,t){return he("[")?function(e,t){var r,n,i=new re,a=[];for(fe("[");!he("]");)if(he(","))W(),a.push(null);else{if(he("...")){n=new re,W(),e.push(C),r=ze(t),a.push(n.finishRestElement(r));break}a.push(be(e,t)),he("]")||fe(",")}return fe("]"),i.finishArrayPattern(a)}(e,t):he("{")?function(e,t){var r=new re,n=[];for(fe("{");!he("}");)n.push(ve(e,t)),he("}")||fe(",");return W(),r.finishObjectPattern(n)}(e,t):(de("let")&&("const"!==t&&"let"!==t||ce(C,u.UnexpectedToken)),e.push(C),ze(t))}function be(e,t){var r,n,i,a=C;return r=Ee(e,t),he("=")&&(W(),n=A.allowYield,A.allowYield=!0,i=ge(je),A.allowYield=n,r=new ne(a).finishAssignmentPattern(r,i)),r}function Ce(){var e,t=[],r=new re;for(fe("[");!he("]");)he(",")?(W(),t.push(null)):he("...")?(e=new re,W(),e.finishSpreadElement(De(je)),he("]")||(w=S=!1,fe(",")),t.push(e)):(t.push(De(je)),he("]")||fe(","));return W(),r.finishArrayExpression(t)}function Ae(e,t,r){var n,i;return w=S=!1,n=l,i=ge(Ke),l&&t.firstRestricted&&ce(t.firstRestricted,t.message),l&&t.stricted&&ce(t.stricted,t.message),l=n,e.finishFunctionExpression(null,t.params,t.defaults,i,r)}function Fe(){var e,r,n=new re;switch((e=W()).type){case t.StringLiteral:case t.NumericLiteral:return l&&e.octal&&ce(e,u.StrictOctalLiteral),n.finishLiteral(e);case t.Identifier:case t.BooleanLiteral:case t.NullLiteral:case t.Keyword:return n.finishIdentifier(e.value);case t.Punctuator:if("["===e.value)return r=ge(je),fe("]"),r}le(e)}function Se(){switch(C.type){case t.Identifier:case t.StringLiteral:case t.BooleanLiteral:case t.NullLiteral:case t.NumericLiteral:case t.Keyword:return!0;case t.Punctuator:return"["===C.value}return!1}function we(e){var r,n,a,o,s,l=C,c=new re;return r=he("["),he("*")?W():n=Fe(),(a=function(e,r,n,i){var a,u,o,s,l=A.allowYield;if(e.type===t.Identifier){if("get"===e.value&&Se())return n=he("["),r=Fe(),o=new re,fe("("),fe(")"),A.allowYield=!1,a=Ae(o,{params:[],defaults:[],stricted:null,firstRestricted:null,message:null},!1),A.allowYield=l,i.finishProperty("get",r,n,a,!1,!1);if("set"===e.value&&Se())return n=he("["),r=Fe(),o=new re,fe("("),u={params:[],defaultCount:0,defaults:[],firstRestricted:null,paramSet:{}},he(")")?ce(C):(A.allowYield=!1,$e(u),A.allowYield=l,0===u.defaultCount&&(u.defaults=[])),fe(")"),A.allowYield=!1,a=Ae(o,u,!1),A.allowYield=l,i.finishProperty("set",r,n,a,!1,!1)}else if(e.type===t.Punctuator&&"*"===e.value&&Se())return n=he("["),r=Fe(),o=new re,A.allowYield=!0,s=Qe(),A.allowYield=l,A.allowYield=!1,a=Ae(o,s,!0),A.allowYield=l,i.finishProperty("init",r,n,a,!0,!1);return r&&he("(")?(a=function(){var e,t,r=new re,n=A.allowYield;return A.allowYield=!1,e=Qe(),A.allowYield=n,A.allowYield=!1,t=Ae(r,e,!1),A.allowYield=n,t}(),i.finishProperty("init",r,n,a,!0,!1)):null}(l,n,r,c))?a:(n||le(C),r||(o=n.type===i.Identifier&&"__proto__"===n.name||n.type===i.Literal&&"__proto__"===n.value,e.value&&o&&oe(u.DuplicateProtoProperty),e.value|=o),he(":")?(W(),s=De(je),c.finishProperty("init",n,r,s,!1,!1)):l.type===t.Identifier?he("=")?(N=C,W(),s=ge(je),c.finishProperty("init",n,r,new ne(l).finishAssignmentPattern(n,s),!1,!0)):c.finishProperty("init",n,r,n,!1,!0):void le(C))}function Ne(e){var t=[],r={value:!1},n=new re;for(e||fe("{");!he("}");)t.push(we(r)),he("}")||pe();return fe("}"),n.finishObjectExpression(t)}function xe(e){var t;switch(e.type){case i.Identifier:case i.MemberExpression:case i.RestElement:case i.AssignmentPattern:break;case i.ArrayExpression:for(e.type=i.ArrayPattern,t=0;t<e.elements.length;t++)null!==e.elements[t]&&xe(e.elements[t]);break;case i.ObjectExpression:for(e.type=i.ObjectPattern,t=0;t<e.properties.length;t++)xe(e.properties[t].value);break;case i.AssignmentExpression:e.type=i.AssignmentPattern,xe(e.left)}}function Ie(e){var r,n;return(C.type!==t.Template||e.head&&!C.head)&&le(),r=new re,n=W(),r.finishTemplateElement({raw:n.value.raw,cooked:n.value.cooked},n.tail)}function Oe(){var e,t,r,n;if(fe("("),he(")"))return W(),he("=>")||fe("=>"),{type:a.ArrowParameterPlaceHolder,params:[],rawParams:[]};if(r=C,S=!0,e=De(je),he(",")){for(w=!1,t=[e];g<b&&he(",");)W(),t.push(De(je));e=new ne(r).finishSequenceExpression(t)}if(fe(")"),he("=>")){if(e.type===i.Identifier&&"yield"===e.name)return{type:a.ArrowParameterPlaceHolder,params:[e]};if(S||le(C),e.type===i.SequenceExpression)for(n=0;n<e.expressions.length;n++)xe(e.expressions[n]);else xe(e);e={type:a.ArrowParameterPlaceHolder,params:e.type===i.SequenceExpression?e.expressions:[e]}}return S=!1,e}function Te(){var e,r,n,i;if(he("("))return S=!1,De(Oe);if(he("["))return De(Ce);if(he("{"))return De(Ne);if(e=C.type,i=new re,e===t.Identifier)n=i.finishIdentifier(W().value);else if(e===t.StringLiteral||e===t.NumericLiteral)w=S=!1,l&&C.octal&&ce(C,u.StrictOctalLiteral),n=i.finishLiteral(W());else if(e===t.Keyword){if(w=S=!1,de("function"))return parseFunctionExpression();le(W())}else e===t.BooleanLiteral?(w=S=!1,(r=W()).value="true"===r.value.toLowerCase(),n=i.finishLiteral(r)):e===t.NullLiteral?(w=S=!1,(r=W()).value=null,n=i.finishLiteral(r)):e===t.Template?n=function(){var e,t,r,n=new re;for(t=[e=Ie({head:!0})],r=[];!e.tail;)r.push(Ye()),e=Ie({head:!1}),t.push(e);return n.finishTemplateLiteral(t,r)}():le(W());return n}function Be(){var e,t=[];if(fe("("),!he(")"))for(;g<b&&(e=ge(je),t.push(e),!he(")"));)pe();return fe(")"),t}function ke(){return fe("."),function(){var e,r=new re;return function(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}(e=W())||le(e),r.finishIdentifier(e.value)}()}function Re(){var e;return fe("["),e=ge(Ye),fe("]"),e}function Pe(){var e,t,r,n,i=A.allowIn;for(n=C,A.allowIn=!0,e=De(Te);;)if(he("."))S=!1,w=!0,r=ke(),e=new ne(n).finishMemberExpression(".",e,r);else if(he("("))S=!1,w=!1,t=Be(),e=new ne(n).finishCallExpression(e,t);else{if(!he("["))break;S=!1,w=!0,r=Re(),e=new ne(n).finishMemberExpression("[",e,r)}return A.allowIn=i,e}function Me(){var e,r,n=C;return e=De(Pe),m||C.type!==t.Punctuator||(he("++")||he("--"))&&(l&&e.type===i.Identifier&&(e.name,0)&&oe(u.StrictLHSPostfix),w||oe(u.InvalidLHSInAssignment),w=S=!1,r=W(),e=new ne(n).finishPostfixExpression(r.value,e)),e}function Le(){var e,r,n;return C.type!==t.Punctuator&&C.type!==t.Keyword?r=Me():he("++")||he("--")?(n=C,e=W(),r=De(Le),l&&r.type===i.Identifier&&(r.name,0)&&oe(u.StrictLHSPrefix),w||oe(u.InvalidLHSInAssignment),r=new ne(n).finishUnaryExpression(e.value,r),w=S=!1):he("+")||he("-")||he("~")||he("!")?(n=C,e=W(),r=De(Le),r=new ne(n).finishUnaryExpression(e.value,r),w=S=!1):de("delete")||de("void")||de("typeof")?(n=C,e=W(),r=De(Le),r=new ne(n).finishUnaryExpression(e.value,r),l&&"delete"===r.operator&&r.argument.type===i.Identifier&&oe(u.StrictDelete),w=S=!1):r=Me(),r}function _e(e,r){var n=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=r?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function Ue(){var e,t,r,n,i,a,u,o,s,l;if(e=C,s=De(Le),0===(i=_e(n=C,A.allowIn)))return s;for(w=S=!1,n.prec=i,W(),t=[e,C],a=[s,n,u=ge(Le)];(i=_e(C,A.allowIn))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)u=a.pop(),o=a.pop().value,s=a.pop(),t.pop(),r=new ne(t[t.length-1]).finishBinaryExpression(o,s,u),a.push(r);(n=W()).prec=i,a.push(n),t.push(C),r=ge(Le),a.push(r)}for(r=a[l=a.length-1],t.pop();l>1;)r=new ne(t.pop()).finishBinaryExpression(a[l-1].value,a[l-2],r),l-=2;return r}function Ge(e,t){var r;switch(t.type){case i.Identifier:We(e,t,t.name);break;case i.RestElement:Ge(e,t.argument);break;case i.AssignmentPattern:Ge(e,t.left);break;case i.ArrayPattern:for(r=0;r<t.elements.length;r++)null!==t.elements[r]&&Ge(e,t.elements[r]);break;case i.YieldExpression:break;default:for(x(t.type===i.ObjectPattern,"Invalid type"),r=0;r<t.properties.length;r++)Ge(e,t.properties[r].value)}}function je(){var e,r,n,o,s,c;return s=C,e=C,(r=function(){var e,t,r,n,i;return i=C,e=De(Ue),he("?")&&(W(),t=A.allowIn,A.allowIn=!0,r=ge(je),A.allowIn=t,fe(":"),n=ge(je),e=new ne(i).finishConditionalExpression(e,r,n),w=S=!1),e}()).type===a.ArrowParameterPlaceHolder||he("=>")?(w=S=!1,(o=function(e){var t,r,n,o,s,c,f;switch(s=[],c=0,o=[e],e.type){case i.Identifier:break;case a.ArrowParameterPlaceHolder:o=e.params;break;default:return null}for(f={paramSet:{}},t=0,r=o.length;t<r;t+=1)switch((n=o[t]).type){case i.AssignmentPattern:o[t]=n.left,n.right.type===i.YieldExpression&&(n.right.argument&&le(C),n.right.type=i.Identifier,n.right.name="yield",delete n.right.argument,delete n.right.delegate),s.push(n.right),++c,Ge(f,n.left);break;default:Ge(f,n),o[t]=n,s.push(null)}if(l||!A.allowYield)for(t=0,r=o.length;t<r;t+=1)(n=o[t]).type===i.YieldExpression&&le(C);return f.message===u.StrictParamDupe&&le(l?f.stricted:f.firstRestricted,f.message),0===c&&(s=[]),{params:o,defaults:s,stricted:f.stricted,firstRestricted:f.firstRestricted,message:f.message}}(r))?(N=null,parseArrowFunctionExpression(o,new ne(s))):r):(C.type!==t.Punctuator||"="!==(c=C.value)&&"*="!==c&&"/="!==c&&"%="!==c&&"+="!==c&&"-="!==c&&"<<="!==c&&">>="!==c&&">>>="!==c&&"&="!==c&&"^="!==c&&"|="!==c||(w||oe(u.InvalidLHSInAssignment),l&&r.type===i.Identifier&&(r.name,r.name),he("=")?xe(r):w=S=!1,e=W(),n=ge(je),r=new ne(s).finishAssignmentExpression(e.value,r,n),N=null),r)}function Ye(){var e,t,r=C;if(e=ge(je),he(",")){for(t=[e];g<b&&he(",");)W(),t.push(ge(je));e=new ne(r).finishSequenceExpression(t)}return e}function Ve(){if(C.type===t.Keyword)switch(C.value.toLowerCase()){case"function":return et(new re)}return He()}function qe(e){var t,r=new re;return e||fe("{"),t=function(){for(var e=[];g<b&&!he("}");)e.push(Ve());return e}(),fe("}"),r.finishBlockStatement(t)}function ze(e){var r,n=new re;return(r=W()).type!==t.Identifier&&(l&&r.type===t.Keyword&&(r.value,0)?ce(r,u.StrictReservedWord):(l||"let"!==r.value||"var"!==e)&&le(r)),n.finishIdentifier(r.value)}function Je(e){var t,r=null,n=new re;return t=Ee([],"var"),l&&(t.name,0)&&oe(u.StrictVarName),he("=")?(W(),r=ge(je)):t.type===i.Identifier||e.inFor||fe("="),n.finishVariableDeclarator(t,r)}function Xe(e){var t,r;for(r=[Je(t={inFor:e.inFor})];he(",");)W(),r.push(Je(t));return r}function Ze(){return He(!0)}function He(e){var r,n,a,o,l,d,y,D,v,E=C.type;if(E===t.EOF&&le(C),E===t.Punctuator&&"{"===C.value){if(e){fe("{");var b=(v=C,l=c,d=f,y=p,W(),D=he(":"),C=v,c=l,f=d,p=y,D);return C.type!==t.Identifier&&C.type!==t.StringLiteral||!b?qe(!0):Ne(!0)}return Ne()}if(w=S=!0,o=new re,E===t.Punctuator)switch(C.value){case";":return function(e){return fe(";"),e.finishEmptyStatement()}(o);case"(":return function(e){var t=Ye();return ye(),e.finishExpressionStatement(t)}(o)}else if(E===t.Keyword)switch(C.value.toLowerCase()){case"break":return function(e){var r,n=null;return me("break"),59===s.charCodeAt(h)?(W(),A.inIteration||A.inSwitch||ue(u.IllegalBreak),e.finishBreakStatement(null)):(m?A.inIteration||A.inSwitch||ue(u.IllegalBreak):C.type===t.Identifier&&(r="$"+(n=ze()).name,Object.prototype.hasOwnProperty.call(A.labelSet,r)||ue(u.UnknownLabel,n.name)),ye(),null!==n||A.inIteration||A.inSwitch||ue(u.IllegalBreak),e.finishBreakStatement(n))}(o);case"continue":return function(e){var r,n=null;return me("continue"),59===s.charCodeAt(g)?(W(),A.inIteration||ue(u.IllegalContinue),e.finishContinueStatement(null)):m?(A.inIteration||ue(u.IllegalContinue),e.finishContinueStatement(null)):(C.type===t.Identifier&&(r="$"+(n=ze()).name,Object.prototype.hasOwnProperty.call(A.labelSet,r)||ue(u.UnknownLabel,n.name)),ye(),null!==n||A.inIteration||ue(u.IllegalContinue),e.finishContinueStatement(n))}(o);case"for":return function(e){var r,n,i,a,o,s,l,c,f,p,m,h=A.allowIn;if(r=o=s=null,n=!0,me("for"),fe("("),he(";"))W();else if(de("var"))r=new re,W(),A.allowIn=!1,f=Xe({inFor:!0}),A.allowIn=h,1===f.length&&de("in")?(r=r.finishVariableDeclaration(f),W(),l=r,c=Ye(),r=null):1===f.length&&null===f[0].init&&("of",C.type===t.Identifier&&"of"===C.value)?(r=r.finishVariableDeclaration(f),W(),l=r,c=je(),r=null,n=!1):(r=r.finishVariableDeclaration(f),fe(";"));else if(a=C,A.allowIn=!1,r=De(je),A.allowIn=h,de("in"))w||oe(u.InvalidLHSInForIn),W(),xe(r),l=r,c=Ye(),r=null;else{if(he(",")){for(i=[r];he(",");)W(),i.push(ge(je));r=new ne(a).finishSequenceExpression(i)}fe(";")}return void 0===l&&(he(";")||(o=Ye()),fe(";"),he(")")||(s=Ye())),fe(")"),m=A.inIteration,A.inIteration=!0,p=ge(Ze),A.inIteration=m,void 0===l?e.finishForStatement(r,o,s,p):n?e.finishForInStatement(l,c,p):e.finishForOfStatement(l,c,p)}(o);case"function":return et(o);case"if":return function(e){var t,r,n;return me("if"),fe("("),t=Ye(),fe(")"),r=He(!0),de("else")?(W(),n=He(!0)):n=null,e.finishIfStatement(t,r,n)}(o);case"return":return function(e){var r=null;return me("return"),A.inFunctionBody||oe(u.IllegalReturn),32===s.charCodeAt(h)&&M(s.charCodeAt(h+1))?(r=Ye(),ye(),e.finishReturnStatement(r)):m?e.finishReturnStatement(null):(he(";")||he("}")||C.type===t.EOF||(r=Ye()),ye(),e.finishReturnStatement(r))}(o);case"switch":return parseSwitchStatement(o);case"var":return function(e){var t;return me("var"),t=Xe({inFor:!1}),ye(),e.finishVariableDeclaration(t)}(o)}return(r=Ye()).type===i.Identifier&&he(":")?(W(),a="$"+r.name,Object.prototype.hasOwnProperty.call(A.labelSet,a)&&ue(u.Redeclaration,"Label",r.name),A.labelSet[a]=!0,n=He(),delete A.labelSet[a],o.finishLabeledStatement(r,n)):(ye(),o.finishExpressionStatement(r))}function Ke(){var e,r,n,a,o,c,f,p=[],m=new re;for(fe("{");g<b&&C.type===t.StringLiteral&&(r=C,e=Ve(),p.push(e),e.expression.type===i.Literal);)"use strict"===s.slice(r.start+1,r.end-1)?(l=!0,n&&ce(n,u.StrictOctalLiteral)):!n&&r.octal&&(n=r);for(a=A.labelSet,o=A.inIteration,c=A.inSwitch,f=A.inFunctionBody,A.labelSet={},A.inIteration=!1,A.inSwitch=!1,A.inFunctionBody=!0;g<b&&!he("}");)p.push(Ve());return fe("}"),A.labelSet=a,A.inIteration=o,A.inSwitch=c,A.inFunctionBody=f,m.finishBlockStatement(p)}function We(e,t,r){var n="$"+r;l?Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=u.StrictParamDupe):e.firstRestricted||Object.prototype.hasOwnProperty.call(e.paramSet,n)&&(e.stricted=t,e.message=u.StrictParamDupe),e.paramSet[n]=!0}function $e(e){var t,r,n,a=[];if("..."===C.value)return We(e,(t=function(e){var t,r=new re;return W(),he("{")&&ue(u.ObjectPatternAsRestParameter),e.push(C),t=ze(),he("=")&&ue(u.DefaultRestParameter),he(")")||ue(u.ParameterAfterRestParameter),r.finishRestElement(t)}(a)).argument,t.argument.name),e.params.push(t),e.defaults.push(null),!1;for(t=be(a),r=0;r<a.length;r++)We(e,a[r],a[r].value);return t.type===i.AssignmentPattern&&(n=t.right,t=t.left,++e.defaultCount),e.params.push(t),e.defaults.push(n),!he(")")}function Qe(e){var t;if(t={params:[],defaultCount:0,defaults:[],firstRestricted:e},fe("("),!he(")"))for(t.paramSet={};g<b&&$e(t);)fe(",");return fe(")"),0===t.defaultCount&&(t.defaults=[]),{params:t.params,defaults:t.defaults,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}}function et(e,t){var r,n,i,a,u,o,s,c,f,p,m=null;return p=A.allowYield,me("function"),t&&he("(")||(a=C,m=ze(),l||a.value,a.value),A.allowYield=!0,r=(o=Qe(s)).params,n=o.defaults,u=o.stricted,s=o.firstRestricted,o.message&&(c=o.message),f=l,i=Ke(),l&&s&&le(s,c),l&&u&&ce(u,c),l=f,A.allowYield=p,e.finishFunctionDeclaration(m,r,n,i,void 0)}function tt(){var e,r;return $(),r=new re,e=function(){for(var e,r,n,a=[];g<b&&(r=C).type===t.StringLiteral&&(e=Ve(),a.push(e),e.expression.type===i.Literal);)"use strict"===s.slice(r.start+1,r.end-1)?(l=!0,n&&ce(n,u.StrictOctalLiteral)):!n&&r.octal&&(n=r);for(;g<b&&void 0!==(e=Ve());)a.push(e);return a}(),r.finishProgram(e,A.sourceType)}(r={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10}).BooleanLiteral]="Boolean",r[t.EOF]="<end>",r[t.Identifier]="Identifier",r[t.Keyword]="Keyword",r[t.NullLiteral]="Null",r[t.NumericLiteral]="Numeric",r[t.Punctuator]="Punctuator",r[t.StringLiteral]="String",r[t.RegularExpression]="RegularExpression",r[t.Template]="Template",n=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"},a={ArrowParameterPlaceHolder:"ArrowParameterPlaceHolder"},u={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",ObjectPatternAsRestParameter:"Unexpected token {",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0"},o={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},ne.prototype=re.prototype={processComment:function(){var e,t,r,n,a,u,o=F.bottomRightStack,s=o[o.length-1];if(!(this.type===i.Program&&this.body.length>0)){if(this.type===i.BlockStatement&&0===this.body.length){for(t=[],a=F.leadingComments.length-1;a>=0;--a)u=F.leadingComments[a],this.range[1]>=u.range[1]&&(t.unshift(u),F.leadingComments.splice(a,1),F.trailingComments.splice(a,1));if(t.length)return void(this.innerComments=t)}if(F.trailingComments.length>0){for(n=[],a=F.trailingComments.length-1;a>=0;--a)(u=F.trailingComments[a]).range[0]>=this.range[1]&&(n.unshift(u),F.trailingComments.splice(a,1));F.trailingComments=[]}else s&&s.trailingComments&&s.trailingComments[0].range[0]>=this.range[1]&&(n=s.trailingComments,delete s.trailingComments);for(;s&&s.range[0]>=this.range[0];)e=o.pop(),s=o[o.length-1];if(e){if(e.leadingComments){for(r=[],a=e.leadingComments.length-1;a>=0;--a)(u=e.leadingComments[a]).range[1]<=this.range[0]&&(r.unshift(u),e.leadingComments.splice(a,1));e.leadingComments.length||(e.leadingComments=void 0)}}else if(F.leadingComments.length>0)for(r=[],a=F.leadingComments.length-1;a>=0;--a)(u=F.leadingComments[a]).range[1]<=this.range[0]&&(r.unshift(u),F.leadingComments.splice(a,1));r&&r.length>0&&(this.leadingComments=r),n&&n.length>0&&(this.trailingComments=n),o.push(this)}},finish:function(){F.range&&(this.range[1]=h),F.loc&&(this.loc.end={line:d,column:h-y},F.source&&(this.loc.source=F.source)),F.attachComment&&this.processComment()},finishArrayExpression:function(e){return this.type=i.ArrayExpression,this.elements=e,this.finish(),this},finishArrayPattern:function(e){return this.type=i.ArrayPattern,this.elements=e,this.finish(),this},finishAssignmentExpression:function(e,t,r){return this.type=i.AssignmentExpression,this.operator=e,this.left=t,this.right=r,this.finish(),this},finishAssignmentPattern:function(e,t){return this.type=i.AssignmentPattern,this.left=e,this.right=t,this.finish(),this},finishBinaryExpression:function(e,t,r){return this.type="||"===e||"&&"===e?i.LogicalExpression:i.BinaryExpression,this.operator=e,this.left=t,this.right=r,this.finish(),this},finishBlockStatement:function(e){return this.type=i.BlockStatement,this.body=e,this.finish(),this},finishBreakStatement:function(e){return this.type=i.BreakStatement,this.label=e,this.finish(),this},finishCallExpression:function(e,t){return this.type=i.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishConditionalExpression:function(e,t,r){return this.type=i.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=r,this.finish(),this},finishContinueStatement:function(e){return this.type=i.ContinueStatement,this.label=e,this.finish(),this},finishEmptyStatement:function(){return this.type=i.EmptyStatement,this.finish(),this},finishExpressionStatement:function(e){return this.type=i.ExpressionStatement,this.expression=e,this.finish(),this},finishForStatement:function(e,t,r,n){return this.type=i.ForStatement,this.init=e,this.test=t,this.update=r,this.body=n,this.finish(),this},finishForInStatement:function(e,t,r){return this.type=i.ForInStatement,this.left=e,this.right=t,this.body=r,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(e,t,r,n,a){return this.type=i.FunctionDeclaration,this.id=e,this.params=t,this.defaults=r,this.body=n,this.generator=a,this.expression=!1,this.finish(),this},finishFunctionExpression:function(e,t,r,n,a){return this.type=i.FunctionExpression,this.id=e,this.params=t,this.defaults=r,this.body=n,this.generator=a,this.expression=!1,this.finish(),this},finishIdentifier:function(e){return this.type=i.Identifier,this.name=e,this.finish(),this},finishIfStatement:function(e,t,r){return this.type=i.IfStatement,this.test=e,this.consequent=t,this.alternate=r,this.finish(),this},finishLiteral:function(e){return this.type=i.Literal,this.value=e.value,this.raw=s.slice(e.start,e.end),e.regex&&(this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,r){return this.type=i.MemberExpression,this.computed="["===e,this.object=t,this.property=r,this.finish(),this},finishObjectExpression:function(e){return this.type=i.ObjectExpression,this.properties=e,this.finish(),this},finishObjectPattern:function(e){return this.type=i.ObjectPattern,this.properties=e,this.finish(),this},finishPostfixExpression:function(e,t){return this.type=i.UpdateExpression,this.operator=e,this.argument=t,this.prefix=!1,this.finish(),this},finishProgram:function(e,t){return this.type=i.Program,this.body=e,this.sourceType=t,this.finish(),this},finishProperty:function(e,t,r,n,a,u){return this.type=i.Property,this.key=t,this.computed=r,this.value=n,this.kind=e,this.method=a,this.shorthand=u,this.finish(),this},finishRestElement:function(e){return this.type=i.RestElement,this.argument=e,this.finish(),this},finishReturnStatement:function(e){return this.type=i.ReturnStatement,this.argument=e,this.finish(),this},finishTemplateElement:function(e,t){return this.type=i.TemplateElement,this.value=e,this.tail=t,this.finish(),this},finishTemplateLiteral:function(e,t){return this.type=i.TemplateLiteral,this.quasis=e,this.expressions=t,this.finish(),this},finishUnaryExpression:function(e,t){return this.type="++"===e||"--"===e?i.UpdateExpression:i.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(e){return this.type=i.VariableDeclaration,this.declarations=e,this.kind="var",this.finish(),this},finishLexicalDeclaration:function(e,t){return this.type=i.VariableDeclaration,this.declarations=e,this.kind=t,this.finish(),this},finishVariableDeclarator:function(e,t){return this.type=i.VariableDeclarator,this.id=e,this.init=t,this.finish(),this}},e.version="2.7.3",e.tokenize=function(e,r,n){var i;"string"==typeof e||e instanceof String||(e=String(e)),c=0,f=(s=e).length>0?1:0,g=c,D=f,v=p=0,b=s.length,C=null,A={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[]},F={},(r=r||{}).tokens=!0,F.tokens=[],F.tokenValues=[],F.tokenize=!0,F.delegate=n,F.openParenToken=-1,F.openCurlyToken=-1,F.range="boolean"==typeof r.range&&r.range,F.loc="boolean"==typeof r.loc&&r.loc,"boolean"==typeof r.comment&&r.comment&&(F.comments=[]),"boolean"==typeof r.tolerant&&r.tolerant&&(F.errors=[]);try{if($(),C.type===t.EOF)return F.tokens;for(W();C.type!==t.EOF;)try{W()}catch(e){if(F.errors){ie(e);break}throw e}i=F.tokens,void 0!==F.errors&&(i.errors=F.errors)}catch(e){throw e}finally{F={}}return i},e.parse=function(e,t){var r,n;n=String,"string"==typeof e||e instanceof String||(e=n(e)),c=0,f=(s=e).length>0?1:0,g=c,D=f,v=p=0,b=s.length,C=null,A={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[],sourceType:"script"},l=!1,F={},void 0!==t&&(F.range="boolean"==typeof t.range&&t.range,F.loc="boolean"==typeof t.loc&&t.loc,F.attachComment="boolean"==typeof t.attachComment&&t.attachComment,F.loc&&null!==t.source&&void 0!==t.source&&(F.source=n(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(F.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(F.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(F.errors=[]),F.attachComment&&(F.range=!0,F.comments=[],F.bottomRightStack=[],F.trailingComments=[],F.leadingComments=[]),"module"===t.sourceType&&(A.sourceType=t.sourceType,l=!0));try{r=tt(),void 0!==F.comments&&(r.comments=F.comments),void 0!==F.tokens&&(function(){var e,t,r,n=[];for(e=0;e<F.tokens.length;++e)r={type:(t=F.tokens[e]).type,value:t.value},t.regex&&(r.regex={pattern:t.regex.pattern,flags:t.regex.flags}),F.range&&(r.range=t.range),F.loc&&(r.loc=t.loc),n.push(r);F.tokens=n}(),r.tokens=F.tokens),void 0!==F.errors&&(r.errors=F.errors)}catch(e){throw e}finally{F={}}return r},e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),i)i.hasOwnProperty(e)&&(t[e]=i[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})?n.apply(null,i):n)||(e.exports=a)}()},rChG:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("B2KM")],void 0===(i=function(e,t,r,n){return function(e){function t(t){var r=e.call(this)||this;return r.immutable=!1,r.setField("url",t),r.immutable=!0,r}return r.__extends(t,e),t}(n)}.apply(null,n))||(e.exports=i)},"sAf+":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("gfOZ"),r("AcGV")],void 0===(i=function(e,t,r,n){function i(e,t,r){return void 0===r||0==+r?Math[e](t):(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+r:r))))}Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=function(e,t){function a(e,t,n){var i=r.toNumber(e);return isNaN(i)?i:isNaN(t)||isNaN(n)||t>n?NaN:i<t?t:i>n?n:i}e.number=function(e,i){return t(e,i,(function(e,t,i){r.pcCheck(i,1,2);var a=i[0];if(r.isNumber(a))return a;if(null===a)return 0;if(r.isDate(a))return Number(a);if(r.isBoolean(a))return Number(a);if(r.isArray(a))return NaN;if(""===a)return Number(a);if(void 0===a)return Number(a);if(r.isString(a)){if(void 0!==i[1]){var u=r.multiReplace(i[1],"‰","");return u=r.multiReplace(u,"¤",""),n.parse(a,{pattern:u})}return Number(a.trim())}return Number(a)}))},e.abs=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.abs(r.toNumber(n[0]))}))},e.acos=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.acos(r.toNumber(n[0]))}))},e.asin=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.asin(r.toNumber(n[0]))}))},e.atan=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.atan(r.toNumber(n[0]))}))},e.atan2=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,2,2),Math.atan2(r.toNumber(n[0]),r.toNumber(n[1]))}))},e.ceil=function(e,n){return t(e,n,(function(e,t,n){if(r.pcCheck(n,1,2),2===n.length){var a=r.toNumber(n[1]);return isNaN(a)&&(a=0),i("ceil",r.toNumber(n[0]),-1*a)}return Math.ceil(r.toNumber(n[0]))}))},e.round=function(e,n){return t(e,n,(function(e,t,n){if(r.pcCheck(n,1,2),2===n.length){var a=r.toNumber(n[1]);return isNaN(a)&&(a=0),i("round",r.toNumber(n[0]),-1*a)}return Math.round(r.toNumber(n[0]))}))},e.floor=function(e,n){return t(e,n,(function(e,t,n){if(r.pcCheck(n,1,2),2===n.length){var a=r.toNumber(n[1]);return isNaN(a)&&(a=0),i("floor",r.toNumber(n[0]),-1*a)}return Math.floor(r.toNumber(n[0]))}))},e.cos=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.cos(r.toNumber(n[0]))}))},e.isnan=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),"number"==typeof n[0]&&isNaN(n[0])}))},e.exp=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.exp(r.toNumber(n[0]))}))},e.log=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.log(r.toNumber(n[0]))}))},e.pow=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,2,2),Math.pow(r.toNumber(n[0]),r.toNumber(n[1]))}))},e.random=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,0,0),Math.random()}))},e.sin=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.sin(r.toNumber(n[0]))}))},e.sqrt=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.sqrt(r.toNumber(n[0]))}))},e.tan=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),Math.tan(r.toNumber(n[0]))}))},e.defaultvalue=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,2,2),null===n[0]||""===n[0]||void 0===n[0]?n[1]:n[0]}))},e.isempty=function(e,n){return t(e,n,(function(e,t,n){return r.pcCheck(n,1,1),null===n[0]||""===n[0]||void 0===n[0]}))},e.boolean=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,1,1);var i=n[0];return r.toBoolean(i)}))},e.constrain=function(e,n){return t(e,n,(function(e,t,n){r.pcCheck(n,3,3);var i=r.toNumber(n[1]),u=r.toNumber(n[2]);if(r.isArray(n[0])){for(var o=[],s=0,l=n[0];s<l.length;s++){var c=l[s];o.push(a(c,i,u))}return o}if(r.isImmutableArray(n[0])){o=[];for(var f=0;f<n[0].length();f++)o.push(a(n[0].get(f),i,u));return o}return a(n[0],i,u)}))}}}.apply(null,n))||(e.exports=i)},sDeS:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){for(var r in Object.defineProperty(t,"__esModule",{value:!0}),t.functionDecls={concatenate:{min:"0",max:"*"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},schema:{min:"1",max:"1"}},t.functionDecls)t.functionDecls[r].fmin=t.functionDecls[r].min,t.functionDecls[r].fmax=t.functionDecls[r].max;var n=["featureset","featuresetbyid","featuresetbyname","featuresetbyassociation","featuresetbyrelationshipname","featuresetbyurl","attachments","featuresetbyportalitem"],i=["disjoint","intersects","touches","crosses","within","contains","overlaps","equals","relate","intersection","union","difference","symmetricdifference","clip","cut","area","areageodetic","length","lengthgeodetic","distance","distancegeodetic","densify","densifygeodetic","generalize","buffer","buffergeodetic","offset","rotate","issimple","simplify","multiparttosinglepart"];function a(e,t){return"0"!==e.min&&t.length<Number(e.min)||"*"!==e.max&&t.length>Number(e.max)?-2:1}function u(e,t,r){if(null!==r.localScope&&void 0!==r.localScope[e.toLowerCase()]){if("FormulaFunction"===(n=r.localScope[e.toLowerCase()]).type)return void 0===n.signature&&(n.signature={min:"0",max:"*"}),a(n.signature,t);if("any"===n.type)return void 0===n.signature&&(n.signature={min:"0",max:"*"}),a(n.signature,t)}if(void 0!==r.globalScope[e.toLowerCase()]){var n;if("FormulaFunction"===(n=r.globalScope[e.toLowerCase()]).type)return void 0===n.signature&&(n.signature={min:"0",max:"*"}),a(n.signature,t);if("any"===n.type)return void 0===n.signature&&(n.signature={min:"0",max:"*"}),a(n.signature,t)}return-1}function o(e,t){if(e)for(var r=0,n=e;r<n.length;r++)s(n[r],t)}function s(e,t){if(e&&!1!==t(e))switch(e.type){case"ArrayExpression":o(e.elements,t);break;case"AssignmentExpression":case"BinaryExpression":s(e.left,t),s(e.right,t);break;case"BlockStatement":o(e.body,t);break;case"BreakStatement":break;case"CallExpression":s(e.callee,t),o(e.arguments,t);break;case"ConditionalExpression":s(e.test,t),s(e.alternate,t),s(e.consequent,t);break;case"ContinueStatement":break;case"DoWhileStatement":s(e.test,t),s(e.body,t);break;case"EmptyStatement":break;case"ExpressionStatement":s(e.expression,t);break;case"ForInStatement":s(e.left,t),s(e.right,t),s(e.body,t);break;case"ForStatement":s(e.init,t),s(e.test,t),s(e.update,t),s(e.body,t);break;case"FunctionDeclaration":case"FunctionDeclaration":case"FunctionExpression":s(e.id,t),o(e.params,t),s(e.body,t);break;case"Identifier":break;case"IfStatement":s(e.test,t),s(e.consequent,t),s(e.alternate,t);break;case"Literal":break;case"LogicalExpression":s(e.left,t),s(e.right,t);break;case"MemberExpression":s(e.object,t),s(e.property,t);break;case"NewExpression":s(e.callee,t),o(e.arguments,t);break;case"ObjectExpression":o(e.properties,t);break;case"Program":o(e.body,t);break;case"Property":s(e.key,t),s(e.value,t);break;case"ReturnStatement":case"UnaryExpression":case"UpdateExpression":s(e.argument,t);break;case"VariableDeclaration":o(e.declarations,t);break;case"VariableDeclarator":s(e.id,t),s(e.init,t);break;case"TemplateLiteral":o(e.expressions,t),o(e.quasis,t)}}function l(e,t){void 0===t&&(t=!0);var r=d(e,"SYNTAX","UNREOGNISED");try{switch(e.type){case"VariableDeclarator":return null!==e.init&&"FunctionExpression"===e.init.type?d(e,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):"Identifier"!==e.id.type?d(e,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==e.init?l(e.init,!1):"";case"VariableDeclaration":for(var n=0;n<e.declarations.length;n++)if(""!==(r=l(e.declarations[n],t)))return r;return"";case"ForInStatement":if(""!==(r=l(e.left,t)))return r;if("VariableDeclaration"===e.left.type){if(e.left.declarations.length>1)return d(e,"SYNTAX","ONLY1VAR");if(null!==e.left.declarations[0].init)return d(e,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==e.left.type)return d(e,"SYNTAX","LEFTNOTVAR");return""!==(r=l(e.right,t))||""!==(r=l(e.body,t))?r:"";case"ForStatement":return null!==e.test&&""!==(r=l(e.test,t))||null!==e.init&&""!==(r=l(e.init,t))||null!==e.update&&""!==(r=l(e.update,t))||null!==e.body&&""!==(r=l(e.body,t))?r:"";case"ContinueStatement":case"EmptyStatement":case"BreakStatement":return"";case"IfStatement":return""!==(r=l(e.test,t))||null!==e.consequent&&""!==(r=l(e.consequent,!1))||null!==e.alternate&&""!==(r=l(e.alternate,!1))?r:"";case"BlockStatement":var i=[];for(n=0;n<e.body.length;n++)"EmptyStatement"!==e.body[n].type&&i.push(e.body[n]);for(e.body=i,n=0;n<e.body.length;n++)if(""!==(r=l(e.body[n],t)))return r;return"";case"FunctionDeclaration":return!1===t?d(e,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==e.id.type?d(e,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):l(e.body,!1);case"ReturnStatement":return null!==e.argument?l(e.argument,t):"";case"UpdateExpression":return"Identifier"!==e.argument.type&&"MemberExpression"!==e.argument.type?d(e,"SYNTAX","ASSIGNMENTTOVARSONLY"):l(e.argument,t);case"AssignmentExpression":if("Identifier"!==e.left.type&&"MemberExpression"!==e.left.type)return d(e,"SYNTAX","ASSIGNMENTTOVARSONLY");if(""!==(r=l(e.left,t)))return r;switch(e.operator){case"=":case"/=":case"*=":case"%=":case"+=":case"-=":break;default:return d(e,"SYNTAX","OPERATORNOTRECOGNISED")}return l(e.right,!1);case"ExpressionStatement":return"AssignmentExpression"===e.expression.type||e.expression.type,l(e.expression,!1);case"Identifier":r="";break;case"MemberExpression":return""!==(r=l(e.object,t))?r:!0===e.computed?l(e.property,t):"";case"Literal":case"TemplateElement":return"";case"CallExpression":if("Identifier"!==e.callee.type)return d(e,"SYNTAX","ONLYNODESSUPPORTED");for(r="",n=0;n<e.arguments.length;n++)if(""!==(r=l(e.arguments[n],t)))return r;return"";case"UnaryExpression":r=l(e.argument,t);break;case"BinaryExpression":if(""!==(r=l(e.left,t)))return r;if(""!==(r=l(e.right,t)))return r;switch(e.operator){case"|":case"&":case">>":case"<<":case">>":case">>>":case"^":case"==":case"!=":case"<":case"<=":case">":case">=":case"+":case"-":case"*":case"/":case"%":break;default:return d(e,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case"LogicalExpression":if(""!==(r=l(e.left,t)))return r;if(""!==(r=l(e.right)))return r;switch(e.operator){case"&&":case"||":break;default:return d(e,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case"ConditionalExpression":return d(e,"SYNTAX","NOTSUPPORTED");case"ArrayExpression":for(r="",n=0;n<e.elements.length;n++)if(""!==(r=l(e.elements[n],t)))return r;return r;case"TemplateLiteral":for(r="",n=0;n<e.quasis.length;n++)if(""!==(r=l(e.quasis[n],t)))return r;for(n=0;n<e.expressions.length;n++)if(""!==(r=l(e.expressions[n],t)))return r;return r;case"ObjectExpression":for(r="",n=0;n<e.properties.length;n++){if(r="",null!==e.properties[n].key&&("Literal"!==e.properties[n].key.type&&"Identifier"!==e.properties[n].key.type&&(r=d(e,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===e.properties[n].key.type)){var a=e.properties[n].key,u="value"in a?a.value:null;"string"==typeof u||u instanceof String||(r=d(e,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}if(""===r&&(r=l(e.properties[n],t)),""!==r)return r}return r;case"Property":return"Literal"!==e.key.type&&"Identifier"!==e.key.type?d(e,"SYNTAX","ONLYLITERAL"):"Identifier"!==e.key.type&&""!==(r=l(e.key,t))?r:r=l(e.value,t);default:return r}return r}catch(e){throw e}}function c(e,t){var r=d(e,"SYNTAX","UNREOGNISED"),n=null,i="";try{switch(e.type){case"VariableDeclarator":if(null!==e.init&&"FunctionExpression"===e.init.type)return d(e,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");var a=null===e.init?"":c(e.init,t);return""!==a?a:("Identifier"===e.id.type&&(null===t.localScope?t.globalScope[e.id.name.toLowerCase()]={type:"any"}:t.localScope[e.id.name.toLowerCase()]={type:"any"}),"");case"FunctionDeclaration":return n=p(e.id.name.toLowerCase(),e),""!==(i=m(e,t))?i:null!==t.localScope?d(e,"SYNTAX","GLOBALFUNCTIONSONLY"):(n.isnative=!1,t.globalScope[e.id.name.toLowerCase()]={type:"FormulaFunction",signature:[n]},"");case"VariableDeclaration":r="";for(var o=0;o<e.declarations.length;o++)if(""!==(r=c(e.declarations[o],t)))return r;return r;case"IfStatement":return""!==(r=c(e.test,t))?r:"AssignmentExpression"===e.test.type||"UpdateExpression"===e.test.type?d(e.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):null!==e.consequent&&""!==(r=c(e.consequent,t))||null!==e.alternate&&""!==(r=c(e.alternate,t))?r:"";case"EmptyStatement":return"";case"BlockStatement":for(o=0;o<e.body.length;o++)if(""!==(r=c(e.body[o],t)))return r;return"";case"ReturnStatement":return null!==e.argument?c(e.argument,t):"";case"ForInStatement":if("VariableDeclaration"===e.left.type){if(e.left.declarations.length>1)return d(e,"SYNTAX","ONLY1VAR");if(null!==e.left.declarations[0].init)return d(e,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==e.left.type)return d(e,"SYNTAX","LEFTNOTVAR");return""!==(r=c(e.left,t))||""!==(r=c(e.right,t))||""!==(r=c(e.body,t))?r:"";case"ForStatement":return null!==e.init&&""!==(r=c(e.init,t))||null!==e.test&&""!==(r=c(e.test,t))||null!==e.body&&""!==(r=c(e.body,t))||null!==e.update&&""!==(r=c(e.update,t))?r:"";case"BreakStatement":case"ContinueStatement":return"";case"UpdateExpression":if("Identifier"!==e.argument.type&&"MemberExpression"!==e.argument.type)return d(e,"SYNTAX","ASSIGNMENTTOVARSONLY");var s=!1;return"MemberExpression"===e.argument.type?c(e.argument,t):(null!==t.localScope&&void 0!==t.localScope[e.argument.name.toLowerCase()]&&(s=!0),void 0!==t.globalScope[e.argument.name.toLowerCase()]&&(s=!0),!1===s?"Identifier "+e.argument.name+" has not been declared.":"");case"AssignmentExpression":if("Identifier"!==e.left.type&&"MemberExpression"!==e.left.type)return d(e,"SYNTAX","ASSIGNMENTTOVARSONLY");var l=c(e.right,t);return""!==l?l:(s=!1,"MemberExpression"===e.left.type?""!==(l=c(e.left,t))?l:"":(null!==t.localScope&&void 0!==t.localScope[e.left.name.toLowerCase()]&&(s=!0),void 0!==t.globalScope[e.left.name.toLowerCase()]&&(s=!0),!1===s?"Identifier "+e.left.name+" has not been declared.":""));case"ExpressionStatement":return"AssignmentExpression"===e.expression.type||e.expression.type,c(e.expression,t);case"Identifier":var f=e.name.toLowerCase();if(null!==t.localScope&&void 0!==t.localScope[f])return"";r=void 0!==t.globalScope[f]?"":d(e,"SYNTAX","VARIABLENOTFOUND");break;case"MemberExpression":return""!==(r=c(e.object,t))?r:!0===e.computed?c(e.property,t):"";case"Literal":case"TemplateElement":return"";case"CallExpression":if("Identifier"!==e.callee.type)return d(e,"SYNTAX","ONLYNODESSUPPORTED");for(r="",o=0;o<e.arguments.length;o++)if(""!==(r=c(e.arguments[o],t)))return r;var h=u(e.callee.name,e.arguments,t);-1===h&&(r=d(e,"SYNTAX","NOTFOUND")),-2===h&&(r=d(e,"SYNTAX","WRONGSIGNATURE"));break;case"UnaryExpression":r=c(e.argument,t);break;case"BinaryExpression":return""!==(r=c(e.left,t))||""!==(r=c(e.right,t))?r:"";case"LogicalExpression":return""!==(r=c(e.left,t))?r:"AssignmentExpression"===e.left.type||"UpdateExpression"===e.left.type?d(e.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):""!==(r=c(e.right,t))?r:"AssignmentExpression"===e.right.type||"UpdateExpression"===e.right.type?d(e.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case"ConditionalExpression":return d(e,"SYNTAX","NOTSUPPORTED");case"ArrayExpression":for(r="",o=0;o<e.elements.length;o++)if(""!==(r=c(e.elements[o],t)))return r;return r;case"TemplateLiteral":for(r="",o=0;o<e.quasis.length;o++)if(""!==(r=c(e.quasis[o],t)))return r;for(o=0;o<e.expressions.length;o++)if(""!==(r=c(e.expressions[o],t)))return r;return r;case"ObjectExpression":for(r="",o=0;o<e.properties.length;o++){if(r="",null!==e.properties[o].key&&("Literal"!==e.properties[o].key.type&&"Identifier"!==e.properties[o].key.type&&(r=d(e,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===e.properties[o].key.type)){var y=e.properties[o].key,g="value"in y?y.value:null;"string"==typeof g||g instanceof String||(r=d(e,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}if(""===r&&(r=c(e.properties[o],t)),""!==r)return r}return r;case"Property":return"Literal"!==e.key.type&&"Identifier"!==e.key.type?d(e,"SYNTAX","ONLYLITERAL"):"Identifier"!==e.key.type&&""!==(r=c(e.key,t))?r:r=c(e.value,t);case"Program":case"FunctionExpression":case"NewExpression":case"DoWhileStatement":case"TemplateElement":default:return r}return r}catch(e){throw e}}function f(e,t){var r=!1,n=t.toLowerCase();return s(e,(function(e){return!r&&("Identifier"===e.type&&e.name&&e.name.toLowerCase()===n&&(r=!0),!0)})),r}function p(e,t){var r=[];if(void 0!==t.params&&null!==t.params)for(var n=0;n<t.params.length;n++)r.push("any");return{name:e,return:"any",params:r}}function m(e,t){for(var r={globalScope:t.globalScope,localScope:{}},n=0;n<e.params.length;n++){var i=e.params[n].name;r.localScope[i.toLowerCase()]={type:"any"}}return c(e.body,r)}function h(e,t,r,n){var i={};for(var a in null==e&&(e={}),null==r&&(r={}),i.infinity={type:"any"},i.textformatting={type:"any"},i.pi={type:"any"},t)"sync"===n&&void 0!==t[a].min?i[a]={type:"FormulaFunction",signature:{min:t[a].min,max:t[a].max}}:"sync"!==n&&void 0!==t[a].fmin&&(i[a]={type:"FormulaFunction",signature:{min:t[a].fmin,max:t[a].fmax}});for(var u=0;u<r.length;u++)i[(a=r[u]).name]={type:"FormulaFunction",signature:a};for(var a in e)i[a]=e[a],i[a].type="any";return i}function d(e,t,r){var n="";switch(t){case"SYNTAX":n="Syntax Error: ";break;case"RUNTIME":n="Runtime Error: ";break;default:n="Syntax Error: "}try{switch(e.type){case"IfStatement":switch(r){case"CANNOT_USE_ASSIGNMENT_IN_CONDITION":n+=" Assignments not be made in logical tests";break;case"CANNOT_USE_NONBOOLEAN_IN_CONDITION":n+=" Non Boolean used as Condition"}break;case"UpdateExpression":case"AssignmentExpression":switch(r){case"CANNOT_USE_ASSIGNMENT_IN_CONDITION":n+=" Assignments not be made in logical tests";break;case"ASSIGNMENTTOVARSONLY":n+=" Assignments can only be made to identifiers"}break;case"ExpressionStatement":n+=" Assignments can only be made to identifiers";break;case"FunctionDeclaration":switch(r){case"GLOBALFUNCTIONSONLY":n+=" Functions cannot be declared as variables";break;case"FUNCTIONMUSTHAVEIDENTIFIER":n+=" Function Definition must have an identifier"}break;case"VariableDeclaration":n+=" Only 1 variable can be declared at a time";break;case"VariableDeclarator":switch(r){case"FUNCTIONVARIABLEDECLARATOR":n+=" Functions cannot be declared as variables";break;case"VARIABLEMUSTHAVEIDENTIFIER":n+=" Variable Definition must have an identifier"}break;case"Identifier":n+=" Identifier Not Found. ",n+=e.name;break;case"ObjectExpression":switch(r){case"OBJECTPROPERTYMUSTBESTRING":n+=" Property name must be a string"}break;case"ForStatement":switch(r){case"CANNOT_USE_NONBOOLEAN_IN_CONDITION":n+=" Non Boolean used as Condition"}break;case"ForInStatement":switch(r){case"ONLY1VAR":n+=" Can only declare 1 var for use with IN";break;case"CANNOTDECLAREVAL":n+=" Can only declare value for use with IN";break;case"LEFTNOVAR":n+="Must provide a variable to iterate with.";break;case"VARIABLENOTDECLARED":n+="Variable must be declared before it is used..";break;case"CANNOTITERATETHISTYPE":n+="This type cannot be used in an IN loop"}break;case"MemberExpression":switch(r){case"PROPERTYNOTFOUND":n+="Cannot find member property. ",n+=!1===e.computed&&"Identifier"===e.property.type?e.property.name:"";break;case"OUTOFBOUNDS":n+="Out of Bounds. ",n+=!1===e.computed&&"Identifier"===e.property.type?e.property.name:"";break;case"NOTFOUND":n+="Cannot call member method on null. ",n+=!1===e.computed&&"Identifier"===e.property.type?e.property.name:"";break;case"INVALIDTYPE":n+="Cannot call member property on object of this type. ",n+=!1===e.computed&&"Identifier"===e.property.type?e.property.name:""}break;case"Property":switch(r){case"ONLYLITERAL":n+="Property names must be literals or identifiers"}break;case"Literal":break;case"CallExpression":switch(r){case"WRONGSIGNATURE":n+="Function signature does not match: ",n+="Identifier"===e.callee.type?e.callee.name:"";break;case"ONLYNODESUPPORTED":n+="Functions must be declared.",n+="Identifier"===e.callee.type?e.callee.name:"";break;case"NOTAFUNCTION":n+="Not a Function: ",n+="Identifier"===e.callee.type?e.callee.name:"";break;case"NOTFOUND":n+="Function Not Found: "+("Identifier"===e.callee.type?e.callee.name:"")}break;case"UnaryExpression":switch(r){case"NOTSUPPORTEDUNARYOPERATOR":n+="Operator "+e.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case"NOTSUPPORTEDTYPE":n+="Unary operator "+e.operator+" cannot be used with this argument."}case"BinaryExpression":switch(r){case"OPERATORNOTRECOGNISED":n+="Binary Operator not recognised "+e.operator}break;case"LogicalExpression":switch(r){case"ONLYBOOLEAN":n+="Operator "+e.operator+" cannot be used. Only || or && are allowed values";break;case"ONLYORORAND":n+="Logical Expression "+e.operator+" being applied to parameters that are not boolean."}break;case"ConditionalExpression":n+="Conditional statements not supported.";break;case"ArrayExpression":switch(r){case"FUNCTIONCONTEXTILLEGAL":n+=" Cannot Put Function inside Array."}break;default:n+="Expression contains unrecognised code structures."}}catch(e){throw e}return n}function y(e,t,r){return{line:e.loc.start.line,character:e.loc.start.column,reason:d(e,t,r)}}function g(e,t,r,n){for(var i={globalScope:t.globalScope,localScope:{}},a=0;a<e.params.length;a++){var u=e.params[a].name;i.localScope[u.toLowerCase()]={type:"any"}}D(e.body,i,r,n,!1)}function D(e,t,r,n,i){if(void 0===i&&(i=!0),null===e)throw new Error("Unnexpexted Expression Syntax");var a=null;try{switch(e.type){case"VariableDeclarator":return null!==e.init&&"FunctionExpression"===e.init.type?void n.push(y(e,"SYNTAX","FUNCTIONVARIABLEDECLARATOR")):("Identifier"!==e.id.type?n.push(y(e,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(null!==t.localScope?t.localScope[e.id.name.toLowerCase()]:t.globalScope[e.id.name.toLowerCase()],null===t.localScope?t.globalScope[e.id.name.toLowerCase()]={type:"any"}:t.localScope[e.id.name.toLowerCase()]={type:"any"}),void(null!==e.init&&D(e.init,t,r,n,i)));case"FunctionDeclaration":return!1===i&&n.push(y(e,"SYNTAX","GLOBALFUNCTIONSONLY")),"Identifier"!==e.id.type&&n.push(y(e,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER")),a=p("",e),g(e,t,r,n),null!==t.localScope&&n.push(y(e,"SYNTAX","GLOBALFUNCTIONSONLY")),a.isnative=!1,void("Identifier"===e.id.type&&(t.globalScope[e.id.name.toLowerCase()]={type:"FormulaFunction",signature:[a]}));case"VariableDeclaration":for(var o=0;o<e.declarations.length;o++)D(e.declarations[o],t,r,n,i);return;case"IfStatement":return null!==e.test&&(D(e.test,t,r,n,i),"AssignmentExpression"!==e.test.type&&"UpdateExpression"!==e.test.type||n.push(y(e.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"))),null!==e.consequent&&D(e.consequent,t,r,n,i),void(null!==e.alternate&&D(e.alternate,t,r,n,i));case"EmptyStatement":return;case"BlockStatement":if(null!==e.body)for(o=0;o<e.body.length;o++)D(e.body[o],t,r,n,i);return;case"ReturnStatement":return void(null!==e.argument&&D(e.argument,t,r,n,i));case"ForInStatement":return"VariableDeclaration"===e.left.type?(e.left.declarations.length>1&&n.push(y(e,"SYNTAX","ONLY1VAR")),null!==e.left.declarations[0].init&&n.push(y(e,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==e.left.type&&n.push(y(e,"SYNTAX","LEFTNOTVAR")),D(e.left,t,r,n,i),D(e.right,t,r,n,i),void D(e.body,t,r,n,i);case"ForStatement":return null!==e.init&&D(e.init,t,r,n,i),null!==e.test&&D(e.test,t,r,n,i),null!==e.body&&D(e.body,t,r,n,i),void(null!==e.update&&D(e.update,t,r,n,i));case"BreakStatement":case"ContinueStatement":return;case"UpdateExpression":if("Identifier"!==e.argument.type&&"MemberExpression"!==e.argument.type)n.push(y(e,"SYNTAX","ASSIGNMENTTOVARSONLY"));else{if("Identifier"===e.argument.type){var s=!1;!1===r&&(null!==t.localScope&&void 0!==t.localScope[e.argument.name.toLowerCase()]&&(s=!0),void 0!==t.globalScope[e.argument.name.toLowerCase()]&&(s=!0),!1===s&&n.push({line:null===e?0:e.loc.start.line,character:null===e?0:e.loc.start.column,reason:"Identifier "+e.argument.name+" has not been declared."}))}"MemberExpression"===e.argument.type&&D(e.argument,t,r,n,i)}return;case"AssignmentExpression":switch("Identifier"!==e.left.type&&"MemberExpression"!==e.left.type&&n.push(y(e,"SYNTAX","ASSIGNMENTTOVARSONLY")),e.operator){case"=":case"/=":case"*=":case"%=":case"+=":case"-=":break;default:n.push(y(e,"SYNTAX","OPERATORNOTRECOGNISED"))}D(e.right,t,r,n,i);var l=!1;return"Identifier"===e.left.type&&(null!==t.localScope&&void 0!==t.localScope[e.left.name.toLowerCase()]&&(l=!0),void 0!==t.globalScope[e.left.name.toLowerCase()]&&(l=!0),!1===r&&!1===l&&n.push({line:null===e?0:e.loc.start.line,character:null===e?0:e.loc.start.column,reason:"Identifier "+e.left.name+" has not been declared."})),void("MemberExpression"===e.left.type&&D(e.left,t,r,n,i));case"ExpressionStatement":return"AssignmentExpression"===e.expression.type||e.expression.type,void D(e.expression,t,r,n,i);case"Identifier":var c=e.name.toLowerCase();if(null!==t.localScope&&void 0!==t.localScope[c])return;if(void 0!==t.globalScope[c])return;!1===r&&n.push(y(e,"SYNTAX","VARIABLENOTFOUND"));break;case"MemberExpression":return D(e.object,t,r,n,i),void(!0===e.computed&&D(e.property,t,r,n,i));case"Literal":case"TemplateElement":return;case"CallExpression":for("Identifier"!==e.callee.type&&n.push(y(e,"SYNTAX","ONLYNODESSUPPORTED")),o=0;o<e.arguments.length;o++)D(e.arguments[o],t,r,n,i);if("Identifier"===e.callee.type){var f=u(e.callee.name,e.arguments,t);!1===r&&-1===f&&n.push(y(e,"SYNTAX","NOTFOUND")),-2===f&&n.push(y(e,"SYNTAX","WRONGSIGNATURE"))}return;case"UnaryExpression":return void D(e.argument,t,r,n,i);case"BinaryExpression":switch(D(e.left,t,r,n,i),D(e.right,t,r,n,i),e.operator){case"==":case"!=":case"<":case"<=":case">":case">=":case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"<<":case">>":case">>>":break;default:n.push(y(e,"SYNTAX","OPERATORNOTRECOGNISED"))}return;case"LogicalExpression":switch(e.operator){case"&&":case"||":break;default:n.push(y(e,"SYNTAX","OPERATORNOTRECOGNISED"))}return D(e.left,t,r,n,i),"AssignmentExpression"!==e.left.type&&"UpdateExpression"!==e.left.type||n.push(y(e,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")),D(e.right,t,r,n,i),void("AssignmentExpression"!==e.right.type&&"UpdateExpression"!==e.right.type||n.push(y(e,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));case"ConditionalExpression":n.push(y(e,"SYNTAX","NOTSUPPORTED"));break;case"ArrayExpression":for(o=0;o<e.elements.length;o++)D(e.elements[o],t,r,n,i);return;case"TemplateLiteral":for(o=0;o<e.quasis.length;o++)D(e.quasis[o],t,r,n,i);for(o=0;o<e.expressions.length;o++)D(e.expressions[o],t,r,n,i);return;case"ObjectExpression":for(o=0;o<e.properties.length;o++)D(e.properties[o],t,r,n,i);return;case"Property":return"Literal"!==e.key.type&&"Identifier"!==e.key.type&&n.push(y(e,"SYNTAX","ONLYLITERAL")),"Literal"===e.key.type&&D(e.key,t,r,n,i),void D(e.value,t,r,n,i);default:n.push(y(e,"SYNTAX","UNRECOGNISED"))}return}catch(t){n.push({line:null===e?0:e.loc.start.line,character:null===e?0:e.loc.start.column,reason:"Unnexpected Syntax"})}}function v(e){var t=[];return s(e,(function(e){return"CallExpression"===e.type&&"Identifier"===e.callee.type&&t.push(e.callee.name.toLowerCase()),!0})),t}t.addFunctionDeclaration=function(e,r){var n=t.functionDecls[e.name.toLowerCase()];void 0===n?t.functionDecls[e.name.toLowerCase()]="sync"===r?{min:e.min,max:e.max}:{fmin:e.min,fmax:e.max}:"sync"===r?(n.min=e.min,n.max=e.max):(n.fmin=e.min,n.fmax=e.max)},t.checkFunctionSignature=a,t.findFunction=u,t.walk=s,t.validateLanguageNode=l,t.testValidityOfExpression=c,t.referencesMember=f,t.referencesFunction=function(e,t){var r=!1,n=t.toLowerCase();return s(e,(function(e){return!(r||"CallExpression"===e.type&&"Identifier"===e.callee.type&&e.callee.name&&e.callee.name.toLowerCase()===n&&(r=!0,1))})),r},t.findFieldLiterals=function(e){var t=[];return s(e,(function(e){return"MemberExpression"!==e.type||"Identifier"!==e.object.type||(!1===e.computed&&e.object&&e.object.name&&e.property&&"Identifier"===e.property.type&&e.property.name?t.push(e.object.name.toLowerCase()+"."+e.property.name.toLowerCase()):e.object&&e.object.name&&e.property&&"Literal"===e.property.type&&"string"==typeof e.property.value&&t.push(e.object.name.toLowerCase()+"."+e.property.value.toString().toLowerCase()),!1)})),t},t.extractFunctionDeclaration=p,t.validateFunction=m,t.constructGlobalScope=h,t.validateScript=function(e,r,n,i){void 0===n&&(n="async"),void 0===i&&(i=t.functionDecls);var a={globalScope:h(r.vars,i,r.customFunctions,n),localScope:null};return c(e.body[0].body,a)},t.validateLanguage=function(e){return"BlockStatement"!==e.body[0].body.type?"Invalid formula content.":l(e.body[0].body)},t.nodeErrorMessage=d,t.makeError=y,t.extractAllIssuesInFunction=g,t.extractAllIssues=D,t.checkScript=function(e,r,n,i,a){void 0===i&&(i="async"),void 0===a&&(a=t.functionDecls);var u=[];if("BlockStatement"!==e.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];null==r&&(r={vars:{},customFunctions:[]});var o={globalScope:h(r.vars,a,r.customFunctions,i),localScope:null};try{D(e.body[0].body,o,n,u)}catch(e){}return u},t.findFunctionCalls=v,t.findScriptDependencies=function(e,t){void 0===t&&(t=[]);var r=null;if(void 0===e.usesFeatureSet){null===r&&(r=v(e)),e.usesFeatureSet=!1;for(var a=0;a<r.length;a++)n.indexOf(r[a])>-1&&(e.usesFeatureSet=!0,e.isAsync=!0);if(!1===e.usesFeatureSet&&t&&t.length>0)for(var u=0,o=t;u<o.length;u++)if(f(e,o[u])){e.usesFeatureSet=!0,e.isAsync=!0;break}}if(void 0===e.usesGeometry)for(e.usesGeometry=!1,null===r&&(r=v(e)),a=0;a<r.length;a++)i.indexOf(r[a])>-1&&(e.usesGeometry=!0)},t.scriptUsesFeatureSet=function(e){for(var t=v(e),r=0;r<t.length;r++)if(n.indexOf(t[r])>-1)return!0;return!1}}.apply(null,n))||(e.exports=i)},tq6K:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("qMld"),r("N7S/"),r("KQcO")],void 0===(i=function(e,t,r,n,i){function a(e){return e instanceof Date}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Standardised=0]="Standardised",e[e.StandardisedNoInterval=1]="StandardisedNoInterval",e[e.SqlServer=2]="SqlServer",e[e.Oracle=3]="Oracle",e[e.Postgres=4]="Postgres",e[e.PGDB=5]="PGDB",e[e.FILEGDB=6]="FILEGDB",e[e.NotEvaluated=7]="NotEvaluated"}(t.FeatureServiceDatabaseType||(t.FeatureServiceDatabaseType={})),t.cloneField=function(e){return i.fromJSON(e.toJSON())},t.esriFieldToJson=function(e){return e.toJSON()},function(e){e[e.InFeatureSet=0]="InFeatureSet",e[e.NotInFeatureSet=1]="NotInFeatureSet",e[e.Unknown=2]="Unknown"}(t.IdState||(t.IdState={})),t.isString=function(e){return"string"==typeof e||e instanceof String},t.isBoolean=function(e){return"boolean"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isArray=function(e){return e instanceof Array},t.isDate=a,t.equalityTest=function(e,t){return e===t||!(!a(e)||!a(t))&&e.getTime()===t.getTime()},t.cloneAttributes=function(e){var t={};for(var r in e)t[r]=e[r];return t},t.convertSquareUnitsToCode=function(e){if(void 0===e)return null;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null},t.shapeExtent=function(e){if(null===e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new n({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null},t.convertLinearUnitsToCode=function(e){if(void 0===e)return null;if("number"==typeof e)return e;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null},t.sameGeomType=function(e,t){return e===t||"point"===e&&"esriGeometryPoint"===t||"polyline"===e&&"esriGeometryPolyline"===t||"polygon"===e&&"esriGeometryPolygon"===t||"extent"===e&&"esriGeometryEnvelope"===t||"multipoint"===e&&"esriGeometryMultipoint"===t||"point"===t&&"esriGeometryPoint"===e||"polyline"===t&&"esriGeometryPolyline"===e||"polygon"===t&&"esriGeometryPolygon"===e||"extent"===t&&"esriGeometryEnvelope"===e||"multipoint"===t&&"esriGeometryMultipoint"===e},t.defaultMaxRecords=1e3,t.errback=function(e){return function(t){e.reject(t)}},t.callback=function(e,t){return function(){try{e.apply(null,arguments)}catch(e){t.reject(e)}}},t.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},t.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},t.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"},t.toEsriGeometryType=function(e){switch(e){case"point":return"esriGeometryPoint";case"polygon":return"esriGeometryPolygon";case"multipoint":return"esriGeometryMultipoint";case"polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}},t.reduceArrayWithPromises=function(e,t){return r.create((function(n,i){var a=r.resolve(!0);e.reduce((function(e,n,i,a){return e.then((function(e){try{return t(e,n,i,a)}catch(e){return r.reject(e)}}),(function(e){return r.reject(e)}))}),a).then(n,i)}))},t.extractServiceUrl=function(e){return void 0===e?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]},t.stableStringify=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},a={key:n,value:e[n]};return r(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,u;if(Array.isArray(t)){for(u="[",r=0;r<t.length;r++)r&&(u+=","),u+=e(t[r])||"null";return u+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=a.push(t)-1,s=Object.keys(t).sort(i&&i(t));for(u="",r=0;r<s.length;r++){var l=s[r],c=e(t[l]);c&&(u&&(u+=","),u+=JSON.stringify(l)+":"+c)}return a.splice(o,1),"{"+u+"}"}}(e)}}.apply(null,n))||(e.exports=i)},xdyM:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("R2Zq"),r("+PwV"),r("2Kdy")],void 0===(i=function(e,t,n,i,a){Object.defineProperty(t,"__esModule",{value:!0});var u=i.MapFromValues([["ar",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(153)]).then(function(){var t=[r("jnO4")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-dz",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(147)]).then(function(){var t=[r("o1bE")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-kw",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(148)]).then(function(){var t=[r("Qj4J")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-ly",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(149)]).then(function(){var t=[r("HP3h")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-ma",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(150)]).then(function(){var t=[r("CoRJ")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-sa",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(151)]).then(function(){var t=[r("gjCT")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ar-tn",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(152)]).then(function(){var t=[r("bYM6")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["bs",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(154)]).then(function(){var t=[r("JVSJ")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ca",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(155)]).then(function(){var t=[r("1xZ4")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["cs",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(156)]).then(function(){var t=[r("PA2r")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["da",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(157)]).then(function(){var t=[r("DxQv")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["de",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(160)]).then(function(){var t=[r("tGlX")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["de-at",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(158)]).then(function(){var t=[r("s+uk")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["de-ch",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(159)]).then(function(){var t=[r("u3GI")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["el",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(161)]).then(function(){var t=[r("jUeY")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-au",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(162)]).then(function(){var t=[r("Dmvi")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-ca",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(163)]).then(function(){var t=[r("OIYi")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-gb",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(164)]).then(function(){var t=[r("Oaa7")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-ie",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(165)]).then(function(){var t=[r("4dOw")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-il",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(166)]).then(function(){var t=[r("czMo")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["en-nz",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(167)]).then(function(){var t=[r("b1Dy")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["es",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(170)]).then(function(){var t=[r("iYuL")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["es-do",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(168)]).then(function(){var t=[r("CjzT")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["es-us",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(169)]).then(function(){var t=[r("Vclq")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["et",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(171)]).then(function(){var t=[r("7BjC")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fi",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(172)]).then(function(){var t=[r("gekB")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fr",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(175)]).then(function(){var t=[r("nyYc")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fr-ca",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(173)]).then(function(){var t=[r("2fjn")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["fr-ch",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(174)]).then(function(){var t=[r("Dkky")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["he",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(176)]).then(function(){var t=[r("x6pH")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["hr",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(177)]).then(function(){var t=[r("S6ln")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["hu",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(178)]).then(function(){var t=[r("WxRl")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["id",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(179)]).then(function(){var t=[r("UDhR")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["it",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(181)]).then(function(){var t=[r("bpih")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["it-ch",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(180)]).then(function(){var t=[r("bxKX")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ja",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(182)]).then(function(){var t=[r("B55N")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ko",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(183)]).then(function(){var t=[r("Ivi+")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["lt",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(184)]).then(function(){var t=[r("JvlW")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["lv",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(185)]).then(function(){var t=[r("uXwI")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["nb",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(186)]).then(function(){var t=[r("bOMt")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["nl",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(188)]).then(function(){var t=[r("+s0g")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["nl-be",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(187)]).then(function(){var t=[r("2ykv")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["pl",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(189)]).then(function(){var t=[r("jVdC")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["pt",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(191)]).then(function(){var t=[r("8mBD")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["pt-br",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(190)]).then(function(){var t=[r("0tRk")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ro",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(192)]).then(function(){var t=[r("lyxo")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["ru",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(193)]).then(function(){var t=[r("lXzo")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sl",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(194)]).then(function(){var t=[r("gVVK")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sr",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(196)]).then(function(){var t=[r("zx6S")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sr-cyrl",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(195)]).then(function(){var t=[r("E+lV")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["sv",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(197)]).then(function(){var t=[r("X709")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["th",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(198)]).then(function(){var t=[r("EOgW")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["tr",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(199)]).then(function(){var t=[r("DoHr")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["uk",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(200)]).then(function(){var t=[r("raLr")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["vi",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(201)]).then(function(){var t=[r("KSF8")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["zh-cn",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(202)]).then(function(){var t=[r("XDpg")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["zh-hk",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(203)]).then(function(){var t=[r("SatO")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}],["zh-tw",function(){return new Promise((function(e,t){Promise.all([r.e(0),r.e(204)]).then(function(){var t=[r("kOpN")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))}]]);t.loadMoment=function(e){return void 0===e&&(e=a.getLocale()),n.__awaiter(this,void 0,void 0,(function(){var t,i,a;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(e,t){r.e(0).then(function(){var t=[r("wd/R")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))];case 1:return t=n.sent(),(i=u.has(e))||(a=e.split("-")).length>1&&u.has(a[0])&&(e=a[0],i=!0),i?[4,u.get(e)()]:[3,3];case 2:return n.sent(),[3,4];case 3:e="en",n.label=4;case 4:return e!==t.locale()&&t.locale(e),[2,t]}}))}))}}.apply(null,n))||(e.exports=i)},zjMq:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("OSIf"),r("RdlP"),r("gfOZ"),r("QlEX"),r("sDeS"),r("H1tY"),r("qMld"),r("xdyM")],void 0===(i=function(e,t,n,i,a,u,o,s,l,c){Object.defineProperty(t,"__esModule",{value:!0});var f=function(){if(s("csp-restrictions"))return!1;try{return new Function("function* test() {}; return true")()}catch(e){return!1}}(),p=!1,m=!1,h=null,d=[];function y(e,t){return void 0===t&&(t=[]),u.parseScript(e,t)}function g(e,t){if(!0===t.useAsync||!0===e.isAsync){if(null===h)throw new Error("Async Arcade must be enabled for this script");return h.executeScript(e,t)}return i.executeScript(e,t)}function D(e,t){return i.referencesMember(e,t)}function v(e,t){return void 0===t&&(t=[]),void 0===e.usesGeometry&&o.findScriptDependencies(e,t),!0===e.usesGeometry}t.compileScript=function(e,t){return!0===t.useAsync||!0===e.isAsync?function(e,t){if(null===h)throw new Error("Async Arcade must be enabled for this script");return s("csp-restrictions")||!1===f?function(t){return h.executeScript(e,t)}:n.compileScript(e,t,!0)}(e,t):s("csp-restrictions")?function(t){return i.executeScript(e,t)}:n.compileScript(e,t)},t.extend=function(e){i.extend(e),n.extend(e,"sync"),null===h?d.push(e):(n.extend(e,"async"),h.extend(e))},t.parseScript=y,t.validateScript=function(e,t,r){return void 0===r&&(r=""),u.validateScript(e,t,r)},t.scriptCheck=function(e,t,r,n){return void 0===n&&(n=""),u.scriptCheck(e,t,r,n)},t.parseAndExecuteScript=function(e,t,r){return void 0===r&&(r=[]),g(u.parseScript(e,r),t)},t.executeScript=g,t.referencesMember=D,t.referencesFunction=function(e,t){return i.referencesFunction(e,t)},t.extractFieldLiterals=function(e,t){return void 0===t&&(t=!1),u.extractFieldLiterals(e,t)},t.scriptUsesGeometryEngine=v;var E=null;function b(){return E||(E=l.create((function(e,t){Promise.all([r.e(8),r.e(86)]).then((function(){var t=[r("21p4"),r("Na27")];(function(t,r){m=!0,r.setGeometryEngine(t),e(!0)}).apply(null,t)})).catch((function(e){t(e)}))})))}t.enableGeometrySupport=b;var C=null;function A(){return null!==C?C:C=n.enableAsyncSupport().then((function(){return l.create((function(e,t){r.e(76).then((function(){var i=[r("8Des")];(function(r){try{h=r;for(var i=0,a=d;i<a.length;i++){var u=a[i];h.extend(u),n.extend(u,"async")}d=null,e(!0)}catch(r){t(r)}}).apply(null,i)})).catch(t.bind(this))}))}))}function F(){return p}function S(){return!!h}function w(){return m}t.enableAsyncSupport=A,t.isFeatureSetSupportEnabled=F,t.isAsyncEnabled=S,t.isGeometryEnabled=w;var N=null;function x(){return N||(N=A().then((function(){return l.create((function(e,t){Promise.all([r.e(5),r.e(6),r.e(7),r.e(10),r.e(38)]).then((function(){var i=[r("eLe6"),r("1+78"),r("59NQ"),r("mHvT"),r("IvL0")];(function(r,i,a,u,o){try{O=r,h.extend([i,a,u,o]),n.extend([i,a,u,o],"async"),p=!0,e(!0)}catch(r){t(r)}}).apply(null,i)})).catch(t.bind(this))}))})))}function I(e,t){return void 0===t&&(t=[]),void 0===e.usesFeatureSet&&o.findScriptDependencies(e,t),!0===e.usesFeatureSet}t.enableFeatureSetSupport=x,t.scriptUsesFeatureSet=I,t.scriptIsAsync=function(e,t){return void 0===t&&(t=[]),void 0===e.isAsync&&o.findScriptDependencies(e,t),!0===e.isAsync},t.loadScriptDependencies=function(e,t,r,n){return void 0===r&&(r=[]),void 0===n&&(n=!1),l.create((function(i,a){var u="string"==typeof e?y(e):e,o=[];o.push(T()),u&&(!1===w()&&(v(u)||n)&&o.push(b()),!1===S()&&(!0===u.isAsync||t)&&o.push(A()),!1===F()&&(I(u)||function(e,t){if(t){for(var r=0,n=t;r<n.length;r++)if(D(e,n[r]))return!0;return!1}return!1}(u,r))&&o.push(x())),o?l.all(o).then((function(){i(!0)}),a):i(!0)}))},t.scriptTouchesGeometry=function(e){if(v(e))return!0;var t=o.findFunctionCalls(e);return t.indexOf("geometry")>-1||t.indexOf("feature")>-1};var O=null;function T(){return null!==B?B:B=c.loadMoment().then((function(e){return a.MomentLibrary.Moment=e,!0}))}t.featureSetUtils=function(){return O},t.load=T;var B=null}.apply(null,n))||(e.exports=i)}}]);