(function(){(this||window).webpackJsonp.registerAbsMids({"esri/tasks/operations/zscale":"HoQt","esri/views/3d/support/PBFDecoderWorker":"Yk2S","esri/core/pbf":"v7zm"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{HoQt:function(t,e,i){var r,n;r=[i.dj.c(t.i),e,i("8uEs"),i("nrlZ")],void 0===(n=function(t,e,i,r){function n(t,e,n){if(!e||!n||n.vcsWkid||r.equals(e,n))return null;var o=i.getMetersPerVerticalUnitForSR(e)/i.getMetersPerVerticalUnitForSR(n);if(1===o)return null;switch(t){case"point":case"esriGeometryPoint":return function(t){return i=o,void((e=t)&&null!=e.z&&(e.z*=i));var e,i};case"polyline":case"esriGeometryPolyline":return function(t){return function(t,e){if(t)for(var i=0,r=t.paths;i<r.length;i++)for(var n=0,o=r[i];n<o.length;n++){var s=o[n];s.length>2&&(s[2]*=e)}}(t,o)};case"polygon":case"esriGeometryPolygon":return function(t){return function(t,e){if(t)for(var i=0,r=t.rings;i<r.length;i++)for(var n=0,o=r[i];n<o.length;n++){var s=o[n];s.length>2&&(s[2]*=e)}}(t,o)};case"multipoint":case"esriGeometryMultipoint":return function(t){return function(t,e){if(t)for(var i=0,r=t.points;i<r.length;i++){var n=r[i];n.length>2&&(n[2]*=e)}}(t,o)};default:return null}}function o(t,e,i){if(null==t.hasM||t.hasZ)for(var r=0,n=e;r<n.length;r++)for(var o=0,s=n[r];o<s.length;o++){var a=s[o];a.length>2&&(a[2]*=i)}}function s(t,e,i){if(t)for(var r=0,n=t;r<n.length;r++)a(n[r].geometry,e,i)}function a(t,e,n){if(t&&t.spatialReference&&!r.equals(t.spatialReference,e)){var s=i.getMetersPerVerticalUnitForSR(t.spatialReference)/n;if(1!==s)if("x"in t)null!=t.z&&(t.z*=s);else if("rings"in t)o(t,t.rings,s);else if("paths"in t)o(t,t.paths,s);else if("points"in t&&(null==t.hasM||t.hasZ))for(var a=0,p=t.points;a<p.length;a++){var h=p[a];h.length>2&&(h[2]*=s)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.getGeometryZScaler=n,e.applyFeatureSetZUnitScaling=function(t,e,i){if(i&&i.features&&i.hasZ){var r=n(i.geometryType,e,t.outSpatialReference);if(r)for(var o=0,s=i.features;o<s.length;o++)r(s[o].geometry)}},e.unapplyEditsZUnitScaling=function(t,e,r){if((t||e)&&r){var n=i.getMetersPerVerticalUnitForSR(r);s(t,r,n),s(e,r,n)}}}.apply(null,r))||(t.exports=n)},Yk2S:function(t,e,i){var r,n;r=[i.dj.c(t.i),e,i("qMld"),i("G+Sd")],void 0===(n=function(t,e,i,r){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype._parseFeatureQuery=function(t){var e=r.parsePBFFeatureQuery(t.buffer,t.options),n=e;if(e.spatialReference=n.spatialReference.toJSON(),n.fields)for(var o=0;o<n.fields.length;o++)n.fields[o]=n.fields[o].toJSON();return i.resolve(n)},t}();e.default=function(){return new n}}.apply(null,r))||(t.exports=n)},v7zm:function(t,e,i){var r,n;r=[i.dj.c(t.i),e,i("H1tY"),i("SyoC")],void 0===(n=function(t,e,i,r){var n=i("esri-text-decoder")?new TextDecoder("utf-8"):null,o=i("safari")||i("ios")?6:i("ff")?12:32;return function(){function t(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=t?t.byteLength:0),this._tag=0,this._dataType=99,this.init(t,e,i,r)}return t.prototype.init=function(t,e,i,r){this._data=t,this._dataView=e,this._pos=i,this._end=r},t.prototype.clone=function(){return new t(this._data,this._dataView,this._pos,this._end)},t.prototype.pos=function(){return this._pos},t.prototype.next=function(t){for(;;){if(this._pos===this._end)return!1;var e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0},t.prototype.empty=function(){return this._pos>=this._end},t.prototype.tag=function(){return this._tag},t.prototype.getInt32=function(){return this._decodeVarint()},t.prototype.getInt64=function(){return this._decodeVarint()},t.prototype.getUInt32=function(){var t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))},t.prototype.getUInt64=function(){return this._decodeVarint()},t.prototype.getSInt32=function(){var t=this.getUInt32();return t>>>1^-(1&t)|0},t.prototype.getSInt64=function(){return this._decodeSVarint()},t.prototype.getBool=function(){var t=0!==this._data[this._pos];return this._skip(1),t},t.prototype.getEnum=function(){return this._decodeVarint()},t.prototype.getFixed64=function(){var t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+4294967296*t.getUint32(e+4,!0);return this._skip(8),i},t.prototype.getSFixed64=function(){var t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+4294967296*t.getInt32(e+4,!0);return this._skip(8),i},t.prototype.getDouble=function(){var t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t},t.prototype.getFixed32=function(){var t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t},t.prototype.getSFixed32=function(){var t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t},t.prototype.getFloat=function(){var t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t},t.prototype.getString=function(){var t=this._getLength(),e=this._pos,i=this._toString(this._data,e,e+t);return this._skip(t),i},t.prototype.getBytes=function(){var t=this._getLength(),e=this._pos,i=this._toBytes(this._data,e,e+t);return this._skip(t),i},t.prototype.processMessageWithArgs=function(t,e,i,r){var n=this.getMessage(),o=t(n,e,i,r);return n.release(),o},t.prototype.processMessage=function(t){var e=this.getMessage(),i=t(e);return e.release(),i},t.prototype.getMessage=function(){var e=this._getLength(),i=t.pool.acquire();return i.init(this._data,this._dataView,this._pos,this._pos+e),this._skip(e),i},t.prototype.release=function(){t.pool.release(this)},t.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}},t.prototype._skip=function(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t},t.prototype._decodeVarint=function(){var t,e=this._data,i=this._pos,r=0;if(this._end-i>=10)do{if(r|=127&(t=e[i++]),0==(128&t))break;if(r|=(127&(t=e[i++]))<<7,0==(128&t))break;if(r|=(127&(t=e[i++]))<<14,0==(128&t))break;if(r|=(127&(t=e[i++]))<<21,0==(128&t))break;if(r+=268435456*(127&(t=e[i++])),0==(128&t))break;if(r+=34359738368*(127&(t=e[i++])),0==(128&t))break;if(r+=4398046511104*(127&(t=e[i++])),0==(128&t))break;if(r+=562949953421312*(127&(t=e[i++])),0==(128&t))break;if(r+=72057594037927940*(127&(t=e[i++])),0==(128&t))break;if(r+=0x8000000000000000*(127&(t=e[i++])),0==(128&t))break;throw new Error("Varint too long!")}while(0);else{for(var n=1;i!==this._end&&0!=(128&(t=e[i]));)++i,r+=(127&t)*n,n*=128;if(i===this._end)throw new Error("Varint overrun!");++i,r+=t*n}return this._pos=i,r},t.prototype._decodeSVarint=function(){var t=this._decodeVarint();return t%2?-(t+1)/2:t/2},t.prototype._getLength=function(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()},t.prototype._toString=function(t,e,i){if((i=Math.min(this._end,i))-e>o&&n){var r=t.subarray(e,i);return n.decode(r)}for(var s="",a="",p=e;p<i;++p){var h=t[p];128&h?a+="%"+h.toString(16):(s+=decodeURIComponent(a)+String.fromCharCode(h),a="")}return a.length&&(s+=decodeURIComponent(a)),s},t.prototype._toBytes=function(t,e,i){return i=Math.min(this._end,i),new Uint8Array(t.buffer,e,i-e)},t.pool=new r(t,null,(function(t){t._data=null,t._dataView=null})),t}()}.apply(null,r))||(t.exports=n)}}]);