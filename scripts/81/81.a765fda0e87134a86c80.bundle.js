(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/support/lazyLayerLoader":"FayN","esri/portal/support/portalItemUtils":"WYOF","esri/portal/support/portalLayers":"uLAD"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{FayN:function(e,n,t){var r,i;r=[t.dj.c(e.i),n,t("2Kdy")],void 0===(i=function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={BingMapsLayer:function(){return new Promise((function(e,n){t.e(87).then(function(){var n=[t("V7mb")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},BuildingSceneLayer:function(){return new Promise((function(e,n){t.e(42).then(function(){var n=[t("gRqF")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},CSVLayer:function(){return new Promise((function(e,n){Promise.all([t.e(5),t.e(80)]).then(function(){var n=[t("zwOT")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},ElevationLayer:function(){return new Promise((function(e,n){t.e(22).then(function(){var n=[t("GAgw")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},FeatureLayer:function(){return new Promise((function(e,n){t.e(5).then(function(){var n=[t("Zvuv")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},GroupLayer:function(){return new Promise((function(e,n){t.e(26).then(function(){var n=[t("lAGb")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},GeoRSSLayer:function(){return new Promise((function(e,n){t.e(94).then(function(){var n=[t("Hpgp")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},ImageryLayer:function(){return new Promise((function(e,n){Promise.all([t.e(7),t.e(10),t.e(11),t.e(44)]).then(function(){var n=[t("G5N4")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},ImageryTileLayer:function(){return new Promise((function(e,n){Promise.all([t.e(11),t.e(20),t.e(49)]).then(function(){var n=[t("EhmR")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},IntegratedMeshLayer:function(){return new Promise((function(e,n){Promise.all([t.e(17),t.e(62)]).then(function(){var n=[t("wehw")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},KMLLayer:function(){return new Promise((function(e,n){t.e(68).then(function(){var n=[t("hPxN")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},MapImageLayer:function(){return new Promise((function(e,n){t.e(19).then(function(){var n=[t("d+WR")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},MapNotesLayer:function(){return new Promise((function(e,n){Promise.all([t.e(5),t.e(95)]).then(function(){var n=[t("2OQv")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},OpenStreetMapLayer:function(){return new Promise((function(e,n){t.e(96).then(function(){var n=[t("793k")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},PointCloudLayer:function(){return new Promise((function(e,n){t.e(37).then(function(){var n=[t("wvIq")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},RouteLayer:function(){return new Promise((function(e,n){Promise.all([t.e(5),t.e(97)]).then(function(){var n=[t("BdvN")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},SceneLayer:function(){return new Promise((function(e,n){Promise.all([t.e(5),t.e(63)]).then(function(){var n=[t("yf9t")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},StreamLayer:function(){return new Promise((function(e,n){t.e(48).then(function(){var n=[t("QiYT")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},TileLayer:function(){return new Promise((function(e,n){Promise.resolve().then(function(){var n=[t("WiXY")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},UnknownLayer:function(){return new Promise((function(e,n){t.e(98).then(function(){var n=[t("N1SI")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},UnsupportedLayer:function(){return new Promise((function(e,n){t.e(99).then(function(){var n=[t("9ZiH")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},VectorTileLayer:function(){return new Promise((function(e,n){t.e(47).then(function(){var n=[t("UW67")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},WebTileLayer:function(){return new Promise((function(e,n){Promise.resolve().then(function(){var n=[t("a2fw")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},WMSLayer:function(){return new Promise((function(e,n){t.e(69).then(function(){var n=[t("dWJG")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))},WMTSLayer:function(){return new Promise((function(e,n){t.e(70).then(function(){var n=[t("AgRT")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}))}}}.apply(null,r))||(e.exports=i)},WYOF:function(e,n,t){var r,i;r=[t.dj.c(e.i),n],void 0===(i=function(e,n){function t(e,n){return!!e.typeKeywords&&e.typeKeywords.indexOf(n)>-1}Object.defineProperty(n,"__esModule",{value:!0}),n.addTypeKeyword=function(e,n){if(!t(e,n)){var r=e.typeKeywords;r?r.push(n):e.typeKeywords=[n]}},n.hasTypeKeyword=t,n.removeTypeKeyword=function(e,n){var t=e.typeKeywords;if(t){var r=t.indexOf(n);r>-1&&t.splice(r,1)}}}.apply(null,r))||(e.exports=i)},uLAD:function(e,n,t){var r,i;r=[t.dj.c(e.i),n,t("zOht"),t("zp6E"),t("ma1f"),t("qMld"),t("FayN"),t("QmTF"),t("WYOF")],void 0===(i=function(e,n,t,r,i,a,o,u,c){function s(e){switch(e.type){case"Map Service":return function(e){return function(e){return p(e.url).then((function(e){return e.tileInfo}))}(e).then((function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}}))}(e);case"Feature Service":return function(e){return y(e).then((function(e){if("object"==typeof e){var n={};return null!=e.id&&(n.layerId=e.id),{className:"FeatureLayer",properties:n}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return function(e){return t.__awaiter(this,void 0,void 0,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,e.load()];case 1:return t.sent(),c.hasTypeKeyword(e,"Map Notes")?[2,{className:"MapNotesLayer"}]:c.hasTypeKeyword(e,"Route Layer")?[2,{className:"RouteLayer"}]:[4,e.fetchData()];case 2:return(n=t.sent())&&Array.isArray(n.layers)&&1===n.layers.length?[2,{className:"FeatureLayer"}]:[2,{className:"GroupLayer"}]}}))}))}(e);case"Scene Service":return function(e){return y(e).then((function(n){if("object"==typeof n){var t={},r=void 0;if(null!=n.id?(t.layerId=n.id,r=e.url+"/layers/"+n.id):r=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var i={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},a=0,o=Object.keys(i);a<o.length;a++){var u=o[a];if(-1!==e.typeKeywords.indexOf(u))return{className:i[u]}}return p(r).then((function(e){var n="SceneLayer",r={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&r[e.layerType]&&(n=r[e.layerType]),{className:n,properties:t}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return function(e){var n,r,i;return t.__awaiter(this,void 0,void 0,(function(){var a,o,u,c;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,e.load()];case 1:return t.sent(),(a=null!==(r=null===(n=e.typeKeywords)||void 0===n?void 0:n.map((function(e){return e.toLowerCase()})))&&void 0!==r?r:[]).indexOf("elevation 3d layer")>-1?[2,{className:"ElevationLayer"}]:a.indexOf("tiled imagery")>-1?[2,{className:"ImageryTileLayer"}]:[4,e.fetchData()];case 2:return o=t.sent(),"ArcGISTiledImageServiceLayer"===(u=null==o?void 0:o.layerType)?[2,{className:"ImageryTileLayer"}]:"ArcGISImageServiceLayer"===u?[2,{className:"ImageryLayer"}]:[4,p(e.url)];case 3:return c=t.sent(),"map"===(null===(i=c.cacheType)||void 0===i?void 0:i.toLowerCase())?[2,{className:"ImageryTileLayer"}]:[2,{className:"ImageryLayer"}]}}))}))}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return a.reject(new i("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function l(e){return(0,o.layerLookupMap[e.className])().then((function(n){return{constructor:n,properties:e.properties}}))}function y(e){return!e.url||e.url.match(/\/\d+$/)?a.resolve({}):e.load().then((function(){return e.fetchData()})).then((function(n){return n&&Array.isArray(n.layers)?1===n.layers.length&&{id:n.layers[0].id}:p(e.url).then((function(e){return e&&Array.isArray(e.layers)?1===e.layers.length&&{id:e.layers[0].id}:{}}))}))}function p(e){return r(e,{responseType:"json",query:{f:"json"}}).then((function(e){return e.data}))}Object.defineProperty(n,"__esModule",{value:!0}),n.fromItem=function(e){return!e.portalItem||e.portalItem instanceof u||(e=t.__assign(t.__assign({},e),{portalItem:new u(e.portalItem)})),(n=e.portalItem,n.load().then(s).then(l)).then((function(n){var r=t.__assign({portalItem:e.portalItem},n.properties),i=n.constructor;return a.resolve(new i(r))}));var n},n.selectLayerClassPath=s}.apply(null,r))||(e.exports=i)}}]);