(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/3d/support/buffer/InterleavedLayout":"2B1V","esri/core/libs/gl-matrix-2/vec4":"2fXB","esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":"8fHt","esri/views/3d/support/meshProcessing":"BIt0","esri/views/3d/support/buffer/workerHelper":"Fsr7","esri/views/3d/support/buffer/types":"GntT","esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":"HSGS","esri/views/3d/support/buffer/internals/Vec4":"MI3s","esri/views/3d/support/buffer/glUtil":"MzcX","esri/views/3d/support/buffer/BufferView":"VfPl","esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":"W7eI","esri/core/libs/gl-matrix-2/math/vec4":"bH65","esri/views/3d/support/buffer/internals/Vec2":"bduU","esri/views/3d/support/buffer/internals/Mat4":"fHyw","esri/views/3d/support/buffer/internals/Vec3":"hQPx","esri/geometry/support/meshUtils/deduplicate":"jmRc","esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":"kfwU","esri/views/3d/support/buffer/internals/Mat3":"pIuP","esri/views/3d/support/buffer/internals/Scalar":"zlCF"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"2B1V":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("VfPl"),r("GntT")],void 0===(i=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(var r=0,n=e.fieldNames;r<n.length;r++){var i=n[r],f=e.fields.get(i);this[i]=new f.constructor(this.buffer,f.offset,this.stride)}}return Object.defineProperty(e.prototype,"stride",{get:function(){return this.layout.stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.buffer.byteLength/this.stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteLength",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0}),e.prototype.getField=function(e,t){var r=this[e];return r&&r.elementCount===t.ElementCount&&r.elementType===t.ElementType?r:null},e.prototype.slice=function(t,r){return new e(this.layout,this.buffer.slice(t*this.stride,r*this.stride))},e.prototype.copyFrom=function(e,t,r,n){var i=this.stride;if(i%4==0){var f=new Uint32Array(e.buffer,t*i,n*i/4);new Uint32Array(this.buffer,r*i,n*i/4).set(f)}else f=new Uint8Array(e.buffer,t*i,n*i),new Uint8Array(this.buffer,r*i,n*i).set(f)},e}();t.InterleavedBuffer=i;var f=function(){function e(){this.stride=0,this.fields=new Map,this.fieldNames=[]}return e.prototype.vec2f=function(e,t){return this.appendField(e,r.BufferViewVec2f,t),this},e.prototype.vec2f64=function(e,t){return this.appendField(e,r.BufferViewVec2f64,t),this},e.prototype.vec3f=function(e,t){return this.appendField(e,r.BufferViewVec3f,t),this},e.prototype.vec3f64=function(e,t){return this.appendField(e,r.BufferViewVec3f64,t),this},e.prototype.vec4f=function(e,t){return this.appendField(e,r.BufferViewVec4f,t),this},e.prototype.vec4f64=function(e,t){return this.appendField(e,r.BufferViewVec4f64,t),this},e.prototype.mat3f=function(e,t){return this.appendField(e,r.BufferViewMat3f,t),this},e.prototype.mat3f64=function(e,t){return this.appendField(e,r.BufferViewMat3f64,t),this},e.prototype.mat4f=function(e,t){return this.appendField(e,r.BufferViewMat4f,t),this},e.prototype.mat4f64=function(e,t){return this.appendField(e,r.BufferViewMat4f64,t),this},e.prototype.vec4u8=function(e,t){return this.appendField(e,r.BufferViewVec4u8,t),this},e.prototype.f32=function(e,t){return this.appendField(e,r.BufferViewFloat,t),this},e.prototype.f64=function(e,t){return this.appendField(e,r.BufferViewFloat64,t),this},e.prototype.u8=function(e,t){return this.appendField(e,r.BufferViewUint8,t),this},e.prototype.u16=function(e,t){return this.appendField(e,r.BufferViewUint16,t),this},e.prototype.i8=function(e,t){return this.appendField(e,r.BufferViewInt8,t),this},e.prototype.vec2i8=function(e,t){return this.appendField(e,r.BufferViewVec2i8,t),this},e.prototype.vec2i16=function(e,t){return this.appendField(e,r.BufferViewVec2i16,t),this},e.prototype.vec2u8=function(e,t){return this.appendField(e,r.BufferViewVec2u8,t),this},e.prototype.vec4u16=function(e,t){return this.appendField(e,r.BufferViewVec4u16,t),this},e.prototype.u32=function(e,t){return this.appendField(e,r.BufferViewUint32,t),this},e.prototype.appendField=function(e,t,r){var i=t.ElementCount*n.elementTypeSize(t.ElementType),f=this.stride;this.fields.set(e,{size:i,constructor:t,offset:f,optional:r}),this.stride+=i,this.fieldNames.push(e)},e.prototype.alignTo=function(e){return this.stride=Math.floor((this.stride+e-1)/e)*e,this},e.prototype.hasField=function(e){return this.fieldNames.indexOf(e)>=0},e.prototype.createBuffer=function(e){return new i(this,e)},e.prototype.createView=function(e){return new i(this,e)},e.prototype.clone=function(){var t=new e;return t.stride=this.stride,t.fields=new Map,this.fields.forEach((function(e,r){return t.fields.set(r,e)})),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t},e}();t.InterleavedLayout=f,t.newLayout=function(){return new f}}.apply(null,n))||(e.exports=i)},"2fXB":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("bH65")],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.vec4=r}.apply(null,n))||(e.exports=i)},"8fHt":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("rusB"),r("jmRc"),r("BIt0"),r("Fsr7"),r("W7eI"),r("HSGS"),r("kfwU")],void 0===(i=function(e,t,r,n,i,f,u,o,a,s){return function(){function e(){this.regularWriter=new a.RegularEdgeBufferWriter,this.silhouetteWriter=new a.SilhouetteEdgeBufferWriter}return e.prototype.process=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,f;return r.__generator(this,(function(r){switch(r.label){case 0:return t?(n=new Array,i=this.packInput(e,n),[4,t.invoke("wrappedWork",i,{transferList:n})]):[3,2];case 1:return f=r.sent(),[2,this.unpackOutput(f)];case 2:return[2,this.work(e)]}}))}))},e.prototype.wrappedWork=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i;return r.__generator(this,(function(r){return t=this.unpackInput(e),n=this.work(t),i=new Array,this.packInputTransferables(t,i),[2,{result:this.packOutput(n,i),transferList:i}]}))}))},e.prototype.work=function(e){var t=this.extractEdgeInformation(e.data,e.skipDeduplicate,e.originalIndices);return this.regularWriter.updateSettings(e.writerSettings),this.silhouetteWriter.updateSettings(e.writerSettings),s.extractEdges(t,this.regularWriter,this.silhouetteWriter)},e.prototype.packInputTransferables=function(e,t){t.push(e.data.buffer)},e.prototype.packInput=function(e,t){this.packInputTransferables(e,t);var r={dataBuffer:e.data.buffer,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate};return e.originalIndices&&(r.originalIndicesBuffer=e.originalIndices.buffer,r.originalIndicesType=n.isUint32Array(e.originalIndices)?"Uint32Array":"Uint16Array"),r},e.prototype.unpackInput=function(e){return{data:o.EdgeInputBufferLayout.createView(e.dataBuffer),originalIndices:"Uint32Array"===e.originalIndicesType?new Uint32Array(e.originalIndicesBuffer):"Uint16Array"===e.originalIndicesType?new Uint16Array(e.originalIndicesBuffer):void 0,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}},e.prototype.packOutput=function(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:u.packInterleavedBuffer(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:u.packInterleavedBuffer(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}},e.prototype.unpackOutput=function(e){return{regular:{instancesData:u.unpackInterleavedBuffer(e.regular.instancesData),lodInfo:{lengths:new Float32Array(e.regular.lodInfo.lengths)}},silhouette:{instancesData:u.unpackInterleavedBuffer(e.silhouette.instancesData),lodInfo:{lengths:new Float32Array(e.silhouette.lodInfo.lengths)}},averageEdgeLength:e.averageEdgeLength}},e.prototype.extractEdgeInformation=function(e,t,r){if(t&&r)return{faces:r,neighbors:u=f.computeNeighbors(r,e.count),vertices:e};var n=i.default(e.buffer,e.stride/4,{originalIndices:r}),u=f.computeNeighbors(n.indices,n.uniqueCount);return{faces:n.indices,neighbors:u,vertices:o.EdgeInputBufferLayout.createView(n.buffer)}},e}()}.apply(null,n))||(e.exports=i)},BIt0:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.computeNeighbors=function(e,t){for(var r=e.length/3,n=new Uint32Array(t+1),i=new Uint32Array(t+1),f=function(e,t){e<t?n[e+1]++:i[t+1]++},u=0;u<r;u++){var o=e[3*u],a=e[3*u+1],s=e[3*u+2];f(o,a),f(a,s),f(s,o)}var c=0,p=0;for(u=0;u<t;u++){var d=n[u+1],y=i[u+1];n[u+1]=c,i[u+1]=p,c+=d,p+=y}var l=new Uint32Array(6*r),h=n[t],v=function(e,t,r){if(e<t){var f=n[e+1]++;l[2*f]=t,l[2*f+1]=r}else f=i[t+1]++,l[2*h+2*f]=e,l[2*h+2*f+1]=r};for(u=0;u<r;u++)o=e[3*u],a=e[3*u+1],s=e[3*u+2],v(o,a,u),v(a,s,u),v(s,o,u);var B=function(e,t){for(var r=2*e,n=t-e,i=1;i<n;i++){for(var f=l[r+2*i],u=l[r+2*i+1],o=i-1;o>=0&&l[r+2*o]>f;o--)l[r+2*o+2]=l[r+2*o],l[r+2*o+3]=l[r+2*o+1];l[r+2*o+2]=f,l[r+2*o+3]=u}};for(u=0;u<t;u++)B(n[u],n[u+1]),B(h+i[u],h+i[u+1]);var m=new Int32Array(3*r),w=function(t,r){return t===e[3*r]?0:t===e[3*r+1]?1:t===e[3*r+2]?2:-1},b=function(e,t){var r=w(e,t);m[3*t+r]=-1},g=function(e,t,r,n){var i=w(e,t);m[3*t+i]=n;var f=w(r,n);m[3*n+f]=t};for(u=0;u<t;u++){for(var V=n[u],E=n[u+1],T=i[u],_=i[u+1];V<E&&T<_;){var I=l[2*V];I===(A=l[2*h+2*T])?(g(u,l[2*V+1],A,l[2*h+2*T+1]),V++,T++):I<A?(b(u,l[2*V+1]),V++):(b(A,l[2*h+2*T+1]),T++)}for(;V<E;)b(u,l[2*V+1]),V++;for(;T<_;){var A;b(A=l[2*h+2*T],l[2*h+2*T+1]),T++}}return m}}.apply(null,n))||(e.exports=i)},Fsr7:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("VfPl"),r("2B1V")],void 0===(i=function(e,t,r,n,i){function f(e){var t=new Array;return e.fields.forEach((function(e,n){var i=r.__assign(r.__assign({},e),{constructor:a(e.constructor)});t.push([n,i])})),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}function u(e){var t=i.newLayout();return t.stride=e.stride,t.fieldNames=e.fieldNames,e.fields.forEach((function(e){return t.fields.set(e[0],r.__assign(r.__assign({},e[1]),{constructor:(n=e[1].constructor,s.get(n))}));var n})),t}Object.defineProperty(t,"__esModule",{value:!0}),t.packInterleavedBuffer=function(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:f(e.layout)}},t.unpackInterleavedBuffer=function(e){return u(e.layout).createView(e.buffer)},t.packLayout=f,t.unpackLayout=u;var o=[n.BufferViewFloat,n.BufferViewVec2f,n.BufferViewVec3f,n.BufferViewVec4f,n.BufferViewMat3f,n.BufferViewMat4f,n.BufferViewFloat64,n.BufferViewVec2f64,n.BufferViewVec3f64,n.BufferViewVec4f64,n.BufferViewMat3f64,n.BufferViewMat4f64,n.BufferViewUint8,n.BufferViewVec2u8,n.BufferViewVec3u8,n.BufferViewVec4u8,n.BufferViewUint16,n.BufferViewVec2u16,n.BufferViewVec3u16,n.BufferViewVec4u16,n.BufferViewUint32,n.BufferViewVec2u32,n.BufferViewVec3u32,n.BufferViewVec4u32,n.BufferViewInt8,n.BufferViewVec2i8,n.BufferViewVec3i8,n.BufferViewVec4i8,n.BufferViewInt16,n.BufferViewVec2i16,n.BufferViewVec3i16,n.BufferViewVec4i16,n.BufferViewInt32,n.BufferViewVec2i32,n.BufferViewVec3i32,n.BufferViewVec4i32];function a(e){return e.ElementType+"_"+e.ElementCount}var s=new Map;o.forEach((function(e){return s.set(a(e),e)}))}.apply(null,n))||(e.exports=i)},GntT:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("pcDC")],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.elementTypeSize=function(e){switch(e){case"u8":return 1;case"u16":return 2;case"u32":return 4;case"i8":return 1;case"i16":return 2;case"i32":case"f32":return 4;case"f64":return 8;default:return void r.neverReached(e)}},t.isSigned=function(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return void r.neverReached(e)}},t.isInteger=function(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return void r.neverReached(e)}},t.maximumValue=function(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return void r.neverReached(e)}}}.apply(null,n))||(e.exports=i)},HSGS:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("4w2c"),r("0LE5"),r("Rdxj"),r("MzcX"),r("W7eI")],void 0===(i=function(e,t,r,n,i,f,u){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.updateSettings=function(e){this.settings=e},e.prototype.write=function(e,t,r){var n=function(e){var t=a;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],c[0]=5381;for(var r=0;r<s.length;r++)c[0]=31*c[0]+s[r];return c[0]}(r);p.seed=n;var i,f,u=p.getIntRange(0,255),o=p.getIntRange(0,this.settings.variants-1),d=p.getFloat(),y=255*(.5*(1.2,f=(i=-(1-Math.min(d/.7,1))+Math.max(0,d-.7)/(1-.7))<0?-1:1,Math.pow(Math.abs(i),1.2)*f)+.5);e.position0.setVec(t,r.position0),e.position1.setVec(t,r.position1),e.componentIndex.set(t,r.componentIndex),e.variantOffset.set(t,u),e.variantStroke.set(t,o),e.variantExtension.set(t,y)},e.prototype.trim=function(e,t){return e.slice(0,t)},e}();t.CommonBufferWriter=o;var a=new Float32Array(6),s=new Uint32Array(a.buffer),c=new Uint32Array(1),p=new r,d=function(){function e(){this.commonWriter=new o}return e.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},e.prototype.allocate=function(e){return u.RegularEdgeInstancesLayout.createBuffer(e)},e.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r),n.vec3.add(l,r.faceNormal0,r.faceNormal1),n.vec3.normalize(l,l),e.normal.setVec(t,l)},e.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},e.Layout=u.RegularEdgeInstancesLayout,e.glLayout=f.glLayout(u.RegularEdgeInstancesLayout,{divisor:1}),e}();t.RegularEdgeBufferWriter=d;var y=function(){function e(){this.commonWriter=new o}return e.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},e.prototype.allocate=function(e){return u.SilhouetteEdgeInstancesLayout.createBuffer(e)},e.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r),e.normalA.setVec(t,r.faceNormal0),e.normalB.setVec(t,r.faceNormal1)},e.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},e.Layout=u.SilhouetteEdgeInstancesLayout,e.glLayout=f.glLayout(u.SilhouetteEdgeInstancesLayout,{divisor:1}),e}();t.SilhouetteEdgeBufferWriter=y;var l=i.vec3f64.create()}.apply(null,n))||(e.exports=i)},MI3s:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("2fXB")],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=4;var f=this.TypedArrayConstructor;void 0===n&&(n=4*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec4.set(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2],this.typedBuffer[e*this.typedBufferStride+3])},e.prototype.setVec=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2],this.typedBuffer[e*this.typedBufferStride+3]=t[3]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.setValues=function(e,t,r,n,i){this.typedBuffer[e*this.typedBufferStride]=t,this.typedBuffer[e*this.typedBufferStride+1]=r,this.typedBuffer[e*this.typedBufferStride+2]=n,this.typedBuffer[e*this.typedBufferStride+3]=i},e.prototype.copyFrom=function(e,t,r){var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride;n[f]=i[u],n[f+1]=i[u+1],n[f+2]=i[u+2],n[f+3]=i[u+3]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=4,e}();t.BufferViewVec4Impl=n}.apply(null,n))||(e.exports=i)},MzcX:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht")],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={divisor:0};t.glLayout=function(e,t){void 0===t&&(t={}),t=r.__assign(r.__assign({},n),t);var f=e.stride;return e.fieldNames.filter((function(t){var r=e.fields.get(t).optional;return!(r&&r.glPadding)})).map((function(r){var n=e.fields.get(r),u=n.constructor.ElementCount,o=function(e){var t=i[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}(n.constructor.ElementType),a=n.offset,s=!(!n.optional||!n.optional.glNormalized);return{name:r,stride:f,count:u,type:o,offset:a,normalized:s,divisor:t.divisor}}))};var i={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126}}.apply(null,n))||(e.exports=i)},VfPl:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("pIuP"),r("fHyw"),r("zlCF"),r("bduU"),r("hQPx"),r("MI3s")],void 0===(i=function(e,t,r,n,i,f,u,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(f.BufferViewScalarImpl);t.BufferViewFloat=s;var c=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(u.BufferViewVec2Impl);t.BufferViewVec2f=c;var p=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(o.BufferViewVec3Impl);t.BufferViewVec3f=p;var d=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(a.BufferViewVec4Impl);t.BufferViewVec4f=d;var y=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(n.BufferViewMat3Impl);t.BufferViewMat3f=y;var l=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(n.BufferViewMat3Impl);t.BufferViewMat3f64=l;var h=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(i.BufferViewMat4Impl);t.BufferViewMat4f=h;var v=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(i.BufferViewMat4Impl);t.BufferViewMat4f64=v;var B=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(f.BufferViewScalarImpl);t.BufferViewFloat64=B;var m=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(u.BufferViewVec2Impl);t.BufferViewVec2f64=m;var w=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(o.BufferViewVec3Impl);t.BufferViewVec3f64=w;var b=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(a.BufferViewVec4Impl);t.BufferViewVec4f64=b;var g=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,n,i)||this;return f.elementType="u8",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u8",t}(f.BufferViewScalarImpl);t.BufferViewUint8=g;var V=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,n,i)||this;return f.elementType="u8",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u8",t}(u.BufferViewVec2Impl);t.BufferViewVec2u8=V;var E=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,n,i)||this;return f.elementType="u8",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u8",t}(o.BufferViewVec3Impl);t.BufferViewVec3u8=E;var T=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,n,i)||this;return f.elementType="u8",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u8",t}(a.BufferViewVec4Impl);t.BufferViewVec4u8=T;var _=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,n,i)||this;return f.elementType="u16",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u16",t}(f.BufferViewScalarImpl);t.BufferViewUint16=_;var I=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,n,i)||this;return f.elementType="u16",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u16",t}(u.BufferViewVec2Impl);t.BufferViewVec2u16=I;var A=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,n,i)||this;return f.elementType="u16",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u16",t}(o.BufferViewVec3Impl);t.BufferViewVec3u16=A;var S=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,n,i)||this;return f.elementType="u16",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u16",t}(a.BufferViewVec4Impl);t.BufferViewVec4u16=S;var M=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,n,i)||this;return f.elementType="u32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u32",t}(f.BufferViewScalarImpl);t.BufferViewUint32=M;var L=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,n,i)||this;return f.elementType="u32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u32",t}(u.BufferViewVec2Impl);t.BufferViewVec2u32=L;var O=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,n,i)||this;return f.elementType="u32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u32",t}(o.BufferViewVec3Impl);t.BufferViewVec3u32=O;var x=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,n,i)||this;return f.elementType="u32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u32",t}(a.BufferViewVec4Impl);t.BufferViewVec4u32=x;var P=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,n,i)||this;return f.elementType="i8",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i8",t}(f.BufferViewScalarImpl);t.BufferViewInt8=P;var F=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,n,i)||this;return f.elementType="i8",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i8",t}(u.BufferViewVec2Impl);t.BufferViewVec2i8=F;var N=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,n,i)||this;return f.elementType="i8",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i8",t}(o.BufferViewVec3Impl);t.BufferViewVec3i8=N;var j=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,n,i)||this;return f.elementType="i8",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i8",t}(a.BufferViewVec4Impl);t.BufferViewVec4i8=j;var U=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,n,i)||this;return f.elementType="i16",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i16",t}(f.BufferViewScalarImpl);t.BufferViewInt16=U;var R=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,n,i)||this;return f.elementType="i16",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i16",t}(u.BufferViewVec2Impl);t.BufferViewVec2i16=R;var C=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,n,i)||this;return f.elementType="i16",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i16",t}(o.BufferViewVec3Impl);t.BufferViewVec3i16=C;var k=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,n,i)||this;return f.elementType="i16",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i16",t}(a.BufferViewVec4Impl);t.BufferViewVec4i16=k;var W=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,n,i)||this;return f.elementType="i32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i32",t}(f.BufferViewScalarImpl);t.BufferViewInt32=W;var Y=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,n,i)||this;return f.elementType="i32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i32",t}(u.BufferViewVec2Impl);t.BufferViewVec2i32=Y;var z=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,n,i)||this;return f.elementType="i32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i32",t}(o.BufferViewVec3Impl);t.BufferViewVec3i32=z;var D=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,n,i)||this;return f.elementType="i32",f}return r.__extends(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i32",t}(a.BufferViewVec4Impl);t.BufferViewVec4i32=D}.apply(null,n))||(e.exports=i)},W7eI:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("MzcX"),r("2B1V")],void 0===(i=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeInputBufferLayout=n.newLayout().vec3f("position").u16("componentIndex").u16("_padding"),t.VertexLayout=n.newLayout().vec2u8("sideness"),t.glVertexLayout=r.glLayout(t.VertexLayout),t.CommonInstancesLayout=n.newLayout().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("_padding",{glPadding:!0}).u16("_padding2",{glPadding:!0}),t.RegularEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normal"),t.SilhouetteEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normalA").vec3f("normalB"),t.EdgeShaderAttributeLocations={position0:0,position1:1,componentIndex:2,variantOffset:4,variantStroke:5,variantExtension:6,normal:7,normalA:7,normalB:8,sideness:9}}.apply(null,n))||(e.exports=i)},bH65:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("qysZ")],void 0===(i=function(e,t,r){function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function i(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function f(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function u(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],f=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+f*f)}function o(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],f=t[3]-e[3];return r*r+n*n+i*i+f*f}function a(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function s(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}Object.defineProperty(t,"__esModule",{value:!0}),t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.set=function(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},t.subtract=n,t.multiply=i,t.divide=f,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},t.distance=u,t.squaredDistance=o,t.length=a,t.squaredLength=s,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},t.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],f=t[3],u=r*r+n*n+i*i+f*f;return u>0&&(u=1/Math.sqrt(u),e[0]=r*u,e[1]=n*u,e[2]=i*u,e[3]=f*u),e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},t.lerp=function(e,t,r,n){var i=t[0],f=t[1],u=t[2],o=t[3];return e[0]=i+n*(r[0]-i),e[1]=f+n*(r[1]-f),e[2]=u+n*(r[2]-u),e[3]=o+n*(r[3]-o),e},t.random=function(e,t){var n,i,f,u,o,a;t=t||1;do{o=(n=2*r.RANDOM()-1)*n+(i=2*r.RANDOM()-1)*i}while(o>=1);do{a=(f=2*r.RANDOM()-1)*f+(u=2*r.RANDOM()-1)*u}while(a>=1);var s=Math.sqrt((1-o)/a);return e[0]=t*n,e[1]=t*i,e[2]=t*f*s,e[3]=t*u*s,e},t.transformMat4=function(e,t,r){var n=t[0],i=t[1],f=t[2],u=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*f+r[12]*u,e[1]=r[1]*n+r[5]*i+r[9]*f+r[13]*u,e[2]=r[2]*n+r[6]*i+r[10]*f+r[14]*u,e[3]=r[3]*n+r[7]*i+r[11]*f+r[15]*u,e},t.transformQuat=function(e,t,r){var n=t[0],i=t[1],f=t[2],u=r[0],o=r[1],a=r[2],s=r[3],c=s*n+o*f-a*i,p=s*i+a*n-u*f,d=s*f+u*i-o*n,y=-u*n-o*i-a*f;return e[0]=c*s+y*-u+p*-a-d*-o,e[1]=p*s+y*-o+d*-u-c*-a,e[2]=d*s+y*-a+c*-o-p*-u,e[3]=t[3],e},t.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var n=e[0],i=e[1],f=e[2],u=e[3],o=t[0],a=t[1],s=t[2],c=t[3];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(f-s)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(s))&&Math.abs(u-c)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))},t.sub=n,t.mul=i,t.div=f,t.dist=u,t.sqrDist=o,t.len=a,t.sqrLen=s}.apply(null,n))||(e.exports=i)},bduU:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("W9tT")],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=2;var f=this.TypedArrayConstructor;void 0===n&&(n=2*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec2.set(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1])},e.prototype.setVec=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.setValues=function(e,t,r){this.typedBuffer[e*this.typedBufferStride]=t,this.typedBuffer[e*this.typedBufferStride+1]=r},e.prototype.copyFrom=function(e,t,r){var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride;n[f]=i[u],n[f+1]=i[u+1]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=2,e}();t.BufferViewVec2Impl=n}.apply(null,n))||(e.exports=i)},fHyw:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=16;var f=this.TypedArrayConstructor;void 0===n&&(n=16*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getMat=function(e,t){for(var r=e*this.typedBufferStride,n=0;n<16;n++)t[n]=this.typedBuffer[r+n];return t},e.prototype.setMat=function(e,t){for(var r=e*this.typedBufferStride,n=0;n<16;n++)this.typedBuffer[r+n]=t[n]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){for(var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride,o=0;o<16;++o)n[f+o]=i[u+o]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=16,e}();t.BufferViewMat4Impl=r}.apply(null,n))||(e.exports=i)},hQPx:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("0LE5")],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=3;var f=this.TypedArrayConstructor;void 0===n&&(n=3*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec3.set(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2])},e.prototype.setVec=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.setValues=function(e,t,r,n){this.typedBuffer[e*this.typedBufferStride]=t,this.typedBuffer[e*this.typedBufferStride+1]=r,this.typedBuffer[e*this.typedBufferStride+2]=n},e.prototype.copyFrom=function(e,t,r){var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride;n[f]=i[u],n[f+1]=i[u+1],n[f+2]=i[u+2]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=3,e}();t.BufferViewVec3Impl=n}.apply(null,n))||(e.exports=i)},jmRc:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xoE+")],void 0===(i=function(e,t,r){function n(e,t,n){var a=e.byteLength/(4*t),s=new Uint32Array(e,0,a*t),c=new Uint32Array(a),p=n&&n.minReduction||0,d=n&&n.originalIndices||null,y=n&&n.componentOffsets||null,l=0;if(y)for(var h=0;h<y.length-1;h++){var v=y[h+1]-y[h];v>l&&(l=v)}else l=a;var B=Math.floor(1.1*l)+1;for((null==o||o.length<2*B)&&(o=new Uint32Array(r.nextHighestPowerOfTwo(2*B))),h=0;h<2*B;h++)o[h]=0;var m=0,w=!!y&&!!d,b=w?d.length:a,g=w?new Uint32Array(d.length):null,V=1.96,E=0!==p?Math.ceil(7.84*V/(p*p)*p*(1-p)):b,T=1,_=y?y[1]:b;for(h=0;h<b;h++){if(h===E){var I=1-m/h;if(I+V*Math.sqrt(I*(1-I)/h)<p)return null;E*=2}if(h===_){for(var A=0;A<2*B;A++)o[A]=0;if(d)for(var S=y[T-1];S<y[T];S++)g[S]=c[d[S]];_=y[++T]}for(var M=w?d[h]:h,L=u(s,N=M*t,t),O=L%B,x=m;0!==o[2*O+1];){if(o[2*O]===L){var P=o[2*O+1]-1;if(i(s,N,P*t,t)){x=c[P];break}}++O>=B&&(O-=B)}x===m&&(o[2*O]=L,o[2*O+1]=M+1,m++),c[M]=x}if(0!==p&&1-m/a<p)return null;if(w){for(h=y[T-1];h<g.length;h++)g[h]=c[d[h]];c=g}var F=new Uint32Array(t*m);for(m=0,h=0;h<b;h++){var N;c[h]===m&&(f(s,N=(w?d[h]:h)*t,F,m*t,t),m++)}if(d&&!w){var j=new Uint32Array(d.length);for(h=0;h<j.length;h++)j[h]=c[d[h]];c=j}return{buffer:F.buffer,indices:c,uniqueCount:m}}function i(e,t,r,n){for(var i=0;i<n;i++)if(e[t+i]!==e[r+i])return!1;return!0}function f(e,t,r,n,i){for(var f=0;f<i;f++)r[n+f]=e[t+f]}function u(e,t,r){for(var n=0,i=0;i<r;i++)n=(n=e[t+i]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.deduplicate=n;var o=null;t.default=n}.apply(null,n))||(e.exports=i)},kfwU:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("KY0m"),r("xoE+"),r("rusB"),r("0LE5"),r("Rdxj"),r("AzkI")],void 0===(i=function(e,t,r,n,i,f,u,o){function a(e,t){return e.cosAngle<t}function s(e,t){return e.cosAngle>t}function c(e,t){var r=n.acosClamped(e.cosAngle),i=p.fwd,u=p.ortho;return o.directionFromTo(i,e.position1,e.position0),r*(f.vec3.dot(f.vec3.cross(u,e.faceNormal0,e.faceNormal1),i)>0?-1:1)>t}Object.defineProperty(t,"__esModule",{value:!0}),t.extractEdges=function(e,t,u,o){void 0===o&&(o=y);var l=e.vertices.position,h=e.vertices.componentIndex,v=n.deg2rad(o.anglePlanar),B=n.deg2rad(o.angleSignificantEdge),m=Math.cos(B),w=Math.cos(v),b=p.edge,g=b.position0,V=b.position1,E=b.faceNormal0,T=b.faceNormal1,_=function(e){for(var t=e.faces.length/3,r=e.vertices.position,n=e.faces,i=d.v0,u=d.v1,o=d.v2,a=new Float32Array(3*t),s=0;s<t;s++){var c=n[3*s+0],p=n[3*s+1],y=n[3*s+2];r.getVec(c,i),r.getVec(p,u),r.getVec(y,o),f.vec3.subtract(u,u,i),f.vec3.subtract(o,o,i),f.vec3.cross(i,u,o),f.vec3.normalize(i,i),a[3*s+0]=i[0],a[3*s+1]=i[1],a[3*s+2]=i[2]}return a}(e),I=function(e){for(var t=e.faces.length/3,r=e.faces,n=e.neighbors,i=0,f=0;f<t;f++){var u=n[3*f+0],o=n[3*f+1],a=n[3*f+2],s=r[3*f+0],c=r[3*f+1],p=r[3*f+2];i+=-1===u||s<c?1:0,i+=-1===o||c<p?1:0,i+=-1===a||p<s?1:0}var d=new Int32Array(4*i),y=0;for(f=0;f<t;f++)u=n[3*f+0],o=n[3*f+1],a=n[3*f+2],s=r[3*f+0],c=r[3*f+1],p=r[3*f+2],(-1===u||s<c)&&(d[y++]=s,d[y++]=c,d[y++]=f,d[y++]=u),(-1===o||c<p)&&(d[y++]=c,d[y++]=p,d[y++]=f,d[y++]=o),(-1===a||p<s)&&(d[y++]=p,d[y++]=s,d[y++]=f,d[y++]=a);return d}(e),A=I.length/4,S=t.allocate(A),M=0,L=A,O=u.allocate(L),x=0,P=0,F=0,N=r.range(0,A),j=new Float32Array(A);i.forEach(j,(function(e,t,r){l.getVec(I[4*t+0],g),l.getVec(I[4*t+1],V),r[t]=f.vec3.distance(g,V)})),N.sort((function(e,t){return j[t]-j[e]}));for(var U=new Array,R=new Array,C=0;C<A;C++){var k=N[C],W=j[k],Y=I[4*k+0],z=I[4*k+1],D=I[4*k+2],q=I[4*k+3],H=-1===q;if(l.getVec(Y,g),l.getVec(z,V),H)f.vec3.set(E,_[3*D+0],_[3*D+1],_[3*D+2]),f.vec3.copy(T,E),b.componentIndex=h.get(Y),b.cosAngle=f.vec3.dot(E,T);else{if(f.vec3.set(E,_[3*D+0],_[3*D+1],_[3*D+2]),f.vec3.set(T,_[3*q+0],_[3*q+1],_[3*q+2]),b.componentIndex=h.get(Y),b.cosAngle=f.vec3.dot(E,T),s(b,w))continue;b.cosAngle<-.9999&&f.vec3.copy(T,E)}P+=W,F++,H||a(b,m)?(t.write(S,M++,b),U.push(W)):c(b,v)&&(u.write(O,x++,b),R.push(W))}var G=new Float32Array(U.reverse()),X=new Float32Array(R.reverse());return{regular:{instancesData:t.trim(S,M),lodInfo:{lengths:G}},silhouette:{instancesData:u.trim(O,x),lodInfo:{lengths:X}},averageEdgeLength:P/F}};var p={edge:{position0:u.vec3f64.create(),position1:u.vec3f64.create(),faceNormal0:u.vec3f64.create(),faceNormal1:u.vec3f64.create(),componentIndex:0,cosAngle:0},ortho:u.vec3f64.create(),fwd:u.vec3f64.create()},d={v0:u.vec3f64.create(),v1:u.vec3f64.create(),v2:u.vec3f64.create()},y={anglePlanar:4,angleSignificantEdge:35}}.apply(null,n))||(e.exports=i)},pIuP:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=9;var f=this.TypedArrayConstructor;void 0===n&&(n=9*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getMat=function(e,t){for(var r=e*this.typedBufferStride,n=0;n<9;n++)t[n]=this.typedBuffer[r+n];return t},e.prototype.setMat=function(e,t){for(var r=e*this.typedBufferStride,n=0;n<9;n++)this.typedBuffer[r+n]=t[n]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){for(var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride,o=0;o<9;++o)n[f+o]=i[u+o]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=9,e}();t.BufferViewMat3Impl=r}.apply(null,n))||(e.exports=i)},zlCF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=1;var f=this.TypedArrayConstructor;void 0===n&&(n=f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.get=function(e){return this.typedBuffer[e*this.typedBufferStride]},e.prototype.set=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=1,e}();t.BufferViewScalarImpl=r}.apply(null,n))||(e.exports=i)}}]);