(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/2d/layers/KMLLayerView2D":"1Afs","esri/views/layers/support/Path":"20TT","esri/tasks/geometry/cut":"2QEt","esri/views/2d/layers/graphics/GraphicStore":"5r4l","esri/views/2d/layers/LayerView2D":"6i4F","esri/views/2d/layers/features/support/TileStore":"6kSU","esri/views/layers/support/ClipRect":"7MXx","esri/views/2d/layers/graphics/GraphicStoreItem":"9gM4","esri/views/2d/layers/graphics/GraphicContainer":"FBzP","esri/core/libs/quickselect/quickselect":"FT4I","esri/geometry/geometryAdapters/json":"H9Hv","esri/geometry/support/GeographicTransformationStep":"MbkH","esri/views/2d/engine/FeatureContainer":"N0+q","esri/layers/support/kmlUtils":"N3Jt","esri/geometry/support/GeographicTransformation":"OkCb","esri/layers/graphics/data/projectionSupport":"Q2Em","esri/geometry/support/aaBoundingBox":"WRgd","esri/views/layers/LayerView":"WsO6","esri/views/layers/support/ClipArea":"ZMIQ","esri/views/2d/layers/graphics/GraphicsView2D":"apjU","esri/views/2d/layers/features/support/Tile":"fUL3","esri/geometry/support/normalizeUtils":"fw2w","esri/core/libs/rbush/rbush":"jEml","esri/core/MapPool":"loiZ","esri/tasks/geometry/simplify":"sqdO","esri/views/layers/support/Geometry":"ts8o","esri/views/2d/layers/graphics/GraphicProcessingQueue":"vhZU","esri/tasks/support/FeatureSet":"w1v0","esri/geometry/pe":"w7fK","esri/geometry/projection":"wIC5","esri/views/2d/layers/graphics/graphicsUtils":"wjMf","esri/views/layers/GraphicsView":"zRH3"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[32,144],{"1Afs":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("y4WC"),r("eIBl"),r("qMld"),r("afW+"),r("8MXS"),r("Vx27"),r("N7S/"),r("vtMp"),r("N3Jt"),r("ssiz"),r("YaB4"),r("6i4F"),r("apjU"),r("WsO6")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p,l,h,c,d,f,_,y,g){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handles=new o,t._bitmapIndex=new Map,t._mapImageContainer=new f.BitmapContainer,t._featuresMap=new Map,t.allVisiblePoints=new d.GraphicsCollection,t.allVisiblePolylines=new d.GraphicsCollection,t.allVisiblePolygons=new d.GraphicsCollection,t.allVisibleMapImages=new i,t}return r.__extends(t,e),t.prototype.hitTest=function(e,t){var r=this;if(this.suspended||!this._pointsView&&!this._polylinesView&&!this._polygonsView)return a.resolve(null);var n=[this._pointsView.hitTest(e,t),this._polylinesView.hitTest(e,t),this._polygonsView.hitTest(e,t)];return a.all(n).then((function(e){return e.filter((function(e){return e&&(e.layer=r.layer,e.sourceLayer=r.layer),!!e}))[0]||null}))},t.prototype.update=function(e){this._polygonsView&&this._polygonsView.processUpdate(e),this._polylinesView&&this._polylinesView.processUpdate(e),this._pointsView&&this._pointsView.processUpdate(e)},t.prototype.attach=function(){var e=this;this._handles.add([this.allVisibleMapImages.on("change",(function(t){t.added.forEach((function(t){return e._addMapImage(t)})),t.removed.forEach((function(t){return e._removeMapImage(t)}))}))]),this.container.addChild(this._mapImageContainer),this._polygonsView=new y.default({view:this.view,graphics:this.allVisiblePolygons,requestUpdateCallback:function(){return e.requestUpdate()}}),this.container.addChild(this._polygonsView.container),this._polylinesView=new y.default({view:this.view,graphics:this.allVisiblePolylines,requestUpdateCallback:function(){return e.requestUpdate()}}),this.container.addChild(this._polylinesView.container),this._pointsView=new y.default({view:this.view,graphics:this.allVisiblePoints,requestUpdateCallback:function(){return e.requestUpdate()}}),this.container.addChild(this._pointsView.container),this.watch("layer.visibleSublayers",(function(){return e._refreshCollections()})),this._fetchingPromise=this._fetchService().then((function(){e._fetchingPromise=null,e.notifyChange("updating")}))},t.prototype.detach=function(){this._handles.removeAll(),this._mapImageContainer.removeAllChildren(),this.container.removeAllChildren(),this._bitmapIndex.clear(),this._polygonsView&&(this._polygonsView.destroy(),this._polygonsView=null),this._polylinesView&&(this._polylinesView.destroy(),this._polylinesView=null),this._pointsView&&(this._pointsView.destroy(),this._pointsView=null)},t.prototype.moveStart=function(){},t.prototype.viewChange=function(){this._polygonsView.viewChange(),this._polylinesView.viewChange(),this._pointsView.viewChange()},t.prototype.moveEnd=function(){},t.prototype.isUpdating=function(){return null!=this._fetchingPromise||this._pointsView.updating||this._polygonsView.updating||this._polylinesView.updating},t.prototype._addMapImage=function(e){var t=this;this.view.spatialReference.isWGS84&&n(e.href,{responseType:"image"}).then((function(r){var n=r.data,i=l.fromJSON(e.extent);h.canProject(i,t.view.spatialReference)&&(i=h.project(i,t.view.spatialReference));var o=new f.Bitmap(n);o.x=i.xmin,o.y=i.ymax,o.resolution=i.width/n.naturalWidth,o.rotation=e.rotation,t._mapImageContainer.addChild(o),t._bitmapIndex.set(e,o)}))},t.prototype._fetchService=function(){var e=this;return this._handles.remove("refresh-collections"),this._getParsedKML().then((function(t){return e._fetchSublayerService(e.layer,t)}))},t.prototype._fetchSublayerService=function(e,t){var r=this,n=e.sublayers;if(!n||0===n.length)return a.resolve();var i=[];return n.forEach((function(e){var n=u.whenTrueOnce(e,"visible").then((function(){return e.load()})).then((function(){return r._getGraphicsForSublayer(e,t)})).then((function(t){return a.create((function(n){e.networkLink?n():(r._featuresMap.set(e,t),r._handles.add(s.schedule((function(){r._refreshCollections(),n()})),"refresh-collections"))}))})).then((function(){return r._fetchSublayerService(e,e.sourceJSON||t)}));e.visible&&i.push(n)})),a.all(i).then((function(){}))},t.prototype._getParsedKML=function(){return c.fetchService(this.layer.url,this.view.spatialReference,this.layer.refreshInterval).then((function(e){return c.parseKML(e.data)}))},t.prototype._getGraphicsForSublayer=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=null,t.sublayers.some((function(t){return n=t,t.id===e.id}))?(i={},(o=n.points)?[4,c.getGraphics(n.points)]:[3,2]):[2,null];case 1:o=r.sent(),r.label=2;case 2:return i.points=o,(a=n.polylines)?[4,c.getGraphics(n.polylines)]:[3,4];case 3:a=r.sent(),r.label=4;case 4:return i.polylines=a,(s=n.polygons)?[4,c.getGraphics(n.polygons)]:[3,6];case 5:s=r.sent(),r.label=6;case 6:return[2,(i.polygons=s,i.mapImages=n.mapImages,i)]}}))}))},t.prototype._refreshCollections=function(){var e=this,t=this.get("layer.visibleSublayers");this.allVisiblePoints.removeAll(),this.allVisiblePolylines.removeAll(),this.allVisiblePolygons.removeAll(),this.allVisibleMapImages.removeAll(),t&&t.length&&t.forEach((function(t){var r=e._featuresMap.get(t);r&&(e.allVisiblePoints.addMany(r.points),e.allVisiblePolylines.addMany(r.polylines),e.allVisiblePolygons.addMany(r.polygons),e.allVisibleMapImages.addMany(r.mapImages))}))},t.prototype._removeMapImage=function(e){var t=this._bitmapIndex.get(e);t&&(this._mapImageContainer.removeChild(t),this._bitmapIndex.delete(e))},r.__decorate([p.property()],t.prototype,"_pointsView",void 0),r.__decorate([p.property()],t.prototype,"_polylinesView",void 0),r.__decorate([p.property()],t.prototype,"_polygonsView",void 0),r.__decorate([p.property()],t.prototype,"_fetchingPromise",void 0),r.__decorate([p.property({dependsOn:["_fetchingPromise","_pointsView.updating","_polygonsView.updating","_polylinesView.updating"]})],t.prototype,"updating",void 0),r.__decorate([p.subclass("esri.views.2d.layers.KMLLayerView2D")],t)}(_.LayerView2DMixin(g))}.apply(null,n))||(e.exports=i)},"20TT":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Vx27"),r("ZMIQ")],void 0===(i=function(e,t,r,n,i){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.path=[],t}return r.__extends(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0}),r.__decorate([n.property({type:[[[Number]]],json:{write:!0}})],t.prototype,"path",void 0),r.__decorate([n.property({readOnly:!0,dependsOn:["path"]})],t.prototype,"version",null),r.__decorate([n.subclass("esri.views.layers.support.Path")],t)}(i)}.apply(null,n))||(e.exports=i)},"2QEt":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("zp6E"),r("jfWY"),r("Lzvl")],void 0===(i=function(e,t,r,n,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.cut=function(e,t,s,u){return r.__awaiter(this,void 0,void 0,(function(){var p,l,h,c,d,f,_;return r.__generator(this,(function(y){switch(y.label){case 0:return p="string"==typeof e?o.urlToObject(e):e,l=t[0].spatialReference,h=r.__assign(r.__assign({},u),{query:r.__assign(r.__assign({},p.query),{f:"json",sr:JSON.stringify(l),target:JSON.stringify({geometryType:a.getJsonType(t[0]),geometries:t}),cutter:JSON.stringify(s)})}),[4,i(p.path+"/cut",h)];case 1:return c=y.sent(),d=c.data,f=d.cutIndexes,_=d.geometries,[2,{cutIndexes:f,geometries:(void 0===_?[]:_).map((function(e){return n.fromJSON(e).set(l)}))}]}}))}))}}.apply(null,n))||(e.exports=i)},"5r4l":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("H1tY"),r("jBNx"),r("8uEs"),r("jEml"),r("lRq4"),r("k1EI"),r("d466"),r("Lzvl"),r("fw2w"),r("9gM4"),r("wjMf")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p,l,h,c,d){Object.defineProperty(t,"__esModule",{value:!0});var f={minX:0,minY:0,maxX:0,maxY:0},_=s.create(),y=[];function g(e,t,r,n,i){return f.minX=t,f.minY=r,f.maxX=n,f.maxY=i,e.search(f)}var m=function(){function e(e,t,r,i,s,u){this._graphics=i,this._onAdd=s,this._onRemove=u,this._index=a(9,n("csp-restrictions")?function(e){return{minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}}:[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this._itemByGraphic=new Map,this._currentLevel=-1/0,this._tileInfoView=e,this._uidFieldName=r;var p=e.getClosestInfoForScale(t);p&&(this._currentLevel=p.level,this._resolution=this._tileInfoView.getTileResolution(p.level)),this._metersPerUnit=o.getMetersPerUnit(e.spatialReference)}return e.prototype.hitTest=function(e,t,r,n,o){e=h.normalizeMapX(e,this._tileInfoView.spatialReference);var a=.5*n*r;_[0]=e-a,_[1]=t-a,_[2]=e+a,_[3]=t+a;var c=.5*n*(r+50),f=g(this._index,e-c,t-c,e+c,t+c);if(!f||0===f.length)return[];for(var y,m={x:e,y:t},v=[],x=0,P=f;x<P.length;x++){var b=P[x];if(b.graphic.visible)switch(l.getJsonType(b.geometry)){case"esriGeometryPoint":var w=b.symbol;if(!w)continue;var M=b.geometry,S=void 0;switch(w.type){case"text":S=d.getTextSymbolBounds(M.x,M.y,w,b.size,n,o);break;case"cim":case"expanded-cim":S=d.getCIMMarkerBounds(M.x,M.y,w,n,n*this._metersPerUnit,o);break;default:S=d.getMarkerSymbolBounds(M.x,M.y,w,n,n*this._metersPerUnit,o)}u.polygonContainsPoint(S,m)&&v.push(b);break;case"esriGeometryPolyline":var T=b.symbol;if(!T)continue;y=1.5*n*window.devicePixelRatio*i.pt2px(T.width),d.isPointOnPolyline(b.geometry,e,t,y)&&v.push(b);break;case"esriGeometryEnvelope":var O=b.geometry,E=s.fromValues(O.xmin,O.ymin,O.xmax,O.ymax);s.intersects(E,_)&&v.push(b);break;case"esriGeometryPolygon":if(u.polygonContainsPoint(b.geometry,m)){v.push(b);break}var I=p.getPolygonExtent(b.geometry);if(Math.abs(I.ymax-I.ymin)<5*n||Math.abs(I.xmax-I.xmin)<5*n){var G=s.fromValues(I.xmin,I.ymin,I.xmax,I.ymax);s.intersects(G,_)&&v.push(b)}break;case"esriGeometryMultipoint":var N=b.symbol;if(!N)continue;for(var R=b.geometry.points,A=void 0,C=0;C<R.length;C++){if("text"===N.type){var j=N;A=d.getTextSymbolBounds(R[C][0],R[C][1],j,b.size,n,o)}else A=d.getMarkerSymbolBounds(R[C][0],R[C][1],N,n,n*this._metersPerUnit,o);if(u.polygonContainsPoint(A,m)){v.push(b);break}}}}return v.sort((function(e,t){var r=d.graphicGeometryToNumber(e.graphic),n=d.graphicGeometryToNumber(t.graphic);return r===n?t.zorder-e.zorder:r-n})),v.map((function(e){return e.graphic}))},e.prototype.getGraphicsData=function(e,t,n){var i=g(this._index,t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]);if(0===i.length||0===n.length)return[];i.sort((function(e,t){return e.zorder-t.zorder})),i[0].insertAfter=-1;for(var o=1;o<i.length;o++)i[o].insertAfter=i[o-1].graphic.uid;i.sort((function(e,t){return e.graphic.uid-t.graphic.uid})),n.sort((function(e,t){return e.uid-t.uid}));for(var a,s=0,u=0,p=[],l={originPosition:"upperLeft",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]},h=0,d=n;h<d.length;h++){var f=d[h];for(u=-2;s<i.length;)if(a=i[s],s++,f.uid===a.graphic.uid){u=a.insertAfter;break}if(a.geometry&&-2!==u){var _=a.getGeometryQuantized(l),y=r.__assign({},a.graphic.attributes);y[this._uidFieldName]=f.uid,null==a.groupId&&(a.groupId=e.createTemplateGroup(a.symbol,null,null)),p.push({centroid:c.default.getCentroidQuantized(a,l),geometry:_,attributes:y,symbol:a.symbol,groupId:a.groupId,insertAfter:u})}}return p},e.prototype.getGraphicData=function(e,t,n){var i=this._itemByGraphic.get(n);if(!i)return null;var o=g(this._index,t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]);o.sort((function(e,t){return e.zorder-t.zorder}));var a=o.indexOf(i),s=0===a||-1===a?-1:o[a-1].graphic.uid,u={originPosition:"upperLeft",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]},p=i.getGeometryQuantized(u),l=r.__assign({},i.graphic.attributes);return l[this._uidFieldName]=n.uid,null==i.groupId&&(i.groupId=e.createTemplateGroup(i.symbol,null,null)),{centroid:c.default.getCentroidQuantized(i,u),geometry:p,attributes:l,symbol:i.symbol,groupId:i.groupId,insertAfter:s}},e.prototype.queryTileData=function(e,t){var r=50*t.resolution,n=s.pad(t.bounds,r,s.create()),i=g(this._index,n[0],n[1],n[2],n[3]),o=[];return this._createTileGraphics(o,e,i,{originPosition:"upperLeft",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]}),o},e.prototype.has=function(e){return this._itemByGraphic.has(e)},e.prototype.getBounds=function(e){return this._itemByGraphic.has(e)?this._itemByGraphic.get(e).bounds:null},e.prototype.add=function(e,t,r){if(e){this._onAdd(e);var n=c.default.acquire(e,t,r,this._resolution,this._resolution*this._metersPerUnit,this._tileInfoView.spatialReference);return this._itemByGraphic.set(e,n),r&&this._index.insert(n),n.bounds}},e.prototype.remove=function(e){if(this._itemByGraphic.has(e)){this._onRemove(e);var t=this._itemByGraphic.get(e);this._index.remove(t),this._itemByGraphic.delete(e)}},e.prototype.updateZ=function(){for(var e,t,r=this._graphics.items,n=0;n<r.length;n++)t=r[n],(e=this._itemByGraphic.get(t))&&(e.zorder=n)},e.prototype.update=function(e,t,r){var n=this._itemByGraphic.get(e);n.groupId=null;var i=s.clone(n.bounds);return n.size[0]=n.size[1]=0,this._index.remove(n),n.set(e,t,r,this._resolution,this._resolution*this._metersPerUnit,this._tileInfoView.spatialReference),r&&this._index.insert(n),{oldBounds:i,newBounds:n.bounds}},e.prototype.updateLevel=function(e){var t=this;if(this._currentLevel!==e){this._currentLevel=e;var r=this._tileInfoView.getTileResolution(e);this._resolution=r,this._index.clear(),y.length=0,this._itemByGraphic.forEach((function(e){e.updateBounds(t._resolution,t._resolution*t._metersPerUnit,t._tileInfoView.spatialReference),e.geometry&&y.push(e)})),this._index.load(y)}},e.prototype.clear=function(){this._itemByGraphic.clear(),this._index.clear()},e.prototype._createTileGraphics=function(e,t,n,i){var o,a,s,u,p=this._uidFieldName;n.sort((function(e,t){return e.zorder-t.zorder}));for(var l=0;l<n.length;l++){o=(s=n[l]).graphic,a=s.getGeometryQuantized(i),u=0===l?-1:n[l-1].graphic.uid;var h=r.__assign({},s.graphic.attributes);h[p]=o.uid,null==s.groupId&&(s.groupId=t.createTemplateGroup(s.symbol,null,null)),e.push({centroid:c.default.getCentroidQuantized(s,i),geometry:a,attributes:h,symbol:s.symbol,groupId:s.groupId,insertAfter:u})}},e}();t.default=m}.apply(null,n))||(e.exports=i)},"6i4F":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("y4WC"),r("K2Kz"),r("8MXS"),r("Vx27"),r("YaB4"),r("ZMIQ"),r("7MXx"),r("ts8o"),r("20TT")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p,l,h){Object.defineProperty(t,"__esModule",{value:!0});var c=n.ofType({key:"type",base:u,typeMap:{rect:p,path:h,geometry:l}});t.LayerView2DMixin=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clips=new c,t.moving=!1,t.attached=!1,t.lastUpdateId=-1,t.updateRequested=!1,t}return r.__extends(t,e),t.prototype.initialize=function(){var e,t=this;this.container||(this.container=new s.Container),this.handles.add([o.init(this,"suspended",(function(e){t.container&&(t.container.visible=!e),t.view&&!e&&t.updateRequested&&t.view.requestUpdate()}),!0),o.init(this,["layer.opacity","container"],(function(){var e,r;t.container&&(t.container.opacity=null!==(r=null===(e=t.layer)||void 0===e?void 0:e.opacity)&&void 0!==r?r:1)}),!0),o.init(this,["layer.blendMode"],(function(e){t.container&&(t.container.blendMode=e)}),!0),this.clips.on("change",(function(){t.container.clips=t.clips,t.notifyChange("clips")}))]),this.container.clips=this.clips,(null===(e=this.view)||void 0===e?void 0:e.whenLayerView)?this.view.whenLayerView(this.layer).then((function(e){e!==t||t.attached||t.destroyed||(t.attach(),t.requestUpdate(),t.attached=!0)}),(function(){})):this.when().then((function(){t.attached||t.destroyed||(t.attach(),t.requestUpdate(),t.attached=!0)}),(function(){}))},t.prototype.destroy=function(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove("initialize"),this.updateRequested=!1,this.layer=null,this.view=null},Object.defineProperty(t.prototype,"updating",{get:function(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())},enumerable:!0,configurable:!0}),t.prototype.isVisibleAtScale=function(e){var t=!0,r=this.layer,n=r.minScale,i=r.maxScale;if(null!=n&&null!=i){var o=!n,a=!i;!o&&e<=n&&(o=!0),!a&&e>=i&&(a=!0),t=o&&a}return t},t.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())},t.prototype.processUpdate=function(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1},t.prototype.isUpdating=function(){return!1},t.prototype.isRendering=function(){return!1},t.prototype.canResume=function(){return!!e.prototype.canResume.call(this)&&this.isVisibleAtScale(this.view.scale)},r.__decorate([a.property({type:c,set:function(e){var t=i.referenceSetter(e,this._get("clips"),c);this._set("clips",t)}})],t.prototype,"clips",void 0),r.__decorate([a.property()],t.prototype,"moving",void 0),r.__decorate([a.property()],t.prototype,"attached",void 0),r.__decorate([a.property()],t.prototype,"container",void 0),r.__decorate([a.property({dependsOn:["view.scale","layer.minScale","layer.maxScale"]})],t.prototype,"suspended",void 0),r.__decorate([a.property({readOnly:!0})],t.prototype,"updateParameters",void 0),r.__decorate([a.property()],t.prototype,"updateRequested",void 0),r.__decorate([a.property({dependsOn:["attached","updateRequested","suspended"]})],t.prototype,"updating",null),r.__decorate([a.property()],t.prototype,"view",void 0),r.__decorate([a.subclass("esri.views.2d.layers.LayerView2D")],t)}(e)}}.apply(null,n))||(e.exports=i)},"6kSU":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("BcWh"),r("H1tY"),r("jEml"),r("fUL3"),r("7Lgj"),r("f3JK")],void 0===(i=function(e,t,r,n,i,o,a,s,u){Object.defineProperty(t,"__esModule",{value:!0});var p={added:[],removed:[]},l=new Set,h=new u(0,0,0,0),c=function(e){function t(t){var r=e.call(this)||this;return r._tiles=new Map,r._index=o(9,i("csp-restrictions")?function(e){return{minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}}:[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),r.tiles=[],r.tileScheme=t,r}return r.__extends(t,e),t.prototype.destroy=function(){this._tiles.clear()},t.prototype.clear=function(){this._tiles.clear(),this._index.clear()},t.prototype.has=function(e){return this._tiles.has(e)},t.prototype.get=function(e){return this._tiles.get(e)},t.prototype.findByKey=function(e){return this._tiles.get(e.id)},t.prototype.intersections=function(e,t){var r="string"==typeof e?this.get(e):e;if(!r)return[];for(var n=t*r.resolution,i=r.bounds[0]-n,o=r.bounds[1]-n,a=r.bounds[2]+n,s=r.bounds[3]+n,u=[],p=0,l=this._index.search({minX:i,minY:o,maxX:a,maxY:s});p<l.length;p++){var h=l[p],c=h.bounds.slice();c[0]=Math.max(c[0],i),c[1]=Math.max(c[1],o),c[2]=Math.min(c[2],a),c[3]=Math.min(c[3],s),c[2]-c[0]>0&&c[3]-c[1]>0&&u.push({bounds:c,tile:h})}return u},t.prototype.boundsIntersections=function(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})},t.prototype.setViewState=function(e){var t=this.tileScheme.getTileCoverage(e,0);if(t){var r=t.spans,n=t.lodInfo,i=n.level;if(r.length>0)for(var o=0,u=r;o<u.length;o++)for(var c=u[o],d=c.row,f=c.colFrom,_=c.colTo,y=f;y<=_;y++){var g=h.set(i,d,n.normalizeCol(y),n.getWorldForColumn(y)).id;if(l.add(g),!this.has(g)){var m=new a.default(this.tileScheme,g);this._tiles.set(g,m),this._index.insert(m),this.tiles.push(m),p.added.push(m)}}for(var v=this.tiles.length-1;v>=0;v--)m=this.tiles[v],l.has(m.id)||(this._tiles.delete(m.id),this.tiles.splice(v,1),this._index.remove(m),p.removed.push(m));(p.added.length||p.removed.length)&&this.emit("update",p),s.pool.release(t),l.clear(),p.added.length=0,p.removed.length=0}},t}(n);t.default=c}.apply(null,n))||(e.exports=i)},"7MXx":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Vx27"),r("ZMIQ")],void 0===(i=function(e,t,r,n,i){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.left=null,t.right=null,t.top=null,t.bottom=null,t}var i;return r.__extends(t,e),i=t,t.prototype.clone=function(){return new i({left:this.left,right:this.right,top:this.top,bottom:this.bottom})},Object.defineProperty(t.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0}),r.__decorate([n.property({type:[Number,String],json:{write:!0}})],t.prototype,"left",void 0),r.__decorate([n.property({type:[Number,String],json:{write:!0}})],t.prototype,"right",void 0),r.__decorate([n.property({type:[Number,String],json:{write:!0}})],t.prototype,"top",void 0),r.__decorate([n.property({type:[Number,String],json:{write:!0}})],t.prototype,"bottom",void 0),r.__decorate([n.property({readOnly:!0,dependsOn:["left","right","top","bottom"]})],t.prototype,"version",null),i=r.__decorate([n.subclass("esri.views.layers.support.ClipRect")],t)}(i)}.apply(null,n))||(e.exports=i)},"9gM4":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("LxLY"),r("lRq4"),r("0FS0"),r("Lzvl"),r("u90+"),r("+6sX"),r("Jvs9"),r("wjMf")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p){Object.defineProperty(t,"__esModule",{value:!0});var l=new u.default,h=new u.default;function c(e){e.coords.length=0,e.lengths.length=0}var d=function(){function e(){this.bounds=n.create(),this.graphic=null,this.size=[0,0,0,0]}return e.acquire=function(t,r,n,i,o,a){var s;return void 0===t&&(t=null),0===e._pool.length?s=new e:(s=e._pool.pop(),this._set.delete(s)),s.acquire(t,r,n,i,o,a),s},e.release=function(e){e&&!this._set.has(e)&&(e.release(),this._pool.push(e),this._set.add(e))},e.getCentroidQuantized=function(e,t){if(o.isPolygon(e.geometry)){var n=e.symbol;if(r.isNone(n))return null;if(p.isMarkerSymbol(n.type)){var s=i.polygonCentroid(e.geometry);return a.quantizePoint(t,{},{x:s[0],y:s[1]},!1,!1)}}return null},e.prototype.acquire=function(e,t,r,n,i,o){void 0===e&&(e=null),e&&this.set(e,t,r,n,i,o)},e.prototype.release=function(){this.graphic=null,this.symbolResource=null,this.geometry=null},Object.defineProperty(e.prototype,"symbol",{get:function(){return this.symbolResource.symbol},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t,r,n,i,o){this.graphic=e,this.geometry=r,this.symbolResource=t,this.updateBounds(n,i,o)},e.prototype.updateBounds=function(e,t,r){p.getBounds(this.bounds,this.size,this.symbolResource,this.geometry,e,t,r)},e.prototype.getGeometryQuantized=function(e){if(o.isPolygon(this.geometry)){var t=this.geometry.rings;if(1===t.length&&2===t[0].length)return a.quantizeGeometry(e,{paths:[[t[0][0],t[0][1]]]})}else if(o.isPolyline(this.geometry))return c(l),c(h),s.convertFromPolyline(l,this.geometry),s.generalizeOptimizedGeometry(h,l,this.geometry.hasZ,this.geometry.hasM,"esriGeometryPolyline",e.scale[0]),s.quantizeOptimizedGeometry(l,h,this.geometry.hasZ,this.geometry.hasM,"esriGeometryPolyline",e),s.convertToPolyline(l,this.geometry.hasZ,this.geometry.hasM);return a.quantizeGeometry(e,this.geometry)},e._pool=[],e._set=new Set,e}();t.default=d}.apply(null,n))||(e.exports=i)},FBzP:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("N0+q")],void 0===(i=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"hasLabels",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelsVisible",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype._renderGraphics=function(e,t){for(var r=0,n=this.children;r<n.length;r++){var i=n[r];i.isReady&&i.hasData&&(i.commitChanges(),e.context.setStencilFunction(514,i.stencilRef,255),i._displayList.replay(e,i,t))}},t.prototype.renderChildren=function(t){var r=t.painter;if(this.children.some((function(e){return e.hasData}))){e.prototype.renderChildren.call(this,t),this._renderGraphics(t);var n=r.effects.highlight;n.bind(t),this._renderGraphics(t,n.defines),n.draw(t),n.unbind()}},t}(n.FeatureContainer);t.default=i}.apply(null,n))||(e.exports=i)},FT4I:function(e,t,r){var n;void 0===(n=function(){"use strict";function e(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function t(e,t){return e<t?-1:e>t?1:0}return function(r,n,i,o,a){!function t(r,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=n-i+1,p=Math.log(s),l=.5*Math.exp(2*p/3),h=.5*Math.sqrt(p*l*(s-l)/s)*(u-s/2<0?-1:1);t(r,n,Math.max(i,Math.floor(n-u*l/s+h)),Math.min(o,Math.floor(n+(s-u)*l/s+h)),a)}var c=r[n],d=i,f=o;for(e(r,i,n),a(r[o],c)>0&&e(r,i,o);d<f;){for(e(r,d,f),d++,f--;a(r[d],c)<0;)d++;for(;a(r[f],c)>0;)f--}0===a(r[i],c)?e(r,i,f):e(r,++f,o),f<=n&&(i=f+1),n<=f&&(o=f-1)}}(r,n,i||0,o||r.length-1,a||t)}}.apply(null,[]))||(e.exports=n)},H9Hv:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.jsonAdapter={convertToGEGeometry:function(e,t){return null==t?null:e.convertJSONToGeometry(t)},exportPoint:function(e,t,n){var i=new r(e.getPointX(t),e.getPointY(t),n),o=e.hasZ(t),a=e.hasM(t);return o&&(i.z=e.getPointZ(t)),a&&(i.m=e.getPointM(t)),i},exportPolygon:function(e,t,r){return new n(e.exportPaths(t),r,e.hasZ(t),e.hasM(t))},exportPolyline:function(e,t,r){return new i(e.exportPaths(t),r,e.hasZ(t),e.hasM(t))},exportMultipoint:function(e,t,r){return new o(e.exportPoints(t),r,e.hasZ(t),e.hasM(t))},exportExtent:function(e,t,r){var n=e.hasZ(t),i=e.hasM(t),o=new a(e.getXMin(t),e.getYMin(t),e.getXMax(t),e.getYMax(t),r);if(n){var s=e.getZExtent(t);o.zmin=s.vmin,o.zmax=s.vmax}if(i){var u=e.getMExtent(t);o.mmin=u.vmin,o.mmax=u.vmax}return o}};var r=function(e,t,r){this.x=e,this.y=t,this.spatialReference=r,this.z=void 0,this.m=void 0},n=function(e,t,r,n){this.rings=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),n&&(this.hasM=n)},i=function(e,t,r,n){this.paths=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),n&&(this.hasM=n)},o=function(e,t,r,n){this.points=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),n&&(this.hasM=n)},a=function(e,t,r,n,i){this.xmin=e,this.ymin=t,this.xmax=r,this.ymax=n,this.spatialReference=i,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}.apply(null,n))||(e.exports=i)},MbkH:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){var r=0;return function(){function e(e){void 0===e&&(e=null),this.uid=r++,e?(this._wkt=void 0!==e.wkt?e.wkt:null,this._wkid=void 0!==e.wkid?e.wkid:-1,this._isInverse=void 0!==e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}return e.fromGE=function(t){var r=new e;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r},Object.defineProperty(e.prototype,"wkt",{get:function(){return this._wkt},set:function(e){this._wkt=e,this.uid=r++},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wkid",{get:function(){return this._wkid},set:function(e){this._wkid=e,this.uid=r++},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInverse",{get:function(){return this._isInverse},set:function(e){this._isInverse=e,this.uid=r++},enumerable:!0,configurable:!0}),e.prototype.getInverse=function(){var t=new e;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t},e}()}.apply(null,n))||(e.exports=i)},"N0+q":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("qMld"),r("qMld"),r("lRq4"),r("YaB4")],void 0===(i=function(e,t,r,n,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var r=e.call(this,t)||this;return r._rendererInfo=new a.WGLRendererInfo,r._attachedResolver=n.createResolver(),r.attributeView=new a.AttributeStoreView,r}return r.__extends(t,e),t.prototype.destroy=function(){this.removeAllChildren(),this.children.forEach((function(e){return e.destroy()})),this.attributeView.destroy()},t.prototype.whenAttached=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this._attachedResolver.promise];case 1:return e.sent(),[2]}}))}))},t.prototype.setRendererInfo=function(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()},t.prototype.getMaterialItems=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,o;return r.__generator(this,(function(r){switch(r.label){case 0:return e&&0!==e.length?[4,this.whenAttached()]:[2,null];case 1:return r.sent(),n=this.stage.painter.textureManager,o=e.map((function(e){return n.rasterizeItem(e.symbol,e.glyphIds,t)})),[4,i.all(o)];case 2:return[2,r.sent().map((function(t,r){return{id:e[r].id,mosaicItem:t}}))]}}))}))},t.prototype.onTileData=function(e,t){if(t.addOrUpdate&&"tileDisplayData"in t.addOrUpdate)e.setData(t,this.hasLabels,this.labelsVisible);else{var n=t.addOrUpdate&&a.TileData.decode(t.addOrUpdate),i=r.__assign(r.__assign({},t),{addOrUpdate:n});e.setData(i,this.hasLabels,this.labelsVisible)}this.contains(e)||this.addChild(e),this.requestRender()},t.prototype.onTileError=function(e){e.clear(),this.contains(e)||this.addChild(e)},t.prototype.renderChildren=function(t){this._rendererInfo.update(t.state),this.attributeView.bindTextures(this.stage.context),e.prototype.renderChildren.call(this,t)},t.prototype.createTile=function(e){var t=this._tileInfoView.getTileBounds(o.create(),e);return new a.WGLTile(e,t)},t.prototype.destroyTile=function(e){this.removeChild(e),e.destroy()},t.prototype.createRenderParams=function(t){return r.__assign(r.__assign({},e.prototype.createRenderParams.call(this,t)),{rendererInfo:this._rendererInfo,attributeView:this.attributeView})},t.prototype.onAttach=function(){e.prototype.onAttach.call(this);var t=this.stage.context.capabilities;t.textureFloat,t.vao,this._attachedResolver()},t.prototype.onDetach=function(){e.prototype.onDetach.call(this),this._attachedResolver=n.createResolver()},t}(a.TileContainer);t.FeatureContainer=s}.apply(null,n))||(e.exports=i)},N3Jt:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("0J3i"),r("ifLZ"),r("zp6E"),r("rg9i"),r("Z4y+"),r("WRgd"),r("hBh5"),r("hz/Y"),r("w1v0")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p,l,h){Object.defineProperty(t,"__esModule",{value:!0});var c={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function d(e,t,r){r.forEach((function(r){e.set(r.attributes[t],r)}))}function f(e){for(var t=u.create(),r=u.create(u.NEGATIVE_INFINITY),n=0,i=e;n<i.length;n++){var o=i[n];if(o.polygons&&o.polygons.featureSet&&o.polygons.featureSet.features)for(var a=0,l=o.polygons.featureSet.features;a<l.length;a++){var h=l[a];p.getBoundsXYZ(t,h.geometry),u.expand(r,t,r)}if(o.polylines&&o.polylines.featureSet&&o.polylines.featureSet.features)for(var c=0,d=o.polylines.featureSet.features;c<d.length;c++)h=d[c],p.getBoundsXYZ(t,h.geometry),u.expand(r,t,r);if(o.points&&o.points.featureSet&&o.points.featureSet.features)for(var f=0,_=o.points.featureSet.features;f<_.length;f++)h=_[f],p.getBoundsXYZ(t,h.geometry),u.expand(r,t,r);if(o.mapImages)for(var y=0,g=o.mapImages;y<g.length;y++)h=g[y],p.getBoundsXYZ(t,h.extent),u.expand(r,t,r)}return u.equals(r,u.NEGATIVE_INFINITY)?null:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5],spatialReference:s.WGS84}}t.parseKML=function(e){var t=e.folders||[],r=t.slice(),n=new Map,i=new Map,o=new Map,s=new Map,u=new Map,p={esriGeometryPoint:i,esriGeometryPolyline:o,esriGeometryPolygon:s};(e.featureCollection&&e.featureCollection.layers||[]).forEach((function(e){var t=a.clone(e);t.featureSet.features=[];var r=e.featureSet.geometryType;n.set(r,t);var u=e.layerDefinition.objectIdField;"esriGeometryPoint"===r?d(i,u,e.featureSet.features):"esriGeometryPolyline"===r?d(o,u,e.featureSet.features):"esriGeometryPolygon"===r&&d(s,u,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((function(e){u.set(e.id,e)})),t.forEach((function(t){t.networkLinkIds.forEach((function(n){var i=function(e,t,r){var n=function(e,t){var r;return t.some((function(t){return t.id===e&&(r=t,!0)})),r}(e,r);return n&&(n.parentFolderId=t,n.networkLink=n),n}(n,t.id,e.networkLinks);i&&r.push(i)}))})),r.forEach((function(e){e.featureInfos&&(e.points=a.clone(n.get("esriGeometryPoint")),e.polylines=a.clone(n.get("esriGeometryPolyline")),e.polygons=a.clone(n.get("esriGeometryPolygon")),e.mapImages=[],e.featureInfos.map((function(t){switch(t.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":var r=p[t.type].get(t.id);r&&e[c[t.type]].featureSet.features.push(r);break;case"GroundOverlay":var n=u.get(t.id);n&&e.mapImages.push(n)}})),e.fullExtent=f([e]))}));var l=f(r);return{folders:t,sublayers:r,extent:l}},t.fetchService=function(e,t,r,i){var a=n.kmlServiceUrl;return o(a,{query:{url:e,model:"simple",folders:"",refresh:0!==r||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:i})},t.sublayersFromJSON=function(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=[]);var i=[],o={},a=t.sublayers,s=t.folders.map((function(e){return e.id}));return a.forEach((function(t){var a=new e;if(r?a.read(t,r):a.read(t),n.length&&s.indexOf(a.id)>-1&&(a.visible=-1!==n.indexOf(a.id)),o[t.id]=a,null!=t.parentFolderId&&-1!==t.parentFolderId){var u=o[t.parentFolderId];u.sublayers||(u.sublayers=[]),u.sublayers.unshift(a)}else i.unshift(a)})),i},t.getGraphics=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,o,a,s,u,p,c,d,f;return r.__generator(this,(function(r){switch(r.label){case 0:t=h.fromJSON(e.featureSet),n=t.features,o=e.layerDefinition,a=l.fromJSON(o.drawingInfo.renderer),s=i.fromJSON(e.popupInfo),u=[],p=0,c=n,r.label=1;case 1:return p<c.length?(d=c[p],[4,a.getSymbolAsync(d)]):[3,4];case 2:f=r.sent(),d.symbol=f,d.popupTemplate=s,d.visible=!!d.attributes.visibility,u.push(d),r.label=3;case 3:return p++,[3,1];case 4:return[2,u]}}))}))},t.computeExtent=f}.apply(null,n))||(e.exports=i)},OkCb:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("MbkH")],void 0===(i=function(e,t,r){return function(){function e(e){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,e&&e.steps)for(var t=0,n=e.steps;t<n.length;t++){var i=n[t];i instanceof r?this.steps.push(i):this.steps.push(new r({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}}return e.cacheKey=function(e,t){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():""].join(",")},e.fromGE=function(t){for(var n=new e,i="",o=0,a=t.steps;o<a.length;o++){var s=a[o],u=r.fromGE(s);n.steps.push(u),i+=u.uid.toString()+","}return n._cached_projection={},n._gtlistentry=null,n._chain=i,n},e.prototype.getInverse=function(){var t=new e;t.steps=[];for(var r=this.steps.length-1;r>=0;r--){var n=this.steps[r];t.steps.push(n.getInverse())}return t},e.prototype.getGTListEntry=function(){for(var e="",t=0,r=this.steps;t<r.length;t++)e+=r[t].uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=e),this._gtlistentry},e.prototype.assignCachedGe=function(t,r,n){this._cached_projection[e.cacheKey(t,r)]=n},e.prototype.getCachedGeTransformation=function(t,r){for(var n="",i=0,o=this.steps;i<o.length;i++)n+=o[i].uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=n);var a=this._cached_projection[e.cacheKey(t,r)];return void 0===a?null:a},e}()}.apply(null,n))||(e.exports=i)},Q2Em:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("qMld"),r("wIC5"),r("H9Hv"),r("nrlZ"),r("vtMp")],void 0===(i=function(e,t,r,n,i,o,a,s,u){Object.defineProperty(t,"__esModule",{value:!0});var p=[0,0];function l(e,t){var r,n,i;if(!t)return null;if("x"in t){var o={x:0,y:0};return r=e(t.x,t.y,p),o.x=r[0],o.y=r[1],null!=t.z&&(o.z=t.z),null!=t.m&&(o.m=t.m),o}return"xmin"in t?(o={xmin:0,ymin:0,xmax:0,ymax:0},n=e(t.xmin,t.ymin,p),o.xmin=n[0],o.ymin=n[1],i=e(t.xmax,t.ymax,p),o.xmax=i[0],o.ymax=i[1],t.hasZ&&(o.zmin=t.zmin,o.zmax=t.zmax,o.hasZ=!0),t.hasM&&(o.mmin=t.mmin,o.mmax=t.mmax,o.hasM=!0),o):"rings"in t?{rings:h(t.rings,e),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:h(t.paths,e),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:c(t.points,e),hasM:t.hasM,hasZ:t.hasZ}:void 0}function h(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var o=i[n];r.push(c(o,t))}return r}function c(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var o=i[n],a=t(o[0],o[1],[0,0]);r.push(a),o.length>2&&a.push(o[2]),o.length>3&&a.push(o[3])}return r}function d(e,t){return!(!s.isValid(e)||!s.isValid(t)||s.equals(e,t)||u.canProject(e,t))}t.doesBrowserSupportProjection=function(e,t){return!d(e,t)||o.isSupported()},t.checkProjectionSupport=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,a,s;return r.__generator(this,(function(r){if(!t)return[2];if(Array.isArray(e)){for(i=0,a=e;i<a.length;i++)if(d((s=a[i]).geometry&&s.geometry.spatialReference,t)){if(o.isSupported())return[2,o.load()];throw new n("feature-store:unsupported-query","projection not supported",{inSpatialReference:e,outSpatialReference:t})}return[2]}if(!d(e,t))return[2];if(o.isSupported())return[2,o.load()];throw new n("feature-store:unsupported-query","projection not supported",{inSpatialReference:e,outSpatialReference:t})}))}))};var f=l.bind(null,u.lngLatToXY),_=l.bind(null,u.xyToLngLat);t.project=function(e,t,r){return e?(r||(r=t,t=e.spatialReference),s.isValid(t)&&s.isValid(r)&&!s.equals(t,r)?u.canProject(t,r)?s.isWebMercator(r)?f(e):_(e):o.projectMany(a.jsonAdapter,[e],t,r,null)[0]:e):e};var y=new(function(){function e(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}return e.prototype.push=function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var o,a=this;return r.__generator(this,(function(r){return e&&e.length&&t&&n&&!s.equals(t,n)||i.resolve(e),o={geometries:e,inSpatialReference:t,outSpatialReference:n,resolve:null},this._jobs.push(o),[2,i.create((function(e){o.resolve=e,null===a._timer&&(a._timer=setTimeout(a._process,10))}))]}))}))},e.prototype._process=function(){this._timer=null;var e=this._jobs.shift();if(e){var t=e.geometries,r=e.inSpatialReference,n=e.outSpatialReference,i=e.resolve;u.canProject(r,n)?s.isWebMercator(n)?i(t.map(f)):i(t.map(_)):i(o.projectMany(a.jsonAdapter,t,r,n,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}},e}());t.projectMany=function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,y.push(e,t,n)]}))}))}}.apply(null,n))||(e.exports=i)},WRgd:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("LxLY"),r("N7S/"),r("lRq4")],void 0===(i=function(e,t,r,n,i){function o(e){return void 0===e&&(e=t.ZERO),[e[0],e[1],e[2],e[3],e[4],e[5]]}function a(e,t,r,n,i,a,s){return void 0===s&&(s=o()),s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=i,s[5]=a,s}function s(e){return e[0]>=e[3]?0:e[3]-e[0]}function u(e){return e[1]>=e[4]?0:e[4]-e[1]}function p(e){return e[2]>=e[5]?0:e[5]-e[2]}function l(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function h(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function c(e){return 6===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.create=o,t.fromValues=a,t.fromExtent=function(e,t){return void 0===t&&(t=o()),t[0]=e.xmin,t[1]=e.ymin,t[2]=e.zmin,t[3]=e.xmax,t[4]=e.ymax,t[5]=e.zmax,t},t.toExtent=function(e,t){var r=isFinite(e[2])||isFinite(e[5]);return new n(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})},t.fromMinMax=function(e,t,r){return void 0===r&&(r=o()),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r},t.expandPointInPlace=function(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[3]&&(e[3]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[4]&&(e[4]=t[1]),t[2]<e[2]&&(e[2]=t[2]),t[2]>e[5]&&(e[5]=t[2])},t.expand=function(e,t,r){return void 0===r&&(r=e),c(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r[3]=Math.max(e[3],t[3]),r[4]=Math.max(e[4],t[4]),r[5]=Math.max(e[5],t[5])):i.is(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[3]=Math.max(e[3],t[2]),r[4]=Math.max(e[4],t[3])):2===t.length?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[3]=Math.max(e[3],t[0]),r[4]=Math.max(e[4],t[1])):3===t.length&&(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r[3]=Math.max(e[3],t[0]),r[4]=Math.max(e[4],t[1]),r[5]=Math.max(e[5],t[2])),r},t.expandWithBuffer=function(e,t,r,n,i){void 0===r&&(r=0),void 0===n&&(n=t.length/3),void 0===i&&(i=e);for(var o=e[0],a=e[1],s=e[2],u=e[3],p=e[4],l=e[5],h=0;h<n;h++)o=Math.min(o,t[r+3*h]),a=Math.min(a,t[r+3*h+1]),s=Math.min(s,t[r+3*h+2]),u=Math.max(u,t[r+3*h]),p=Math.max(p,t[r+3*h+1]),l=Math.max(l,t[r+3*h+2]);return i[0]=o,i[1]=a,i[2]=s,i[3]=u,i[4]=p,i[5]=l,i},t.expandWithOffset=function(e,t,r,n,i){return void 0===i&&(i=e),i[0]=Math.min(e[0],e[0]+t),i[3]=Math.max(e[3],e[3]+t),i[1]=Math.min(e[1],e[1]+r),i[4]=Math.max(e[4],e[4]+r),i[2]=Math.min(e[2],e[2]+n),i[5]=Math.max(e[5],e[5]+n),i},t.expandWithNestedArray=function(e,t,r,n){void 0===n&&(n=e);var i=t.length,o=e[0],a=e[1],s=e[2],u=e[3],p=e[4],l=e[5];if(r)for(var h=0;h<i;h++){var c=t[h];o=Math.min(o,c[0]),a=Math.min(a,c[1]),s=Math.min(s,c[2]),u=Math.max(u,c[0]),p=Math.max(p,c[1]),l=Math.max(l,c[2])}else for(h=0;h<i;h++)c=t[h],o=Math.min(o,c[0]),a=Math.min(a,c[1]),u=Math.max(u,c[0]),p=Math.max(p,c[1]);return n[0]=o,n[1]=a,n[2]=s,n[3]=u,n[4]=p,n[5]=l,n},t.allFinite=function(e){for(var t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0},t.width=s,t.depth=u,t.height=p,t.diameter=function(e){var t=s(e),r=p(e),n=u(e);return Math.sqrt(t*t+r*r+n*n)},t.center=function(e,t){return void 0===t&&(t=[0,0,0]),t[0]=e[0]+s(e)/2,t[1]=e[1]+u(e)/2,t[2]=e[2]+p(e)/2,t},t.size=function(e,t){return void 0===t&&(t=[0,0,0]),t[0]=s(e),t[1]=u(e),t[2]=p(e),t},t.maximumDimension=function(e){return Math.max(s(e),p(e),u(e))},t.containsPoint=function(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]},t.containsPointWithMargin=function(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[2]>=e[2]-r&&t[0]<=e[3]+r&&t[1]<=e[4]+r&&t[2]<=e[5]+r},t.contains=function(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[3]<=e[3]&&t[4]<=e[4]&&t[5]<=e[5]},t.intersects=l,t.intersectsClippingArea=function(e,t){return!!r.isNone(t)||l(e,t)},t.offset=function(e,t,r,n,i){return void 0===i&&(i=e),i[0]=e[0]+t,i[1]=e[1]+r,i[2]=e[2]+n,i[3]=e[3]+t,i[4]=e[4]+r,i[5]=e[5]+n,i},t.getMin=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.getMax=function(e,t){return t[0]=e[3],t[1]=e[4],t[2]=e[5],t},t.setMin=function(e,t,r){return void 0===r&&(r=e),r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},t.setMax=function(e,t,r){return void 0===r&&(r=e),r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e},t.set=h,t.empty=function(e){return e?h(e,t.NEGATIVE_INFINITY):o(t.NEGATIVE_INFINITY)},t.toRect=function(e,t){return t||(t=i.create()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t},t.fromRect=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e},t.is=c,t.isPoint=function(e){return 0===s(e)&&0===u(e)&&0===p(e)},t.equals=function(e,t,n){if(r.isNone(e)||r.isNone(t))return e===t;if(!c(e)||!c(t))return!1;if(n){for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1}else for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},t.wrap=function(e,t,r,n,i,o){return a(e,t,r,n,i,o,d)},t.POSITIVE_INFINITY=[-1/0,-1/0,-1/0,1/0,1/0,1/0],t.NEGATIVE_INFINITY=[1/0,1/0,1/0,-1/0,-1/0,-1/0],t.ZERO=[0,0,0,0,0,0];var d=o()}.apply(null,n))||(e.exports=i)},WsO6:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Gtr7"),r("BcWh"),r("7MDj"),r("NfRO"),r("qsST"),r("SZNs"),r("Vx27")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p){return function(e){function t(t){var r=e.call(this,t)||this;return r.layer=null,r.parent=null,r}return r.__extends(t,e),t.prototype.initialize=function(){var e=this;this.when().catch((function(t){if("layerview:create-error"!==t.name){var r=e.layer&&e.layer.id||"no id",n=e.layer&&e.layer.title||"no title";throw s.getLogger(e.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '"+n+"', id: '"+r+"')",t),t}}))},t.prototype.destroy=function(){this.layer=this.parent=null},Object.defineProperty(t.prototype,"fullOpacity",{get:function(){var e=function(e){return null==e?1:e};return e(this.get("layer.opacity"))*e(this.get("parent.fullOpacity"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suspended",{get:function(){return!this.canResume()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suspendInfo",{get:function(){return this.getSuspendInfo()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return!0===this.get("layer.visible")},set:function(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")},enumerable:!0,configurable:!0}),t.prototype.canResume=function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1},t.prototype.getSuspendInfo=function(){var e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e},t.prototype.isUpdating=function(){return!1},r.__decorate([p.property({dependsOn:["layer.opacity","parent.fullOpacity"]})],t.prototype,"fullOpacity",null),r.__decorate([p.property()],t.prototype,"layer",void 0),r.__decorate([p.property()],t.prototype,"parent",void 0),r.__decorate([p.property({readOnly:!0,dependsOn:["visible","layer.loaded","parent.suspended","view?.ready"]})],t.prototype,"suspended",null),r.__decorate([p.property({readOnly:!0,dependsOn:["visible","layer.loaded","parent.suspended","view?.ready"]})],t.prototype,"suspendInfo",null),r.__decorate([p.property({type:Boolean,dependsOn:["updatingHandles.updating"],readOnly:!0})],t.prototype,"updating",null),r.__decorate([p.property({dependsOn:["layer.visible"]})],t.prototype,"visible",null),r.__decorate([p.subclass("esri.views.layers.LayerView")],t)}(o.HandleOwnerMixin(a.IdentifiableMixin(u.EsriPromiseMixin(i.EventedMixin(n)))))}.apply(null,n))||(e.exports=i)},ZMIQ:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("Vx27")],void 0===(i=function(e,t,r,n,i){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),r.__decorate([i.subclass("esri.views.layers.support.ClipArea")],t)}(n.JSONSupport)}.apply(null,n))||(e.exports=i)},apjU:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Gtr7"),r("7MDj"),r("NfRO"),r("loiZ"),r("R2Zq"),r("LxLY"),r("qMld"),r("qMld"),r("jBNx"),r("Vx27"),r("Vt+U"),r("Z4y+"),r("lRq4"),r("ZPQp"),r("Lzvl"),r("nrlZ"),r("Q2Em"),r("aqXi"),r("dXKx"),r("YaB4"),r("tI6k"),r("lvbU"),r("6kSU"),r("FBzP"),r("vhZU"),r("5r4l"),r("wjMf"),r("zRH3")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p,l,h,c,d,f,_,y,g,m,v,x,P,b,w,M,S,T,O,E,I,G){function N(e,t,r){if(r.has(e))return r.get(e);var n={tile:t,addedOrModified:[],removed:[]};return r.set(e,n),n}Object.defineProperty(t,"__esModule",{value:!0});var R=function(e){function t(t){var r=e.call(this,t)||this;return r._tiles=new Map,r._graphicStoreUpdate=!1,r._graphicsSet=new Set,r._matcher=p.resolve(null),r._tileUpdateSet=new Set,r._tilesToUpdate=new Map,r._graphicIdToAbortController=new Map,r._attached=!1,r._highlightIds=new Map,r._updatingGraphicsTimer=null,r.lastUpdateId=-1,r.updateRequested=!1,r.graphicUpdateHandler=r.graphicUpdateHandler.bind(r),r.addOrUpdateGraphic=r.addOrUpdateGraphic.bind(r),r._processAnalyzedGraphics=r._processAnalyzedGraphics.bind(r),r._graphicsChangeHandler=r._graphicsChangeHandler.bind(r),r}return r.__extends(t,e),t.prototype.initialize=function(){var e=this;this._tileStore=new S.default(this.view.featuresTilingScheme),this.container=new T.default(this.view.featuresTilingScheme),this._attributeStore=new M.default({type:"local",initialize:function(t){return p.resolve(e.container.attributeView.initialize(t))},update:function(t){return e.container.attributeView.requestUpdate(t)},render:function(){return e.container.requestRender()}}),this._graphicStore=new E.default(this.view.featuresTilingScheme,this.view.state.scale,this.uid,this.graphics,(function(t){e._attributeStore.createLocalId(t.uid),e._setFilterState(t.uid,t.visible)}),(function(t){e._attributeStore.freeLocalId(t.uid)})),this._graphicProcessingQueue=new O.default({process:this.addOrUpdateGraphic});var t=new b.WGLTemplateStore(this.container.getMaterialItems.bind(this.container),!0);this._matcher=u.isSome(this.renderer)?b.createMatcher(t,null,this.renderer):b.createMatcher(t,null),this._meshFactory=new b.WGLMeshFactory(null,this.uid,null,t),this._templateStore=t,this.watch("renderer",(function(r){r&&(e._matcher=u.isSome(e.renderer)?b.createMatcher(t,null,e.renderer):b.createMatcher(t,null))})),this._tileStore.on("update",this._onTileUpdate.bind(this)),this.container.on("attach",(function(){e.graphics.items.length>0&&e._graphicsChangeHandler({target:e.graphics,added:e.graphics.items,removed:[],moved:[]}),e.handles.add(e.graphics.on("change",e._graphicsChangeHandler),"graphics"),e._attached=!0,e.notifyChange("updating")})),this.container.on("detach",(function(){e._graphicProcessingQueue&&e._graphicProcessingQueue.clear()}))},t.prototype.destroy=function(){this._updatingGraphicsTimer&&(clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=null,this.notifyChange("updating")),this.container.destroy(),this._set("graphics",null),this._graphicProcessingQueue&&(this._graphicProcessingQueue.destroy(),this._graphicProcessingQueue=null),this._graphicStore.clear(),this._tileStore.destroy(),this._attributeStore=null},Object.defineProperty(t.prototype,"updating",{get:function(){return!this._attached||null!==this._updatingGraphicsTimer||this._graphicProcessingQueue.updating||this._tileUpdateSet.size>0||this._tilesToUpdate.size>0},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e,t){if(!this.view||!this.view.position)return p.resolve();var r=this.view.toMap(h.createScreenPoint(e,t));return this.searchFeatures(r).then((function(e){return e&&e.length?e[0]:null}))},t.prototype.searchFeatures=function(e,t){var r=this;return void 0===t&&(t=2),p.create((function(n){n(r._graphicStore.hitTest(e.x,e.y,t,r.view.state.resolution,r.view.state.rotation))}))},t.prototype.update=function(e){var t=e.state,r=this.view.featuresTilingScheme.getClosestInfoForScale(t.scale).level;this._graphicStore.updateLevel(r),this._tileStore.setViewState(t),this._graphicStoreUpdate=!0,this.updateRequested=!1},t.prototype.viewChange=function(){this.requestUpdate()},t.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.requestUpdateCallback())},t.prototype.processUpdate=function(e){this.updateRequested&&(this.updateRequested=!1,this.update(e))},t.prototype.graphicUpdateHandler=function(e){var t=e.graphic,r=e.property,n=e.newValue,i=t;switch(r){case"attributes":break;case"geometry":case"symbol":this._graphicProcessingQueue.push(i,"update");break;case"visible":this._setFilterState(i.uid,n),this._attributeStore.sendUpdates()}},t.prototype.addHighlight=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(this._highlightIds.has(n)){var i=this._highlightIds.get(n);this._highlightIds.set(n,i+1)}else this._highlightIds.set(n,1)}this._updateHighlight()},t.prototype.removeHighlight=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(this._highlightIds.has(n)){var i=this._highlightIds.get(n)-1;0===i?this._highlightIds.delete(n):this._highlightIds.set(n,i)}}this._updateHighlight()},t.prototype._updateHighlight=function(){this._attributeStore.setHighlight(s.keysOfMap(this._highlightIds))},t.prototype._getIntersectingTiles=function(e){var t=this._graphicStore.getBounds(e);return t&&0!==_.width(t)&&0!==_.height(t)?this._tileStore.boundsIntersections(t):[]},t.prototype._updateTile=function(e){var t=this,r=e.tile,n=this._getGraphicsData(this._templateStore,r,e.addedOrModified);return this._processGraphics(r.key,n).then((function(n){return t._patchTile(r.key,{addOrUpdate:n,remove:e.removed}),n}))},t.prototype._patchTile=function(e,t){if(this._tiles.has(e)){var r=this._tiles.get(e);this.container.onTileData(r,t),this.container.requestRender()}},t.prototype._graphicsChangeHandler=function(e){var t=this;if(!this._graphicStoreUpdate){var r=this.view.state,n=this.view.featuresTilingScheme.getClosestInfoForScale(r.scale).level;this._graphicStore.updateLevel(n),this._tileStore.setViewState(r)}for(var i=e.added,o=e.removed,a=e.moved,s=this._tilesToUpdate,u=[],l=new Array(i.length),h=0;h<i.length;h++){var c=i[h];l[h]=c,this._graphicsSet.add(c),u.push(this.addGraphic(c))}for(var d=0,f=o;d<f.length;d++){var _=f[d];this._abortProcessingGraphic(_.uid);for(var y=0,g=this._getIntersectingTiles(_);y<g.length;y++){var m=g[y];N(m.key.id,m,s).removed.push(this._attributeStore.getLocalId(_.uid))}this._graphicsSet.delete(_),this._graphicStore.remove(_)}for(var v=0,x=a;v<x.length;v++)for(var P=x[v],b=0,w=this._getIntersectingTiles(P);b<w.length;b++)N((m=w[b]).key.id,m,s).addedOrModified.push(P);this._flipUpdatingGraphics(),p.all(u).then((function(){for(var e,r=0;r<l.length;r++){e=l[r];for(var n=0,i=t._getIntersectingTiles(e);n<i.length;n++){var o=i[n];N(o.key.id,o,s).addedOrModified.push(e)}}t._graphicStore.updateZ();var a=[];return s.forEach((function(e){return a.push(t._updateTile(e))})),p.all(a).then((function(){s.clear(),t.notifyChange("updating")}))})).catch((function(){s.clear(),t.notifyChange("updating")}))},t.prototype._getArcadeInfo=function(e){var t=(e.attributes?Object.keys(e.attributes):[]).map((function(t){return{name:t,alias:t,type:"string"==typeof e.attributes[t]?"esriFieldTypeString":"esriFieldTypeDouble"}}));return u.isNone(e.geometry)?null:{geometryType:g.getJsonType(e.geometry),spatialReference:f.fromJSON(e.geometry.spatialReference),fields:t}},t.prototype._getSymbolForGraphic=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return u.isSome(e.symbol)?[2,e.symbol]:u.isSome(this.renderer)?[2,this.renderer.getSymbolAsync(e,{scale:this.view.scale,abortOptions:t})]:[2,this._getNullSymbol(e)]}))}))},t.prototype._getSymbolResources=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,l,h,c;return r.__generator(this,(function(r){switch(r.label){case 0:return this.container.stage?(n=this._getArcadeInfo(e),o=x.expandSymbol,[4,this._getSymbolForGraphic(e,t)]):[2,p.resolve(null)];case 1:return[4,o.apply(void 0,[r.sent(),n,t])];case 2:if("text"!==(i=r.sent()).type)return[3,4];for(a=[],s=i,u=b.bidiText(s.text)[0],l=0;l<u.length;l++)a.push(u.charCodeAt(l));return h={symbol:i.toJSON(),id:0,glyphIds:a},[4,this.container.getMaterialItems([h])];case 3:return c=r.sent()[0].mosaicItem,[2,{symbol:i,mosaicItem:c}];case 4:return[2,{symbol:i,mosaicItem:null}]}}))}))},t.prototype._projectAndNormalizeGeometry=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o=this;return r.__generator(this,(function(r){return u.isNone(e.geometry)?[2,p.resolve(null)]:(t=e.geometry,g.isPolygon(t)?(n=t.rings,t.rings=n):g.isPolyline(t)?(i=t.paths,t.paths=i):g.isExtent(t)&&(t=d.fromExtent(t)),[2,v.checkProjectionSupport(t.spatialReference,this.view.spatialReference).then((function(){var e=I.normalizeCentralMeridian(t),r=v.project(e,t.spatialReference,o.view.spatialReference);return y.closeRingsAndFixWinding(r),r}))])}))}))},t.prototype._onTileUpdate=function(e){var t=m.getInfo(this.view.spatialReference);if(e.added&&e.added.length>0)for(var r=0,n=e.added;r<n.length;r++){var i=n[r];this._addNewTile(i,t)}if(e.removed&&e.removed.length>0)for(var o=0,a=e.removed;o<a.length;o++){var s=a[o];this._removeTile(s.key)}},t.prototype.addOrUpdateGraphic=function(e,t,r){return this._addOrUpdateGraphic(e,t,r)},t.prototype.addGraphic=function(e){var t=this;this._abortProcessingGraphic(e.uid);var r=l.createAbortController();this._graphicIdToAbortController.set(e.uid,r);var n={signal:r.signal};return this._addOrUpdateGraphic(e,"add",n).then((function(){t._graphicIdToAbortController.delete(e.uid)})).catch((function(r){if(t._graphicIdToAbortController.delete(e.uid),!p.isAbortError(r))throw r}))},t.prototype._addOrUpdateGraphic=function(e,t,r){var n=this,i=this._projectAndNormalizeGeometry(e),o=this._getSymbolResources(e,r);return p.all([i,o]).then((function(i){var o=i[0],a=i[1];return"add"===t?n._addProjectedGraphic(e,a,o):n._updateGraphic(e,a,o,r)}))},t.prototype._addProjectedGraphic=function(e,t,r){this._graphicsSet.has(e)&&this._graphicStore.add(e,t,r)},t.prototype._updateGraphic=function(e,t,r,n){var i=this;if(!this._graphicStore.has(e)||p.isAborted(n))return p.resolve();for(var o=this._graphicStore.update(e,t,r),s=o.oldBounds,u=o.newBounds,l=0===_.width(s)&&0===_.height(s),h=0===_.width(u)&&0===_.height(u),c=l?[]:this._tileStore.boundsIntersections(s),d=h?[]:this._tileStore.boundsIntersections(u),f=a.acquire(),y=0,g=c;y<g.length;y++){var m=g[y];f.set(m.key,{addOrUpdate:null,remove:[this._attributeStore.getLocalId(e.uid)]})}for(var v=0,x=d;v<x.length;v++){m=x[v];var P=this._getGraphicData(this._templateStore,m,e);if(f.has(m.key)){var b=f.get(m.key);b.remove.length=0,b.addOrUpdate=P}else f.set(m.key,{addOrUpdate:P,remove:null})}var w=[];return f.forEach((function(e,t){var r=i._processGraphics(t,e.addOrUpdate,n).then((function(r){i._patchTile(t,{addOrUpdate:r,remove:e.remove})}));w.push(r)})),a.release(f),p.all(w).then((function(){}))},t.prototype._addTile=function(e,t){var r=_.create();this.view.featuresTilingScheme.getTileBounds(r,e);var n=new b.WGLTile(e,r,!0),i={clear:!0,addOrUpdate:t,remove:[]};this._tiles.set(e,n),this.container.addChild(n),n.setData(i,!1,!1)},t.prototype._addNewTile=function(e,t){var r=this,n=this._graphicStore.queryTileData(this._templateStore,e);if(t)for(var i=Math.round((t.valid[1]-t.valid[0])/e.resolution),o=0,a=n;o<a.length;o++){var s=a[o];s.geometry&&g.isPoint(s.geometry)&&this._wrapPoints(s,i)}var u=e.key;this._tileUpdateSet.add(e.key),this.notifyChange("updating"),this._processGraphics(u,n).then((function(e){r._addTile(u,e),r._tileUpdateSet.delete(u),r.notifyChange("updating")})).catch((function(e){if(r._tileUpdateSet.delete(u),r.notifyChange("updating"),!p.isAbortError(e))throw e}))},t.prototype._removeTile=function(e){if(this._tiles.has(e)){var t=this._tiles.get(e);this.container.removeChild(t),t.destroy(),this._tiles.delete(e)}},t.prototype._setFilterState=function(e,t){var r=this._attributeStore.getLocalId(e),n=this._attributeStore.getHighlightFlag(e);this._attributeStore.setData(r,0,0,n|(t?w.FILTER_FLAG_0:0))},t.prototype._getGraphicsData=function(e,t,r){var n=m.getInfo(this.view.spatialReference),i=this._graphicStore.getGraphicsData(e,t,r);if(n)for(var o=Math.round((n.valid[1]-n.valid[0])/t.resolution),a=0,s=i;a<s.length;a++){var u=s[a];u.geometry&&g.isPoint(u.geometry)&&this._wrapPoints(u,o)}return i.sort((function(e,t){return e.insertAfter-t.insertAfter})),i},t.prototype._getGraphicData=function(e,t,r){var n=this._graphicStore.getGraphicData(e,t,r),i=[n],o=m.getInfo(this.view.spatialReference);if(o){var a=Math.round((o.valid[1]-o.valid[0])/t.resolution);n.geometry&&g.isPoint(n.geometry)&&this._wrapPoints(n,a)}return i},t.prototype._wrapPoints=function(e,t){var r=e.geometry;512===t?r.x<20?e.geometry={points:[[r.x,r.y],[t,0]]}:r.x>492&&(e.geometry={points:[[r.x,r.y],[-t,0]]}):r.x<-20?e.geometry={points:[[r.x,r.y],[t,0]]}:r.x>532&&(e.geometry={points:[[r.x,r.y],[-t,0]]})},t.prototype._processGraphics=function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return t&&t.length&&this._meshFactory?(i=this._meshFactory,[4,this._matcher.then((function(e){return i.analyze(t,e,null,null,n)}))]):[2,null];case 1:return o=r.sent(),this._attributeStore.sendUpdates(),[2,this._processAnalyzedGraphics(e,o)]}}))}))},t.prototype._processAnalyzedGraphics=function(e,t){for(var r=this._meshFactory,n=r.createMeshData(t.length),i=this._attributeStore,o=0,a=t;o<a.length;o++){var s=a[o];s.insertAfter=-1===s.insertAfter?-1:i.getLocalId(s.insertAfter),s.localId=i.getLocalId(s.attributes[this.uid]),r.write(n,s,null,null,e.level,null)}return b.TileData.fromMeshData(n)},t.prototype._abortProcessingGraphic=function(e){this._graphicIdToAbortController.has(e)&&this._graphicIdToAbortController.get(e).abort()},t.prototype._getNullSymbol=function(e){var t=e.geometry;return g.isPolyline(t)?P.errorPolylineSymbol2D:g.isPolygon(t)||g.isExtent(t)?P.errorPolygonSymbol2D:P.errorPointSymbol2D},t.prototype._flipUpdatingGraphics=function(){var e=this;this._updatingGraphicsTimer&&clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=setTimeout((function(){e._updatingGraphicsTimer=null,e.notifyChange("updating")}),160),this.notifyChange("updating")},r.__decorate([c.property()],t.prototype,"_graphicProcessingQueue",void 0),r.__decorate([c.property({constructOnly:!0})],t.prototype,"requestUpdateCallback",void 0),r.__decorate([c.property({constructOnly:!0})],t.prototype,"graphics",void 0),r.__decorate([c.property({dependsOn:["_graphicProcessingQueue.updating"]})],t.prototype,"updating",null),r.__decorate([c.property()],t.prototype,"view",void 0),r.__decorate([c.property()],t.prototype,"updateRequested",void 0),r.__decorate([c.subclass("esri.views.2d.layers.support.GraphicsView2D")],t)}(G.GraphicsView(i.HandleOwnerMixin(o.IdentifiableMixin(n))));t.default=R}.apply(null,n))||(e.exports=i)},fUL3:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("QVms"),r("N7S/"),r("lRq4"),r("lAK8"),r("f3JK")],void 0===(i=function(e,t,r,n,i,o,a){function s(e,t){var r=e.bounds,n=t.bounds;return e.key.id!==t.key.id&&e.key.world===t.key.world&&r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[2]&&r[3]>=n[3]}Object.defineProperty(t,"__esModule",{value:!0}),t.isParentOf=s,t.isChildOf=function(e,t){return s(t,e)};var u=function(){function e(e,t){this.bounds=i.create(),this.key=new a(0,0,0,0),this.objectIds=new Set,this.key.set(t);var r=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.scale=r.scale,this.level=r.level,this.needsClear=!0}return Object.defineProperty(e.prototype,"id",{get:function(){return this.key.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extent",{get:function(){return n.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.tileInfoView,this.id)},e.prototype.createChildTiles=function(){for(var t=this.key.getChildKeys(),n=r.acquire(),i=0;i<t.length;i++)n[i]=new e(this.tileInfoView,t[i]);return n},e.prototype.getQuantizationParameters=function(){return o.default.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})},e}();t.Tile=u,t.default=u}.apply(null,n))||(e.exports=i)},fw2w:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("0J3i"),r("ma1f"),r("qsST"),r("LxLY"),r("qMld"),r("Vt+U"),r("aYWh"),r("Z4y+"),r("nrlZ"),r("vtMp"),r("2QEt"),r("sqdO")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p,l,h,c,d,f){Object.defineProperty(t,"__esModule",{value:!0});var _=o.getLogger("esri.geometry.support.normalizeUtils"),y={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new p({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:l.WebMercator}),minus180Line:new p({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:l.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new p({paths:[[[180,-180],[180,180]]],spatialReference:l.WGS84}),minus180Line:new p({paths:[[[-180,-180],[-180,180]]],spatialReference:l.WGS84})}};function g(e){return"polygon"===e.type}function m(e){return g(e)?e.rings:e.paths}function v(e,t){return Math.ceil((e-t)/(2*t))}function x(e,t){for(var r=0,n=m(e);r<n.length;r++)for(var i=0,o=n[r];i<o.length;i++)o[i][0]+=t;return e}function P(e){for(var t=[],r=0,n=0,i=0;i<e.length;i++){for(var o=e[i],a=null,s=0;s<o.length;s++)a=o[s],t.push(a),0===s?n=r=a[0]:(r=Math.min(r,a[0]),n=Math.max(n,a[0]));a&&t.push([(r+n)/2,0])}return t}function b(e,t){if(!(e instanceof p||e instanceof u)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw _.error(r),new i(r)}for(var n=[],o=0,a=m(e);o<a.length;o++){var s=a[o],l=[];n.push(l),l.push([s[0][0],s[0][1]]);for(var h=0;h<s.length-1;h++){var c=s[h][0],d=s[h][1],f=s[h+1][0],y=s[h+1][1],v=Math.sqrt((f-c)*(f-c)+(y-d)*(y-d)),x=(y-d)/v,P=(f-c)/v,b=v/t;if(b>1){for(var w=1;w<=b-1;w++){var M=w*t,S=P*M+c,T=x*M+d;l.push([S,T])}var O=(v+Math.floor(b-1)*t)/2,E=P*O+c,I=x*O+d;l.push([E,I])}l.push([f,y])}}return g(e)?new u({rings:n,spatialReference:e.spatialReference}):new p({paths:n,spatialReference:e.spatialReference})}function w(e,t,r){if(t){var n=b(e,1e6);e=c.webMercatorToGeographic(n,!0)}return r&&(e=x(e,r)),e}function M(e,t,r){var n;if(Array.isArray(e))if((n=e[0])>t){var i=v(n,t);e[0]=n+i*(-2*t)}else n<r&&(i=v(n,r),e[0]=n+i*(-2*r));else(n=e.x)>t?(i=v(n,t),e=e.clone().offset(i*(-2*t),0)):n<r&&(i=v(n,r),e=e.clone().offset(i*(-2*r),0));return e}t.straightLineDensify=b,t.normalizeCentralMeridian=function e(t,i,o){return r.__awaiter(this,void 0,void 0,(function(){var l,_,g,P,b,S,T,O,E,I,G,N,R,A,C,j,z,U,k,L,V,F,D,q,Y,B,X,Z,H,J,W,Q,K,$,ee,te,re;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Array.isArray(t))return[2,e([t],i)];for(l=i?i.url:n.geometryServiceUrl,I=0,G=[],N=[],R=0,A=t;R<A.length;R++)C=A[R],a.isNone(C)?N.push(C):(_||(_=C.spatialReference,g=h.getInfo(_),P=_.isWebMercator,b=y[T=P?102100:4326].maxX,S=y[T].minX,O=y[T].plus180Line,E=y[T].minus180Line),g?"mesh"===C.type?N.push(C):"point"===C.type?N.push(M(C.clone(),b,S)):"multipoint"===C.type?((j=C.clone()).points=j.points.map((function(e){return M(e,b,S)})),N.push(j)):"extent"===C.type?(U=C.clone(),z=U._normalize(!1,!1,g),N.push(z.rings?new u(z):z)):C.extent?(U=C.extent,k=v(U.xmin,S),V=0==(L=k*(2*b))?C.clone():x(C.clone(),L),U.offset(L,0),U.intersects(O)&&U.xmax!==b?(I=U.xmax>I?U.xmax:I,V=w(V,P),G.push(V),N.push("cut")):U.intersects(E)&&U.xmin!==S?(I=U.xmax*(2*b)>I?U.xmax*(2*b):I,V=w(V,P,360),G.push(V),N.push("cut")):N.push(V)):N.push(C.clone()):N.push(C));for(F=v(I,b),D=-90,q=F,Y=new p;F>0;)B=360*F-180,Y.addPath([[B,D],[B,-1*D]]),D*=-1,F--;return G.length>0&&q>0?[4,d.cut(l,G,Y,o)]:[3,3];case 1:for(X=r.sent(),Z=function(e,t){for(var r=-1,n=function(n){for(var i=t.cutIndexes[n],o=t.geometries[n],a=m(o),s=function(e){var t=a[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,i=0;i<t.length;i++){var a=t[i][0];n=a>n?a:n}for(var s=-360*v(n=Number(n.toFixed(9)),180),u=0;u<t.length;u++){var p=o.getPoint(e,u);o.setPoint(e,u,p.clone().offset(s,0))}return!0}))},u=0;u<a.length;u++)s(u);if(i===r){if("polygon"===e[0].type)for(var p=0,l=m(o);p<l.length;p++){var h=l[p];e[i]=e[i].addRing(h)}else if(function(e){return"polyline"===e[0].type}(e))for(var c=0,d=m(o);c<d.length;c++){var f=d[c];e[i]=e[i].addPath(f)}}else r=i,e[i]=o},i=0;i<t.cutIndexes.length;i++)n(i);return e}(G,X),H=[],J=[],ee=0;ee<N.length;ee++)"cut"!==(te=N[ee])?J.push(te):(re=Z.shift(),W=t[ee],a.isSome(W)&&"polygon"===W.type&&W.rings&&W.rings.length>1&&re.rings.length>=W.rings.length?(H.push(re),J.push("simplify")):J.push(P?c.geographicToWebMercator(re):re));return H.length?[4,f.simplify(l,H,o)]:[2,J];case 2:for(Q=r.sent(),K=[],ee=0;ee<J.length;ee++)"simplify"!==(te=J[ee])?K.push(te):K.push(P?c.geographicToWebMercator(Q.shift()):Q.shift());return[2,K];case 3:for($=[],ee=0;ee<N.length;ee++)"cut"!==(te=N[ee])?$.push(te):(re=G.shift(),$.push(!0===P?c.geographicToWebMercator(re):re));return[2,s.resolve($)]}}))}))},t.getDenormalizedExtent=function(e){var t;if(!e)return null;var r=e.extent;if(!r)return null;var n=e.spatialReference&&h.getInfo(e.spatialReference);if(!n)return r;var i,o=n.valid,a=o[0],s=o[1],u=2*s,p=r.width,l=r.xmin,c=r.xmax;if(l=(t=[c,l])[0],c=t[1],"extent"===e.type||0===p||p<=s||p>u||l<a||c>s)return r;switch(e.type){case"polygon":if(!(e.rings.length>1))return r;i=P(e.rings);break;case"polyline":if(!(e.paths.length>1))return r;i=P(e.paths);break;case"multipoint":i=e.points}for(var d=r.clone(),f=0;f<i.length;f++){var _=i[f][0];_<0?(_+=s,c=Math.max(_,c)):(_-=s,l=Math.min(_,l))}return d.xmin=l,d.xmax=c,d.width<p?(d.xmin-=s,d.xmax-=s,d):r},t.normalizeMapX=function(e,t){var r=h.getInfo(t);if(r){var n=r.valid,i=n[0],o=n[1],a=o-i;if(e<i)for(;e<i;)e+=a;if(e>o)for(;e>o;)e-=a}return e}}.apply(null,n))||(e.exports=i)},jEml:function(e,t,r){var n,i;n=[r("FT4I")],void 0===(i=function(e){"use strict";function t(e,r){if(!(this instanceof t))return new t(e,r);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),r&&("function"==typeof r?this.toBBox=r:this._initFormat(r)),this.clear()}function r(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function n(e,t){i(e,0,e.children.length,t,e)}function i(e,t,r,n,i){i||(i=c(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,s=t;s<r;s++)a=e.children[s],o(i,e.leaf?n(a):a);return i}function o(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function a(e,t){return e.minX-t.minX}function s(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function l(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function c(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(t,r,n,i,o){for(var a,s=[r,n];s.length;)(n=s.pop())-(r=s.pop())<=i||(a=r+Math.ceil((n-r)/i/2)*i,e(t,a,r,n,o),s.push(r,a,a,n))}return t.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!h(e,t))return r;for(var i,o,a,s,u=[];t;){for(i=0,o=t.children.length;i<o;i++)a=t.children[i],h(e,s=t.leaf?n(a):a)&&(t.leaf?r.push(a):l(e,s)?this._all(a,r):u.push(a));t=u.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!h(e,t))return!1;for(var n,i,o,a,s=[];t;){for(n=0,i=t.children.length;n<i;n++)if(o=t.children[n],h(e,a=t.leaf?r(o):o)){if(t.leaf||l(e,a))return!0;s.push(o)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=c([]),this},remove:function(e,t){if(!e)return this;for(var n,i,o,a,s=this.data,u=this.toBBox(e),p=[],h=[];s||p.length;){if(s||(s=p.pop(),i=p[p.length-1],n=h.pop(),a=!0),s.leaf&&-1!==(o=r(e,s.children,t)))return s.children.splice(o,1),p.push(s),this._condense(p),this;a||s.leaf||!l(s,u)?i?(n++,s=i.children[n],a=!1):s=null:(p.push(s),h.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:a,compareMinY:s,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,i){var o,a=r-t+1,s=this._maxEntries;if(a<=s)return n(o=c(e.slice(t,r+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(o=c([])).leaf=!1,o.height=i;var u,p,l,h,f=Math.ceil(a/s),_=f*Math.ceil(Math.sqrt(s));for(d(e,t,r,_,this.compareMinX),u=t;u<=r;u+=_)for(d(e,u,l=Math.min(u+_-1,r),f,this.compareMinY),p=u;p<=l;p+=f)h=Math.min(p+f-1,l),o.children.push(this._build(e,p,h,i-1));return n(o,this.toBBox),o},_chooseSubtree:function(e,t,r,n){for(var i,o,a,s,p,l,h,c,d,f;n.push(t),!t.leaf&&n.length-1!==r;){for(h=c=1/0,i=0,o=t.children.length;i<o;i++)p=u(a=t.children[i]),d=e,f=a,(l=(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-p)<c?(c=l,h=p<h?p:h,s=a):l===c&&p<h&&(h=p,s=a);t=s||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),a=[],s=this._chooseSubtree(i,this.data,t,a);for(s.children.push(e),o(s,i);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(i,a,t)},_split:function(e,t){var r=e[t],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);var a=this._chooseSplitIndex(r,o,i),s=c(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,n(r,this.toBBox),n(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=c([e,t]),this.data.height=e.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,o,a,s,p,l,h,c,d,f,_,y,g,m;for(l=h=1/0,n=t;n<=r-t;n++)d=o=i(e,0,n,this.toBBox),f=a=i(e,n,r,this.toBBox),void 0,void 0,void 0,void 0,_=Math.max(d.minX,f.minX),y=Math.max(d.minY,f.minY),g=Math.min(d.maxX,f.maxX),m=Math.min(d.maxY,f.maxY),s=Math.max(0,g-_)*Math.max(0,m-y),p=u(o)+u(a),s<l?(l=s,c=n,h=p<h?p:h):s===l&&p<h&&(h=p,c=n);return c},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:a,i=e.leaf?this.compareMinY:s;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var a,s,u=this.toBBox,l=i(e,0,t,u),h=i(e,r-t,r,u),c=p(l)+p(h);for(a=t;a<r-t;a++)s=e.children[a],o(l,e.leaf?u(s):s),c+=p(l);for(a=r-t-1;a>=t;a--)s=e.children[a],o(h,e.leaf?u(s):s),c+=p(h);return c},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)o(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)0===e[r].children.length?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():n(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},t}.apply(null,n))||(e.exports=i)},loiZ:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("SyoC")],void 0===(i=function(e,t,r){var n=function(){function e(e,t){void 0===e&&(e=50),void 0===t&&(t=50),this._pool=new r(Map,null,(function(e){return e.clear()}),t,e)}return e.prototype.acquire=function(){return this._pool.acquire()},e.prototype.release=function(e){this._pool.release(e)},e.acquire=function(){return i.acquire()},e.release=function(e){return i.release(e)},e}(),i=new n(100);return n}.apply(null,n))||(e.exports=i)},sqdO:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("jfWY"),r("Lzvl")],void 0===(i=function(e,t,r,n,i,o){function a(e){return{geometryType:o.getJsonType(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function s(e,t,r){var n=o.getGeometryType(t);return e.map((function(e){var t=n.fromJSON(e);return t.spatialReference=r,t}))}Object.defineProperty(t,"__esModule",{value:!0}),t.simplify=function(e,t,u){return r.__awaiter(this,void 0,void 0,(function(){var p,l,h,c;return r.__generator(this,(function(d){switch(d.label){case 0:return p="string"==typeof e?i.urlToObject(e):e,l=t[0].spatialReference,h=o.getJsonType(t[0]),c=r.__assign(r.__assign({},u),{query:r.__assign(r.__assign({},p.query),{f:"json",sr:l.wkid?l.wkid:JSON.stringify(l),geometries:JSON.stringify(a(t))})}),[4,n(p.path+"/simplify",c)];case 1:return[2,s(d.sent().data,h,l)]}}))}))}}.apply(null,n))||(e.exports=i)},ts8o:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("Vx27"),r("YADd"),r("Lzvl"),r("ZMIQ")],void 0===(i=function(e,t,r,n,i,o,a,s){var u={base:o,key:"type",typeMap:{extent:n.Extent,polygon:n.Polygon}};return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="geometry",t.geometry=null,t}var n;return r.__extends(t,e),n=t,Object.defineProperty(t.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new n({geometry:this.geometry.clone()})},r.__decorate([i.property({types:u,json:{read:a.fromJSON,write:!0}})],t.prototype,"geometry",void 0),r.__decorate([i.property({readOnly:!0,dependsOn:["geometry"]})],t.prototype,"version",null),n=r.__decorate([i.subclass("esri.views.layers.support.Geometry")],t)}(s)}.apply(null,n))||(e.exports=i)},vhZU:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Gtr7"),r("qMld"),r("afW+"),r("Vx27")],void 0===(i=function(e,t,r,n,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var r=e.call(this,t)||this;return r._queue=new Map,r._queueArray=[],r._onGoingGraphic=null,r._onGoingPromise=null,r._scheduledNextHandle=null,r._next=r._next.bind(r),r._finalize=r._finalize.bind(r),r}return r.__extends(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this._queueArray.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){return this._queueArray.length>0||null!==this._onGoingPromise},enumerable:!0,configurable:!0}),t.prototype.cancel=function(e){if(this._onGoingGraphic&&this._onGoingGraphic.graphic===e&&(this._ongoingAbortController.abort(),this._onGoingGraphic=this._onGoingPromise=null),this._queue.has(e)){var t=this._queue.get(e);this._queue.delete(e);var r=this._queueArray.indexOf(t);this._queueArray.slice(r,1)}this._scheduleNext(),this.notifyChange("updating")},t.prototype.clear=function(){this._queue.clear(),this._queueArray.length=0,this._onGoingPromise&&(this._ongoingAbortController.abort(),this._onGoingGraphic=this._onGoingPromise=null),this._cancelNext(),this.notifyChange("updating")},t.prototype.has=function(e){return this._queue.has(e)},t.prototype.isOngoing=function(e){return this._onGoingGraphic&&this._onGoingGraphic.graphic===e},t.prototype.push=function(e,t){if(!this._queue.has(e)){var r={graphic:e,addOrUpdate:t};this._queueArray.push(r),this._queue.set(e,r),this._scheduleNext(),this.notifyChange("updating")}},t.prototype.refresh=function(){this.reset()},t.prototype.reset=function(){var e=this._onGoingGraphic;if(e){var t=e.graphic,r=e.addOrUpdate;this.push(t,r)}},t.prototype._finalize=function(){this._onGoingGraphic=null,this._ongoingAbortController=null,this._onGoingPromise=null,this.notifyChange("updating"),this._scheduleNext()},t.prototype._cancelNext=function(){this._scheduledNextHandle&&(this._scheduledNextHandle.remove(),this._scheduledNextHandle=null)},t.prototype._scheduleNext=function(){this._scheduledNextHandle||0===this._queue.size||null!=this._onGoingGraphic||(this._scheduledNextHandle=o.schedule(this._next))},t.prototype._next=function(){if(null==this._scheduledNextHandle||0===this._queue.size||this._onGoingGraphic)this._scheduledNextHandle=null;else{this._scheduledNextHandle=null;var e=this._peek(),t=e.graphic,r=e.addOrUpdate,n=i.createAbortController();this._queue.delete(t),this._onGoingGraphic=e,this._onGoingPromise=this.process(t,r,{signal:n.signal}),this._ongoingAbortController=n,this._onGoingPromise.then(this._finalize,this._finalize),this.notifyChange("updating")}},t.prototype._peek=function(){return 0===this._queueArray.length?null:this._queueArray.pop()},r.__decorate([a.property({readOnly:!0})],t.prototype,"length",null),r.__decorate([a.property({readOnly:!0})],t.prototype,"updating",null),r.__decorate([a.property({constructOnly:!0})],t.prototype,"process",void 0),r.__decorate([a.subclass("esri.views.2d.layers.graphics.GraphicProcessingQueue")],t)}(n);t.default=s}.apply(null,n))||(e.exports=i)},w1v0:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("jZlN"),r("ImIS"),r("ycL1"),r("LxLY"),r("Vx27"),r("Z4y+"),r("Lzvl"),r("KQcO")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p,l,h){var c=new o.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),d=function(e){function t(t){var r=e.call(this,t)||this;return r.displayFieldName=null,r.exceededTransferLimit=!1,r.features=[],r.fields=null,r.geometryType=null,r.hasM=!1,r.hasZ=!1,r.queryGeometry=null,r.spatialReference=null,r}return r.__extends(t,e),t.prototype.readFeatures=function(e,t){for(var r=p.fromJSON(t.spatialReference),n=[],o=0;o<e.length;o++){var a=e[o],u=i.fromJSON(a),l=a.geometry&&a.geometry.spatialReference;s.isSome(u.geometry)&&!l&&(u.geometry.spatialReference=r),n.push(u)}return n},t.prototype.writeGeometryType=function(e,t,r,n){if(e)c.write(e,t,r,n);else{var i=this.features;if(i)for(var o=0,a=i;o<a.length;o++){var u=a[o];if(u&&s.isSome(u.geometry))return void c.write(u.geometry.type,t,r,n)}}},t.prototype.writeSpatialReference=function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r)for(var n=0,i=r;n<i.length;n++){var o=i[n];o&&s.isSome(o.geometry)&&o.geometry.spatialReference&&(t.spatialReference=o.geometry.spatialReference.toJSON())}}},t.prototype.toJSON=function(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t},t.prototype.quantize=function(e){for(var t=e.scale,r=t[0],n=t[1],i=e.translate,o=i[0],a=i[1],u=this.features,p=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-o)/r)}),(function(e){return Math.round((a-e)/n)})),l=0,h=u.length;l<h;l++)p(s.unwrap(u[l].geometry))||(u.splice(l,1),l--,h--);return this.transform=e,this},t.prototype.unquantize=function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;for(var n=r.translate,i=n[0],o=n[1],a=r.scale,u=a[0],p=a[1],l=this._getHydrationFunction(e,(function(e){return e*u+i}),(function(e){return o-e*p})),h=0,c=t;h<c.length;h++){var d=c[h].geometry;s.isSome(d)&&l(d)}return this},t.prototype._quantizePoints=function(e,t,r){for(var n,i,o=[],a=0,s=e.length;a<s;a++){var u=e[a];if(a>0){var p=t(u[0]),l=r(u[1]);p===n&&l===i||(o.push([p-n,l-i]),n=p,i=l)}else n=t(u[0]),i=r(u[1]),o.push([n,i])}return o.length>0?o:null},t.prototype._getQuantizationFunction=function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=l.isPolygon(e)?e.rings:e.paths,o=[],a=0,s=i.length;a<s;a++){var u=i[a],p=n._quantizePoints(u,t,r);p&&o.push(p)}return o.length>0?(l.isPolygon(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var i;return(i=n._quantizePoints(e.points,t,r)).length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null},t.prototype._getHydrationFunction=function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,i,o=l.isPolygon(e)?e.rings:e.paths,a=0,s=o.length;a<s;a++)for(var u=o[a],p=0,h=u.length;p<h;p++){var c=u[p];p>0?(n+=c[0],i+=c[1]):(n=c[0],i=c[1]),c[0]=t(n),c[1]=r(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,i,o=e.points,a=0,s=o.length;a<s;a++){var u=o[a];a>0?(n+=u[0],i+=u[1]):(n=u[0],i=u[1]),u[0]=t(n),u[1]=r(i)}}:void 0},r.__decorate([u.property({type:String,json:{write:!0}})],t.prototype,"displayFieldName",void 0),r.__decorate([u.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"exceededTransferLimit",void 0),r.__decorate([u.property({type:[i],json:{write:!0}})],t.prototype,"features",void 0),r.__decorate([u.reader("features")],t.prototype,"readFeatures",null),r.__decorate([u.property({type:[h],json:{write:!0}})],t.prototype,"fields",void 0),r.__decorate([u.property({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:c.read}}})],t.prototype,"geometryType",void 0),r.__decorate([u.writer("geometryType")],t.prototype,"writeGeometryType",null),r.__decorate([u.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasM",void 0),r.__decorate([u.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasZ",void 0),r.__decorate([u.property({types:n.geometryTypes,json:{read:l.fromJSON,write:!0}})],t.prototype,"queryGeometry",void 0),r.__decorate([u.property({type:p,json:{write:!0}})],t.prototype,"spatialReference",void 0),r.__decorate([u.writer("spatialReference")],t.prototype,"writeSpatialReference",null),r.__decorate([u.property({json:{write:!0}})],t.prototype,"transform",void 0),r.__decorate([u.subclass("esri.tasks.support.FeatureSet")],t)}(a.JSONSupport);return d.prototype.toJSON.isDefaultToJSON=!0,d||(d={}),d}.apply(null,n))||(e.exports=i)},w7fK:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("KFwS"),r("H1tY"),r("qMld"),r("2Kdy")],void 0===(i=function(e,t,n,i,o,a){var s,u,p,l,h,c;function d(e){function r(e,t,r){e[t]=r(e[t])}t._pe=e,u.init(),p.init(),l.init(),h.init(),c.init(),t.PeGCSExtent=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(r,e),r.prototype.destroy=function(){t._pe.destroy(this)},r}(t._pe.PeGCSExtent);for(var i=0,o=[t._pe.PeDatum,t._pe.PeGeogcs,t._pe.PeGeogtran,t._pe.PeObject,t._pe.PeParameter,t._pe.PePrimem,t._pe.PeProjcs,t._pe.PeSpheroid,t._pe.PeUnit];i<o.length;i++)r(o[i].prototype,"getName",(function(e){return function(){return e.call(this,new Array(u.PE_NAME_MAX))}}));for(var a=0,s=[t._pe.PeGeogtran,t._pe.PeProjcs];a<s.length;a++)r(s[a].prototype,"getParameters",(function(e){return function(){for(var r=new Array(u.PE_PARM_MAX),n=e.call(this),i=0;i<r.length;i++){var o=t._pe.getValue(n,"*");r[i]=o?t._pe.wrapPointer(o,t._pe.PeParameter):null,n+=Int32Array.BYTES_PER_ELEMENT}return r}}));r(t._pe.PeHorizon.prototype,"getCoord",(function(e){return function(){var t=this.getSize();if(!t)return null;var r=[];return g(r,t,e.call(this)),r}})),r(t._pe.PeGTlistExtendedEntry.prototype,"getEntries",(function(e){var r=t._pe._pe_getPeGTlistExtendedGTsSize();return function(){var n=null,i=e.call(this);if(!t._pe.compare(i,t._pe.NULL)){n=[i];var o=this.getSteps();if(o>1)for(var a=t._pe.getPointer(i),s=1;s<o;s++)n.push(t._pe.wrapPointer(a+r*s,t._pe.PeGTlistExtendedGTs))}return n}}));var d=t._pe._pe_getPeHorizonSize(),f=function(e){return function(){var r=this._cache;if(r||(r=new Map,this._cache=r),r.has(e))return r.get(e);var n=null,i=e.call(this);if(!t._pe.compare(i,t._pe.NULL)){n=[i];var o=i.getNump();if(o>1)for(var a=t._pe.getPointer(i),s=1;s<o;s++)n.push(t._pe.wrapPointer(a+d*s,t._pe.PeHorizon))}return r.set(e,n),n}};r(t._pe.PeProjcs.prototype,"horizonGcsGenerate",f),r(t._pe.PeProjcs.prototype,"horizonPcsGenerate",f),t._pe.PeObject.prototype.toString=function(e){void 0===e&&(e=u.PE_STR_OPTS_NONE),t._pe.ensureCache.prepare();var r=t._pe.getPointer(this),n=t._pe.ensureInt8(new Array(u.PE_BUFFER_MAX));return t._pe.UTF8ToString(t._pe._pe_object_to_string_ext(r,e,n))}}function f(e){if(e){var r=t._pe.getClass(e);if(r){var n=t._pe.getCache(r);if(n){var i=t._pe.getPointer(e);i&&delete n[i]}}}}function _(e,r){for(var n=[],i=new Array(r),o=0;o<e;o++)n.push(t._pe.ensureInt8(i));return n}function y(e){var t;return Array.isArray(e[0])?(t=[],e.forEach((function(e){t.push(e[0],e[1])}))):t=e,t}function g(e,r,n,i){if(void 0===i&&(i=!1),i)for(var o=0;o<2*r;o++)e[o]=t._pe.getValue(n+o*Float64Array.BYTES_PER_ELEMENT,"double");else{var a=0===e.length;for(o=0;o<r;o++)a&&(e[o]=new Array(2)),e[o][0]=t._pe.getValue(n,"double"),e[o][1]=t._pe.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}Object.defineProperty(t,"__esModule",{value:!0}),t._pe=null,t.isLoaded=function(){return!!t._pe},t.isSupported=function(){return!!o("esri-wasm")},t.load=function(){return s||(s=a.create((function(e,t){new Promise((function(e,t){Promise.resolve().then(function(){var t=[r("2yfh")];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then((function(r){r({locateFile:function(e){return i.getAssetUrl("esri/geometry/support/"+e)},onAbort:function(e){t(new Error(e))}}).then((function(t){d(t),e()}))}))})))},function(e){function r(e,r,n){t._pe.ensureCache.prepare();var i=y(n),o=n===i,a=t._pe.ensureFloat64(i),s=t._pe._pe_geog_to_proj(t._pe.getPointer(e),r,a);return s&&g(n,r,a,o),s}function n(e,t,r){return i(e,t,r,0)}function i(e,r,n,i){t._pe.ensureCache.prepare();var o=y(n),a=n===o,s=t._pe.ensureFloat64(o),u=t._pe._pe_proj_to_geog_center(t._pe.getPointer(e),r,s,i);return u&&g(n,r,s,a),u}e.geogToProj=r,e.projGeog=function(e,t,i,o){switch(o){case u.PE_TRANSFORM_P_TO_G:return n(e,t,i);case u.PE_TRANSFORM_G_TO_P:return r(e,t,i)}return 0},e.projToGeog=n,e.projToGeogCenter=i}(t.PeCSTransformations||(t.PeCSTransformations={})),function(e){e.init=function(){e.PE_BUFFER_MAX=t._pe.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=t._pe.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=t._pe.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=t._pe.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=t._pe.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=t._pe.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=t._pe.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=t._pe.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=t._pe.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=t._pe.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=t._pe.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=t._pe.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=t._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=t._pe.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=t._pe.PeDefs.prototype.PE_TYPE_UNIT,e.PE_STR_OPTS_NONE=t._pe.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=t._pe.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=t._pe.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=t._pe.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=t._pe.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=t._pe.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=t._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=t._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=t._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=t._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=t._pe.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=t._pe.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=t._pe.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=t._pe.PeDefs.prototype.PE_HORIZON_DELTA}}(u=t.PeDefs||(t.PeDefs={})),function(e){var r={},n={};function i(e,n){var i=null,a=r[e];if(a||(a={},r[e]=a),a.hasOwnProperty(String(n)))i=a[n];else{var s=t._pe.PeFactory.prototype.factoryByType(e,n);t._pe.compare(s,t._pe.NULL)||(i=s,a[n]=i)}return o(i)}function o(e){if(e){var r=e.getType();switch(r){case u.PE_TYPE_GEOGCS:e=t._pe.castObject(e,t._pe.PeGeogcs);break;case u.PE_TYPE_PROJCS:e=t._pe.castObject(e,t._pe.PeProjcs);break;case u.PE_TYPE_GEOGTRAN:e=t._pe.castObject(e,t._pe.PeGeogtran);break;default:r&u.PE_TYPE_UNIT&&(e=t._pe.castObject(e,t._pe.PeUnit))}}return e}e.initialize=function(){t._pe.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return i(u.PE_TYPE_COORDSYS,e)},e.factoryByType=i,e.fromString=function(e,r){var i=null,a=n[e];if(a||(a={},n[e]=a),a.hasOwnProperty(r))i=a[r];else{var s=t._pe.PeFactory.prototype.fromString(e,r);t._pe.compare(s,t._pe.NULL)||(i=s,a[r]=i)}return o(i)},e.geogcs=function(e){return i(u.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return i(u.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return t._pe.PeFactory.prototype.getCode(e)},e.projcs=function(e){return i(u.PE_TYPE_PROJCS,e)},e.unit=function(e){return i(u.PE_TYPE_UNIT,e)}}(t.PeFactory||(t.PeFactory={})),t.PeGCSExtent=null,function(e){var r;e.init=function(){e.PE_GTLIST_OPTS_COMMON=t._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,r=t._pe._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,n,i,o,a,s){var u=null,p=new t._pe.PeInteger(s);try{var l=t._pe.PeGTlistExtended.prototype.getGTlist(e,n,i,o,a,p);if((s=p.val)&&(u=[l],s>1))for(var h=t._pe.getPointer(l),c=1;c<s;c++)u.push(t._pe.wrapPointer(h+r*c,t._pe.PeGTlistExtendedEntry))}finally{t._pe.destroy(p)}return u}}(p=t.PeGTlistExtended||(t.PeGTlistExtended={})),function(e){e.destroy=function(e){if(e&&e.length){for(var r=0,n=e;r<n.length;r++){var i=n[r];f(i),i.getEntries().forEach((function(e){f(e);var t=e.getGeogtran();f(t),t.getParameters().forEach(f),[t.getGeogcs1(),t.getGeogcs2()].forEach((function(e){f(e);var t=e.getDatum();f(t),f(t.getSpheroid()),f(e.getPrimem()),f(e.getUnit())}))}))}t._pe.PeGTlistExtendedEntry.prototype.Delete(e[0])}}}(t.PeGTlistExtendedEntry||(t.PeGTlistExtendedEntry={})),function(e){e.geogToGeog=function(e,r,n,i,o){t._pe.ensureCache.prepare();var a=y(n),s=n===a,u=t._pe.ensureFloat64(a),p=0;i&&(p=t._pe.ensureFloat64(i));var l=t._pe._pe_geog_to_geog(t._pe.getPointer(e),r,u,p,o);return l&&g(n,r,u,s),l}}(t.PeGTTransformations||(t.PeGTTransformations={})),function(e){function r(e,r,n,i,o,a){var s,p;switch(t._pe.ensureCache.prepare(),e){case"dd":s=t._pe._pe_geog_to_dd,p=u.PE_DD_MAX;break;case"ddm":s=t._pe._pe_geog_to_ddm,p=u.PE_DDM_MAX;break;case"dms":s=t._pe._pe_geog_to_dms,p=u.PE_DMS_MAX}var l=0;r&&(l=t._pe.getPointer(r));var h=y(i),c=t._pe.ensureFloat64(h),d=_(n,p),f=s(l,n,c,o,t._pe.ensureInt32(d));if(f)for(var g=0;g<n;g++)a[g]=t._pe.UTF8ToString(d[g]);return f}function n(e,r,n,i,o){var a;switch(t._pe.ensureCache.prepare(),e){case"dd":a=t._pe._pe_dd_to_geog;break;case"ddm":a=t._pe._pe_ddm_to_geog;break;case"dms":a=t._pe._pe_dms_to_geog}var s=0;r&&(s=t._pe.getPointer(r));var u=i.map((function(e){return t._pe.ensureString(e)})),p=t._pe.ensureInt32(u),l=t._pe.ensureFloat64(new Array(2*n)),h=a(s,n,p,l);return h&&g(o,n,l),h}e.geog_to_dms=function(e,t,n,i,o){return r("dms",e,t,n,i,o)},e.dms_to_geog=function(e,t,r,i){return n("dms",e,t,r,i)},e.geog_to_ddm=function(e,t,n,i,o){return r("ddm",e,t,n,i,o)},e.ddm_to_geog=function(e,t,r,i){return n("ddm",e,t,r,i)},e.geog_to_dd=function(e,t,n,i,o){return r("dd",e,t,n,i,o)},e.dd_to_geog=function(e,t,r,i){return n("dd",e,t,r,i)}}(t.PeNotationDms||(t.PeNotationDms={})),function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=t._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=t._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},e.geog_to_mgrs_extended=function(e,r,n,i,o,a,s){t._pe.ensureCache.prepare();var p=0;e&&(p=t._pe.getPointer(e));var l=y(n),h=t._pe.ensureFloat64(l),c=_(r,u.PE_MGRS_MAX),d=t._pe.ensureInt32(c),f=t._pe._pe_geog_to_mgrs_extended(p,r,h,i,o,a,d);if(f)for(var g=0;g<r;g++)s[g]=t._pe.UTF8ToString(c[g]);return f},e.mgrs_to_geog_extended=function(e,r,n,i,o){t._pe.ensureCache.prepare();var a=0;e&&(a=t._pe.getPointer(e));var s=n.map((function(e){return t._pe.ensureString(e)})),u=t._pe.ensureInt32(s),p=t._pe.ensureFloat64(new Array(2*r)),l=t._pe._pe_mgrs_to_geog_extended(a,r,u,i,p);return l&&g(o,r,p),l}}(l=t.PeNotationMgrs||(t.PeNotationMgrs={})),function(e){e.geog_to_usng=function(e,r,n,i,o,a,s){t._pe.ensureCache.prepare();var p=0;e&&(p=t._pe.getPointer(e));var l=y(n),h=t._pe.ensureFloat64(l),c=_(r,u.PE_MGRS_MAX),d=t._pe.ensureInt32(c),f=t._pe._pe_geog_to_usng(p,r,h,i,o,a,d);if(f)for(var g=0;g<r;g++)s[g]=t._pe.UTF8ToString(c[g]);return f},e.usng_to_geog=function(e,r,n,i){t._pe.ensureCache.prepare();var o=0;e&&(o=t._pe.getPointer(e));var a=n.map((function(e){return t._pe.ensureString(e)})),s=t._pe.ensureInt32(a),u=t._pe.ensureFloat64(new Array(2*r)),p=t._pe._pe_usng_to_geog(o,r,s,u);return p&&g(i,r,u),p}}(t.PeNotationUsng||(t.PeNotationUsng={})),function(e){e.init=function(){e.PE_UTM_OPTS_NONE=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS},e.geog_to_utm=function(e,r,n,i,o){t._pe.ensureCache.prepare();var a=0;e&&(a=t._pe.getPointer(e));var s=y(n),p=t._pe.ensureFloat64(s),l=_(r,u.PE_UTM_MAX),h=t._pe.ensureInt32(l),c=t._pe._pe_geog_to_utm(a,r,p,i,h);if(c)for(var d=0;d<r;d++)o[d]=t._pe.UTF8ToString(l[d]);return c},e.utm_to_geog=function(e,r,n,i,o){t._pe.ensureCache.prepare();var a=0;e&&(a=t._pe.getPointer(e));var s=n.map((function(e){return t._pe.ensureString(e)})),u=t._pe.ensureInt32(s),p=t._pe.ensureFloat64(new Array(2*r)),l=t._pe._pe_utm_to_geog(a,r,u,i,p);return l&&g(o,r,p),l}}(h=t.PeNotationUtm||(t.PeNotationUtm={})),function(e){var r=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=t._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=t._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=t._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=t._pe.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(n,i){var o,a;return void 0===i&&(i=e.PE_PCSINFO_OPTION_DOMAIN),r.has(n)&&(a=r.get(n))[i]&&(o=a[i]),o||(o=t._pe.PePCSInfo.prototype.generate(n,i),a||(a=[],r.set(n,a)),a[i]=o),o}}(c=t.PePCSInfo||(t.PePCSInfo={})),function(e){e.version_string=function(){return t._pe.PeVersion.prototype.version_string()}}(t.PeVersion||(t.PeVersion={})),t._init=d}.apply(null,n))||(e.exports=i)},wIC5:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("qMld"),r("w7fK"),r("OkCb"),r("2Kdy")],void 0===(i=function(e,t,n,i,o){Object.defineProperty(t,"__esModule",{value:!0});var a=null,s=null;t.isLoaded=function(){return!!a&&i.isLoaded()},t.isSupported=function(){return i.isSupported()};var u=null;t.load=function(){return u||(u=n.all([i.load(),new Promise((function(e,t){r.e(8).then(function(){var t=[r("vFDJ")];e.apply(null,t)}.bind(this)).catch(t.bind(this))})),new Promise((function(e,t){r.e(93).then(function(){var t=[r("RBE7")];e.apply(null,t)}.bind(this)).catch(t.bind(this))}))]).then((function(e){var t=e[1],r=e[2].hydratedAdapter;s=r,(a=t)._enableProjection(i)})))},t.project=function(e,t,r){return void 0===r&&(r=null),e instanceof Array?0===e.length?[]:l(s,e,e[0].spatialReference,t,r):l(s,[e],e.spatialReference,t,r)[0]};var p={};function l(e,t,r,n,i){if(void 0===i&&(i=null),null===i){var s=o.cacheKey(r,n);void 0!==p[s]?i=p[s]:(null===(i=h(r,n,null))&&(i=new o),p[s]=i)}return a._project(e,t,r,n,i)}function h(e,t,r){void 0===r&&(r=null);var n=a._getTransformation(s,e,t,r,null==r?void 0:r.spatialReference);return null!==n?o.fromGE(n):null}t.projectMany=l,t.getTransformation=h,t.getTransformations=function(e,t,r){void 0===r&&(r=null);var n=a._getTransformationBySuitability(s,e,t,r,null==r?void 0:r.spatialReference);if(null!==n){for(var i=[],u=0,p=n;u<p.length;u++){var l=p[u];i.push(o.fromGE(l))}return i}return[]}}.apply(null,n))||(e.exports=i)},wjMf:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("LxLY"),r("jBNx"),r("aMdW"),r("Zx0K"),r("W9tT"),r("ab6c"),r("Z4y+"),r("lRq4"),r("hBh5"),r("Thzy"),r("Lzvl"),r("fw2w"),r("nrlZ"),r("nrlZ"),r("YaB4"),r("YaB4")],void 0===(i=function(e,t,r,n,i,o,a,s,u,p,l,h,c,d,f,_,y,g){Object.defineProperty(t,"__esModule",{value:!0});var m=Math.PI/180,v=o.mat2df32.create(),x=s.vec2f32.create(),P=p.create();t.getBounds=function(e,t,r,n,i,o,a){if(!n||!r.symbol)return e[0]=e[1]=e[2]=e[3]=0,t[0]=t[1]=t[2]=t[3]=0,e;var s=n;if(!c.isPoint(s)){l.getBoundsXY(e,s);var u=t[0];0===u&&(u=function(e){var t=0;switch(e.symbol.type){case"simple-fill":case"picture-fill":var r=e.symbol.outline;if(!r)return 0;t=r.width;break;case"simple-line":t=e.symbol.width;break;case"simple-marker":t=e.symbol.size;break;case"picture-marker":t=Math.max(e.symbol.width,e.symbol.height);break;case"text":var n=[0,0,0,0];R(n,e.symbol,e.mosaicItem);var i=Math.max(Math.abs(n[0]),Math.abs(n[1]));t=Math.max(n[2],n[3])+i;break;case"cim":case"expanded-cim":var o=y.CIMSymbolHelper.getEnvelope(e.symbol.data);t=Math.sqrt(o.width*o.width+o.height*o.height)}return t}(r),t[0]=u);var p=i*u/2;return e[0]-=p,e[1]-=p,e[2]+=p,e[3]+=p,e}var h=s.x,f=s.y;return"text"===r.symbol.type&&0===t[2]&&0===t[3]&&R(t,r.symbol,r.mosaicItem),function(e,t,r,n,i,o,a,s){var u;switch(n.type){case"simple-marker":case"picture-marker":u=I(t,r,n,o,a,0);break;case"text":u=N(t,r,n,i,o,0);break;case"cim":case"expanded-cim":u=G(t,r,n,o,a,0)}for(var p,l,h=0,c=0;c<u.rings[0].length-1;c++)p=(t-(l=u.rings[0][c])[0])*(t-l[0])+(r-l[1])*(r-l[1]),h=Math.max(h,p);h=Math.sqrt(h);var f=d.normalizeMapX(t-h,s),y=d.normalizeMapX(t+h,s);if(f>y){var g=_.getInfo(s);if(g){var m=g.valid;f=m[0],y=m[1]}}e[0]=f,e[1]=r-h,e[2]=y,e[3]=r+h}(e,h,f,r.symbol,t,i,o,a),e},t.isMarkerSymbol=function(e){return"simple-marker"===e||"picture-marker"===e||"text"===e},t.graphicGeometryToNumber=function(e){switch(r.unwrap(e.geometry).type){case"point":case"multipoint":return 0;case"polyline":return 1;case"polygon":case"extent":return 2}return 0};var b=s.vec2f32.create(),w=s.vec2f32.create(),M=s.vec2f32.create(),S=s.vec2f32.create(),T=s.vec2f32.create(),O=s.vec2f32.create(),E=s.vec2f32.create();function I(e,t,r,o,s,u){var p,l,h=n.pt2px(r.xoffset),c=n.pt2px(r.yoffset),d=m*r.angle,f=m*u;switch(r.type){case"simple-marker":var _=r;p=l=n.pt2px(_.size);break;case"picture-marker":var y=r;p=n.pt2px(y.width),l=n.pt2px(y.height)}s<.04&&(o=.04*o/s);var g=i.mat2d.identity(v);i.mat2d.translate(g,g,a.vec2.set(x,e,t)),i.mat2d.rotate(g,g,f-d),i.mat2d.scale(g,g,a.vec2.set(x,o,-o)),i.mat2d.translate(g,g,a.vec2.set(x,h,-c));var P=[0,0];a.vec2.transformMat2d(P,a.vec2.set(x,-.5*p,-.5*l),g);var b=[0,0];a.vec2.transformMat2d(b,a.vec2.set(x,-.5*p,.5*l),g);var w=[0,0];a.vec2.transformMat2d(w,a.vec2.set(x,.5*p,-.5*l),g);var M=[0,0];return a.vec2.transformMat2d(M,a.vec2.set(x,.5*p,.5*l),g),{rings:[[P,w,M,b,P]]}}function G(e,t,r,o,s,u){var p=y.CIMSymbolHelper.getEnvelope(r.data);if(!p)return null;s<.04&&(o=.04*o/s);var l=n.pt2px(p.width),h=n.pt2px(p.height),c=n.pt2px(p.x),d=n.pt2px(p.y),f=0*m,_=m*u,g=i.mat2d.identity(v);i.mat2d.translate(g,g,a.vec2.set(x,e,t)),i.mat2d.rotate(g,g,_-f),i.mat2d.scale(g,g,a.vec2.set(x,o,o));var P=[0,0];a.vec2.transformMat2d(P,a.vec2.set(x,c,d+h),g);var b=[0,0];a.vec2.transformMat2d(b,a.vec2.set(x,c,d),g);var w=[0,0];a.vec2.transformMat2d(w,a.vec2.set(x,c+l,d+h),g);var M=[0,0];return a.vec2.transformMat2d(M,a.vec2.set(x,c+l,d),g),{rings:[[P,w,M,b,P]]}}function N(e,t,r,o,s,u){var p=n.pt2px(r.xoffset),l=n.pt2px(r.yoffset),h=m*r.angle,c=m*u,d=i.mat2d.identity(v);i.mat2d.translate(d,d,a.vec2.set(x,e,t)),i.mat2d.rotate(d,d,c),i.mat2d.scale(d,d,a.vec2.set(x,s,-s));var f=o[0]+o[2]/2,_=o[1]+o[3]/2;i.mat2d.translate(d,d,a.vec2.set(x,p,-l)),i.mat2d.translate(d,d,a.vec2.set(x,f,_)),i.mat2d.rotate(d,d,h),i.mat2d.translate(d,d,a.vec2.set(x,-f,-_));var y=[0,0];a.vec2.transformMat2d(y,a.vec2.set(x,o[0],o[1]),d);var g=[0,0];a.vec2.transformMat2d(g,a.vec2.set(x,o[0],o[1]+o[3]),d);var P=[0,0];a.vec2.transformMat2d(P,a.vec2.set(x,o[0]+o[2],o[1]),d);var b=[0,0];return a.vec2.transformMat2d(b,a.vec2.set(x,o[0]+o[2],o[1]+o[3]),d),{rings:[[y,P,b,g,y]]}}function R(e,t,r){if(!r||0===r.glyphMosaicItems.length)return e;var i=y.bidiText(t.text)[1],o=r.glyphMosaicItems,a=g.shapeGlyphs(o,i,{scale:n.pt2px(t.font.size)/24,angle:t.angle,xOffset:t.xoffset,yOffset:t.yoffset,hAlign:g.alignmentUtils.getXAnchorDirection(t.horizontalAlignment||"center"),vAlign:g.alignmentUtils.getYAnchorDirection(t.verticalAlignment||"baseline"),maxLineWidth:Math.max(32,Math.min(t.lineWidth||512,512)),lineHeight:30*Math.max(.25,Math.min(t.lineHeight||1,4)),decoration:t.font.decoration||"none",isCIM:!1}).bounds;return e[0]=a.x-a.halfWidth,e[1]=a.y-a.halfHeight,e[2]=a.width,e[3]=a.height,e}t.isPointOnPolyline=function(e,t,r,n){a.vec2.set(M,t,r);for(var i,o,s,u,p,l,h,c,d,f=e.paths,_=1/0,y=0;y<f.length;y++){var g=f[y];if(!(g.length<2))for(var m=1;m<g.length;m++)i=g[m-1][0],s=g[m-1][1],o=g[m][0],u=g[m][1],p=Math.min(i,o)-n,l=Math.min(s,u)-n,h=Math.max(i,o)+n,c=Math.max(s,u)+n,t<p||t>h||r<l||r>c||(a.vec2.set(b,i,s),a.vec2.set(w,o,u),a.vec2.subtract(S,w,b),a.vec2.subtract(T,b,M),a.vec2.scale(O,S,a.vec2.dot(S,T)/a.vec2.dot(S,S)),a.vec2.subtract(E,T,O),_>(d=a.vec2.dot(E,E))&&(_=d))}return Math.sqrt(_)<=n},t.getMarkerSymbolBounds=I,t.getCIMMarkerBounds=G,t.getTextSymbolBounds=N,t.normalizeCentralMeridian=function(e){var t,r,n,i,o,a,s,u,p,d=null;if(!e)return null;if("mesh"===e.type)return e.toJSON();if(t=e.spatialReference,!(r=f.getInfo(t)))return e.toJSON();n=t.isWebMercator,i=A[a=n?102100:4326].maxX,o=A[a].minX,s=A[a].plus180Line,u=A[a].minus180Line;var _=e.toJSON();if(c.isPoint(_))p=k(_,i,o);else if(c.isMultipoint(_))_.points=_.points.map((function(e){return k(e,i,o)})),p=_;else if(c.isExtent(_))p=function(e,t){if(!t)return e;var r=function(e,t){var r,n=[],i=e.ymin,o=e.ymax,a=e.xmax-e.xmin,s=e.xmin,u=e.xmax,p=t.valid,l=p[0],h=p[1],c=(r=j(e.xmin,t)).x,d=r.frameId,f=(r=j(e.xmax,t)).x,_=r.frameId,y=c===f&&a>0;if(a>2*h){var g={xmin:s<u?c:f,ymin:i,xmax:h,ymax:o},m={xmin:l,ymin:i,xmax:s<u?f:c,ymax:o},v={xmin:0,ymin:i,xmax:h,ymax:o},x={xmin:l,ymin:i,xmax:0,ymax:o},P=[],b=[];z(g,v)&&P.push(d),z(g,x)&&b.push(d),z(m,v)&&P.push(_),z(m,x)&&b.push(_);for(var w=d+1;w<_;w++)P.push(w),b.push(w);n.push({extent:g,frameIds:[d]},{extent:m,frameIds:[_]},{extent:v,frameIds:P},{extent:x,frameIds:b})}else c>f||y?n.push({extent:{xmin:c,ymin:i,xmax:h,ymax:o},frameIds:[d]},{extent:{xmin:l,ymin:i,xmax:f,ymax:o},frameIds:[_]}):n.push({extent:{xmin:c,ymin:i,xmax:f,ymax:o},frameIds:[d]});return n}(e,t).map((function(e){return e.extent}));return r.length<2?r[0]||e:r.length>2?(e.xmin=t.valid[0],e.xmax=t.valid[1],e):{rings:r.map((function(e){return[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]}))}}(_,r);else if(c.isPolygon(_)||c.isPolyline(_)){var y=P;l.getBoundsXY(y,_);var g={xmin:y[0],ymin:y[1],xmax:y[2],ymax:y[3]},m=C(g.xmin,o)*(2*i),v=0===m?_:function(e,t){for(var r=0,n=function(e){return c.isPolygon(e)?e.rings:e.paths}(e);r<n.length;r++)for(var i=0,o=n[r];i<o.length;i++)o[i][0]+=t;return e}(_,m);g.xmin+=m,g.xmax+=m,h.extentIntersectsPolyline(g,s)&&g.xmax!==i||h.extentIntersectsPolyline(g,u)&&g.xmin!==o?d=v:p=v}else p=e.clone();return null!==d?(new L).cut(d,i):p},t.getTextSymbolSize=R;var A={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:{paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:u.WebMercator},minus180Line:{paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:u.WebMercator}},4326:{maxX:180,minX:-180,plus180Line:{paths:[[[180,-180],[180,180]]],spatialReference:u.WGS84},minus180Line:{paths:[[[-180,-180],[-180,180]]],spatialReference:u.WGS84}}};function C(e,t){return Math.ceil((e-t)/(2*t))}function j(e,t){var r,n=t.valid,i=n[0],o=n[1],a=2*o,s=0;return e>o?(e-=(r=Math.ceil(Math.abs(e-o)/a))*a,s=r):e<i&&(e+=(r=Math.ceil(Math.abs(e-i)/a))*a,s=-r),{x:e,frameId:s}}function z(e,t){var r=t.xmin,n=t.ymin,i=t.xmax,o=t.ymax;return U(e,r,n)&&U(e,r,o)&&U(e,i,o)&&U(e,i,n)}function U(e,t,r){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax}function k(e,t,r){var n;if(Array.isArray(e))if((n=e[0])>t){var i=C(n,t);e[0]=n+i*(-2*t)}else n<r&&(i=C(n,r),e[0]=n+i*(-2*r));else(n=e.x)>t?(i=C(n,t),e.x+=i*(-2*t)):n<r&&(i=C(n,r),e.x+=i*(-2*r));return e}var L=function(){function e(){}return e.prototype.cut=function(e,t){var r;if(e.rings)this.closed=!0,r=e.rings,this.minPts=4;else{if(!e.paths)return null;this.closed=!1,r=e.paths,this.minPts=2}for(var n=r.length,i=-2*t,o=0;o<n;o++){var a=r[o];if(a&&a.length>=this.minPts){for(var s=[],u=0,p=a;u<p.length;u++){var l=p[u];s.push([l[0]+i,l[1]])}r.push(s)}}return this.closed?e.rings=r:e.paths=r,e},e}()}.apply(null,n))||(e.exports=i)},zRH3:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Vx27")],void 0===(i=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicsView=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.graphics=null,t.renderer=null,t.view=null,t}return r.__extends(t,e),r.__decorate([n.property()],t.prototype,"graphics",void 0),r.__decorate([n.property()],t.prototype,"renderer",void 0),r.__decorate([n.property()],t.prototype,"updating",void 0),r.__decorate([n.property()],t.prototype,"view",void 0),r.__decorate([n.subclass("esri.views.layers.GraphicsView")],t)}(e)}}.apply(null,n))||(e.exports=i)}}]);