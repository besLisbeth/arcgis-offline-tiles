(function(){(this||window).webpackJsonp.registerAbsMids({"esri/libs/i3s/I3SWorker":"2yzH","esri/views/3d/layers/SceneLayerWorker":"3sea"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{"2yzH":function(e,n,t){var r,o;r=[t.dj.c(e.i),n,t("KFwS"),t("H1tY"),t("qMld"),t("2Kdy")],void 0===(o=function(e,n,r,o,i){function s(e){return r.getAssetUrl("esri/libs/i3s/"+e)}var u;Object.defineProperty(n,"__esModule",{value:!0}),n.getWorkerModule=function(){if(!u){var e=o("esri-wasm")?new Promise((function(e,n){t.e(146).then(function(){var n=[t("3nH8")];e.apply(null,n)}.bind(this)).catch(n.bind(this))})):new Promise((function(e,n){t.e(82).then(function(){var n=[t("2N0j")];e.apply(null,n)}.bind(this)).catch(n.bind(this))}));u=i.create((function(n){return e.then((function(e){var t=e({locateFile:s,onRuntimeInitialized:function(){return n(t)}});delete t.then}))})).catch((function(e){return i.reject(e)}))}return u}}.apply(null,r))||(e.exports=o)},"3sea":function(e,n,t){var r,o;r=[t.dj.c(e.i),n,t("zOht"),t("LxLY"),t("qMld"),t("rusB"),t("2yzH")],void 0===(o=function(e,n,t,r,o,i,s){var u,a,f=function(){function e(){}return e.prototype.process=function(n){return t.__awaiter(this,void 0,void 0,(function(){var r;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,e.ensureWASM()];case 1:return t.sent(),r=[n.geometryBuffer],[2,{result:l(n,r),transferList:r}]}}))}))},e.prototype.setModifications=function(n){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,e.ensureWASM()];case 1:return t.sent(),c(n),[2]}}))}))},e.prototype.setLegacySchema=function(n){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,e.ensureWASM()];case 1:return t.sent(),a.setLegacySchema(n.context,n.jsonSchema),[2]}}))}))},e.prototype.destroyContext=function(e){d(e)},e}();function c(e){for(var n=e.modifications,t=a._malloc(8*n.length),r=new Float64Array(a.HEAPU8.buffer,t,n.length),o=0;o<n.length;++o)r[o]=n[o];a.setModifications(e.context,t,n.length),a._free(t)}function l(e,n){if(!a)return null;var t=e.context,o=e.localOrigin,s=e.globalTrafo,u=e.mbs,f=e.elevationOffset,c=e.geometryBuffer,l=e.geometryDescriptor,d=e.indexToVertexProjector,y=e.vertexToRenderProjector,h=a._malloc(c.byteLength),p=a._malloc(33*Float64Array.BYTES_PER_ELEMENT),m=new Uint8Array(a.HEAPU8.buffer,h,c.byteLength);m.set(new Uint8Array(c));var v=new Float64Array(a.HEAPU8.buffer,p,33);b(v,o);var w=v.byteOffset+3*v.BYTES_PER_ELEMENT,E=new Float64Array(v.buffer,w);b(E,s),w+=16*v.BYTES_PER_ELEMENT,b(E=new Float64Array(v.buffer,w),u),w+=4*v.BYTES_PER_ELEMENT,r.isSome(e.obb)&&(b(E=new Float64Array(v.buffer,w),e.obb.center),w+=3*v.BYTES_PER_ELEMENT,b(E=new Float64Array(v.buffer,w),e.obb.halfSize),w+=3*v.BYTES_PER_ELEMENT,b(E=new Float64Array(v.buffer,w),e.obb.quaternion));var g=l,_={isDraco:!1,isLegacy:!1,color:e.layouts.some((function(e){return e.some((function(e){return"color"===e.name}))})),normal:e.needNormals&&e.layouts.some((function(e){return e.some((function(e){return"normalCompressed"===e.name}))})),uv0:e.layouts.some((function(e){return e.some((function(e){return"uv0"===e.name}))})),uvRegion:e.layouts.some((function(e){return e.some((function(e){return"uvRegion"===e.name}))})),featureIndex:g.featureIndex},A=a.process(t,!!e.obb,h,m.byteLength,g,_,p,f,d,y,e.normalReferenceFrame);if(a._free(p),a._free(h),A.error.length>0)throw"i3s.wasm: "+A.error;if(A.discarded)return null;var L=A.componentOffsets.length>0?i.slice(A.componentOffsets):null,M=A.featureIds.length>0?i.slice(A.featureIds):null,S=i.slice(A.interleavedVertedData).buffer,T=1===A.indicesType?i.slice(new Uint16Array(A.indices.buffer,A.indices.byteOffset,A.indices.byteLength/2)):i.slice(new Uint32Array(A.indices.buffer,A.indices.byteOffset,A.indices.byteLength/4)),I=i.slice(A.positions),P=1===A.positionIndicesType?i.slice(new Uint16Array(A.positionIndices.buffer,A.positionIndices.byteOffset,A.positionIndices.byteLength/2)):i.slice(new Uint32Array(A.positionIndices.buffer,A.positionIndices.byteOffset,A.positionIndices.byteLength/4)),x={layout:e.layouts[0],interleavedVertexData:S,indices:T,hasColors:A.hasColors,positionData:{data:I,indices:P}};return M&&n.push(M.buffer),L&&n.push(L.buffer),n.push(S),n.push(T.buffer),n.push(I.buffer),n.push(P.buffer),{componentOffsets:L,featureIds:M,transformedGeometry:x,obb:A.obb}}function d(e){a&&a.destroy(e)}function b(e,n){for(var t=0;t<n.length;++t)e[t]=n[t]}return function(e){e.ensureWASM=function(){return a?o.resolve():(u||(u=s.getWorkerModule().then((function(e){a=e,u=null}))),u)},e.test={transform:l,setModifications:c,destroy:d}}(f||(f={})),f}.apply(null,r))||(e.exports=o)}}]);