(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/2d/layers/WMSLayerView2D":"ETqY","esri/views/layers/WMSLayerView":"GLSx"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{ETqY:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("9opi"),r("qKT0"),r("eIBl"),r("Vx27"),r("N7S/"),r("UDyV"),r("bOAX"),r("6i4F"),r("wke2"),r("GLSx")],void 0===(n=function(e,t,r,i,n,a,o,s,p,h,u,c,d){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handles=new a,t.container=new h.BitmapContainer,t}return i(t,e),t.prototype.hitTest=function(e,t){return null},t.prototype.update=function(e){this.strategy.update(e),this.notifyChange("updating")},t.prototype.attach=function(){var e=this,t=this.layer,r=t.imageMaxHeight,i=t.imageMaxWidth;this.strategy=new c({container:this.container,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:r,imageMaxWidth:i,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this._exportWMSImageParameters=new p({layer:this.layer}),this._handles.add(this._exportWMSImageParameters.watch("version",function(t){e._exportImageVersion!==t&&(e._exportImageVersion=t,e._exportWMSImageParameters.layers?e.requestUpdate():e.container.removeAllChildren())}))},t.prototype.detach=function(){this.container.removeAllChildren(),this.strategy.destroy(),this._handles.removeAll(),this._exportWMSImageParameters.layer=null,this._exportWMSImageParameters.destroy(),this._exportWMSImageParameters=null,this.container.removeAllChildren()},t.prototype.moveStart=function(){},t.prototype.viewChange=function(){},t.prototype.moveEnd=function(){this.requestUpdate()},t.prototype.canResume=function(){var e=this.inherited(arguments);return e?this.layer.supportsSpatialReference(this.view.spatialReference):e},t.prototype.createFetchPopupFeaturesQuery=function(e){var t=this.container,r=this.view,i=e.x,n=e.y,a=r.spatialReference,o=null,p=0,h=0;t.children.some(function(e){var t=e.width,r=e.height,u=e.resolution,c=e.x,d=e.y,l=c+u*t,y=d-u*r;return i>=c&&i<=l&&n<=d&&n>=y&&(o=new s({xmin:c,ymin:y,xmax:l,ymax:d,spatialReference:a}),p=t,h=r,!0)});var u=o.width/p,c=Math.round((i-o.xmin)/u),d=Math.round((o.ymax-n)/u);return{extent:o,width:p,height:h,x:c,y:d}},t.prototype.doRefresh=function(){this.requestUpdate()},t.prototype.isUpdating=function(){return this.attached&&(this.strategy.updating||this.updateRequested)},t.prototype.fetchImage=function(e,t,i,n){var a=this;return n=r({timestamp:this.refreshTimestamp},n),this.layer.fetchImage(e,t,i,n).then(function(e){return a.notifyChange("updating"),e})},n([o.property({dependsOn:["view.spatialReference","layer.spatialReferences"]})],t.prototype,"suspended",void 0),n([o.subclass("esri.views.2d.layers.WMSLayerView2D")],t)}(o.declared(u,d))}.apply(null,i))||(e.exports=n)},GLSx:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Q2wQ"),r("HZ3d"),r("ma1f"),r("qMld"),r("Vx27"),r("7XLS")],void 0===(n=function(e,t,r,i,n,a,o,s,p,h){return function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.fetchPopupFeatures=function(e){return a(this,void 0,void 0,function(){var t,r,i,a,p,h,u,c,d;return n(this,function(n){if(t=this.layer,!e)return[2,s.reject(new o("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:t}))];if(!(r=t.popupEnabled))return[2,s.reject(new o("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:r}))];if(i=this.createFetchPopupFeaturesQuery(e),a=i.extent,p=i.width,h=i.height,u=i.x,c=i.y,!(a&&p&&h))throw new o("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:a,width:p,height:h});return[2,(d=t.fetchFeatureInfo(a,p,h,u,c))?d.then(function(e){return[e]}):s.resolve([])]})})},i([p.property()],t.prototype,"layer",void 0),i([p.subclass("esri.views.layers.WMSLayerView")],t)}(p.declared(h))}.apply(null,i))||(e.exports=n)}}]);