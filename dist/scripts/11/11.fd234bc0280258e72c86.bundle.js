(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/graphics/data/timeSupport":"/61J","esri/core/sql/WhereClause":"1eyA","esri/layers/graphics/centroid":"Fzzg","esri/layers/graphics/data/spatialQuerySupport":"V1i6","esri/layers/graphics/data/attributeSupport":"Ytki","esri/layers/graphics/contains":"gT/q","esri/core/sql/StandardizedFunctions":"l8NS","esri/core/sql/AggregateFunctions":"vjUK","esri/layers/graphics/data/utils":"zDti"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[11,75],{"/61J":function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=function(e,t){function r(e,t,r,n){return!(r>t||n<e)}function n(e,t,n,a){if(null!=n&&null!=a&&n===a){var i=n;return function(r){return i>=r.attributes[e]&&i<=r.attributes[t]}}return null!=n&&null!=a?function(i){return r(n,a,i.attributes[e],i.attributes[t])}:null!=n?function(e){return!(e.attributes[t]<n)}:null!=a?function(t){return!(t.attributes[e]>a)}:void 0}function a(e,t,r){return null!=t&&null!=r&&t===r?function(r){return r.attributes[e]===t}:null!=t&&null!=r?function(n){return n.attributes[e]>=t&&n.attributes[e]<=r}:null!=t?function(r){return r.attributes[e]>=t}:null!=r?function(t){return t.attributes[e]<=r}:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeExtent=function(e,t){if(!e)return null;var r=e.startTimeField,n=e.endTimeField,a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(r&&n)t.forEach(function(e){var t=e.attributes,l=t[r],u=t[n];null==l||isNaN(l)||(a=Math.min(a,l)),null==u||isNaN(u)||(i=Math.max(i,u))});else{var l=r||n;t.forEach(function(e){var t=l,r=e.attributes[t];null==r||isNaN(r)||(a=Math.min(a,r),i=Math.max(i,r))})}return{start:a,end:i}},t.getTimeOperator=function(e,t){if(!t||!e)return null;var r=e.startTimeField,i=e.endTimeField;if(!r&&!i)return null;var l=t.start,u=t.end;return null==l&&null==u?null:r&&i?n(r,i,l,u):a(r||i,l,u)}}.apply(null,n))||(e.exports=a)},"1eyA":function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("ll/V"),r("xdHJ"),r("UWzz"),r("vjUK"),r("l8NS"),r("fsiH")],void 0===(a=function(e,t,r,n,a,i,l,u){function s(e){return e&&"object"==typeof e.attributes}function o(e){return a(e,["YYYY-M-D H:m:s","YYYY-M-D H:mZ","YYYY-M-D H:m:sZ","YYYY-M-D H:m","YYYY-m-d"]).toDate()}function c(e){return a(e,["YYYY-M-D"]).toDate()}function f(e){return!0===e}function p(e){return Array.isArray(e)?e:[e]}function h(e){return null!==e?!0!==e:null}function m(e,t){return null!=e&&null!=t?!0===e&&!0===t:!1!==e&&!1!==t&&null}function v(e,t){return null!=e&&null!=t?!0===e||!0===t:!0===e||!0===t||null}function d(e,t){if(null==e)return null;for(var r=!1,n=0,a=t;n<a.length;n++){var i=a[n];if(null==i)r=null;else if(e===i){r=!0;break}}return r}function g(e,t,r){if(null==e)return null;for(var n=t,a=r,i="",l="-[]/{}()*+?.\\^$|",u=0,s=0;s<n.length;s++){var o=n.charAt(s);switch(u){case 0:o===a?u=1:l.indexOf(o)>=0?i+="\\"+o:i+="%"===o?".*":"_"===o?".":o;break;case 1:l.indexOf(o)>=0?i+="\\"+o:i+=o,u=0}}return new RegExp("^"+i+"$").test(e)}function y(e){return e instanceof Date?e.valueOf():e}function N(e,t,r){if(null==t||null==r)return null;var n=y(t),a=y(r);switch(e){case"<>":return n!==a;case"=":return n===a;case">":return n>a;case"<":return n<a;case">=":return n>=a;case"<=":return n<=a}}function P(e){for(var t=[],r={},n=0,a=e;n<a.length;n++){var i=a[n],l=i.toLowerCase();void 0===r[l]&&(t.push(i),r[l]=1)}return t}return function(){function e(){this.parseTree=null,this.parameters=null,this._hasStandardizedFunctions=null,this._hasAggregateFunctions=null}return e.create=function(t){var r=new e;r.parseTree=u.WhereGrammar.parse(t);var n=!0,a=!0;return r.visitAll(r.parseTree,function(e){if("function"===e.type){var t=e.name,r=e.args.value.length;n&&(n=l.isStandardized(t,r)),a&&(a=i.isAggregate(t,r))}}),r._hasStandardizedFunctions=n,r._hasAggregateFunctions=a,r},e.prototype.isStandardized=function(){return this._hasStandardizedFunctions},e.prototype.isAggregate=function(){return this._hasAggregateFunctions},e.prototype.setVariablesDictionary=function(e){this.parameters=e},e.prototype.testFeature=function(e){return!!this.evaluateNode(this.parseTree,e)},e.prototype.testSet=function(e){var t=this,r=new n.default;this.visitAll(this.parseTree,function(e){"column_ref"!==e.type||r.has(e.column)||r.set(e.column,e)});for(var a={},i=0,l=e;i<l.length;i++){!function(e){r.forEach(function(r,n){var i=t.featureValue(e,n,r);a[n]?a[n].push(i):a[n]=[i]})}(l[i])}return!!this.evaluateNode(this.parseTree,{attributes:a})},e.prototype.calculateValue=function(e){return this.evaluateNode(this.parseTree,e)},e.prototype.getFunctions=function(){var e=[];return this.visitAll(this.parseTree,function(t){"function"===t.type&&e.push(t.name.toLowerCase())}),P(e)},e.prototype.getExpressions=function(){var e=new n.default;return this.visitAll(this.parseTree,function(t){if("function"===t.type){var r=t.name.toLowerCase(),n=t.args.value[0];if("column_ref"===n.type){var a=n.column,i=r+"-"+a;e.has(i)||e.set(i,{aggregateType:r,field:a})}}}),r.from(e.values())},e.prototype.getFields=function(){var e=[];return this.visitAll(this.parseTree,function(t){"column_ref"===t.type&&e.push(t.column)}),P(e)},e.prototype.getVariables=function(){var e=[];return this.visitAll(this.parseTree,function(t){"param"===t.type&&e.push(t.value.toLowerCase())}),P(e)},e.prototype.featureValue=function(e,t,r){var n=s(e)?e.attributes:e,a=n[t];if(void 0!==a)return a;for(var i in n)if(t.toLowerCase()===i.toLowerCase())return r.column=i,n[i];return null},e.prototype.visitAll=function(e,t){if(null!=e)switch(t(e),e.type){case"when_clause":this.visitAll(e.operand,t),this.visitAll(e.value,t);break;case"case_expression":for(var r=0,n=e.clauses;r<n.length;r++){var a=n[r];this.visitAll(a,t)}"simple"===e.format&&this.visitAll(e.operand,t),null!==e.else&&this.visitAll(e.else,t);break;case"expr_list":for(var i=0,l=e.value;i<l.length;i++){a=l[i];this.visitAll(a,t)}break;case"unary_expr":this.visitAll(e.expr,t);break;case"binary_expr":this.visitAll(e.left,t),this.visitAll(e.right,t);break;case"function":this.visitAll(e.args,t)}},e.prototype.evaluateNode=function(e,t){switch(e.type){case"case_expression":if("simple"===e.format){for(var r=y(this.evaluateNode(e.operand,t)),n=0;n<e.clauses.length;n++)if(r===y(this.evaluateNode(e.clauses[n].operand,t)))return this.evaluateNode(e.clauses[n].value,t);if(null!==e.else)return this.evaluateNode(e.else,t)}else{for(n=0;n<e.clauses.length;n++)if(f(this.evaluateNode(e.clauses[n].operand,t)))return this.evaluateNode(e.clauses[n].value,t);if(null!==e.else)return this.evaluateNode(e.else,t)}return null;case"param":return this.parameters[e.value.toLowerCase()];case"expr_list":for(var a=[],u=0,s=e.value;u<s.length;u++){var P=s[u];a.push(this.evaluateNode(P,t))}return a;case"unary_expr":return h(this.evaluateNode(e.expr,t));case"binary_expr":switch(e.operator){case"AND":return m(this.evaluateNode(e.left,t),this.evaluateNode(e.right,t));case"OR":return v(this.evaluateNode(e.left,t),this.evaluateNode(e.right,t));case"IS":if("null"!==e.right.type)throw new Error("Unsupported RHS for IS");return null===this.evaluateNode(e.left,t);case"ISNOT":if("null"!==e.right.type)throw new Error("Unsupported RHS for IS");return null!==this.evaluateNode(e.left,t);case"IN":var S=p(this.evaluateNode(e.right,t));return d(this.evaluateNode(e.left,t),S);case"NOT IN":S=p(this.evaluateNode(e.right,t));return h(d(this.evaluateNode(e.left,t),S));case"BETWEEN":var w=this.evaluateNode(e.left,t),T=this.evaluateNode(e.right,t);return null==w||null==T[0]||null==T[1]?null:w>=T[0]&&w<=T[1];case"NOTBETWEEN":w=this.evaluateNode(e.left,t),T=this.evaluateNode(e.right,t);return null==w||null==T[0]||null==T[1]?null:w<T[0]||w>T[1];case"LIKE":return g(this.evaluateNode(e.left,t),this.evaluateNode(e.right,t),e.escape);case"NOT LIKE":return h(g(this.evaluateNode(e.left,t),this.evaluateNode(e.right,t),e.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return N(e.operator,this.evaluateNode(e.left,t),this.evaluateNode(e.right,t));case"*":return this.evaluateNode(e.left,t)*this.evaluateNode(e.right,t);case"-":return this.evaluateNode(e.left,t)-this.evaluateNode(e.right,t);case"+":return this.evaluateNode(e.left,t)+this.evaluateNode(e.right,t);case"/":return this.evaluateNode(e.left,t)/this.evaluateNode(e.right,t)}throw new Error("Not Supported Operator "+e.operator);case"null":case"bool":case"string":case"number":return e.value;case"date":return c(e.value);case"timestamp":return o(e.value);case"column_ref":return"CURRENT_DATE"===e.column.toUpperCase()?((P=new Date).setHours(0,0,0,0),P):"CURRENT_TIMESTAMP"===e.column.toUpperCase()?new Date:this.featureValue(t,e.column,e);case"function":var I=this.evaluateNode(e.args,t);return this.isAggregate()?i.aggregateFunction(e.name,I):l.evaluateFunction(e.name,I)}throw new Error("Unsupported sql syntax "+e.type)},e}()}.apply(null,n))||(e.exports=a)},Fzzg:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("MYn5")],void 0===(a=function(e,t,r){function n(e,t,n,a,i,l){for(var u=r.getStride(i,l),s=n,o=n+u,c=0,f=0,p=0,h=0,m=0,v=0,d=a-1;v<d;v++,s+=u,o+=u){var g=t[s],y=t[s+1],N=t[s+2],P=t[o],S=t[o+1],w=t[o+2],T=g*S-P*y;h+=T,c+=(g+P)*T,f+=(y+S)*T,i&&(p+=(N+w)*(T=g*w-P*N),m+=T),g<e[0]&&(e[0]=g),g>e[1]&&(e[1]=g),y<e[2]&&(e[2]=y),y>e[3]&&(e[3]=y),i&&(N<e[4]&&(e[4]=N),N>e[5]&&(e[5]=N))}if(h>0&&(h*=-1),m>0&&(m*=-1),!h)return null;var I=[c,f,.5*h];return i&&(I[3]=p,I[4]=.5*m),I}function a(e,t,n,a,o){for(var c=r.getStride(a,o),f=t,p=t+c,h=0,m=0,v=0,d=0,g=0,y=n-1;g<y;g++,f+=c,p+=c){var N=e[f],P=e[f+1],S=e[f+2],w=e[p],T=e[p+1],I=e[p+2],x=a?l(N,P,S,w,T,I):i(N,P,w,T);if(x)if(h+=x,a){m+=x*(E=s(N,P,S,w,T,I))[0],v+=x*E[1],d+=x*E[2]}else{var E;m+=x*(E=u(N,P,w,T))[0],v+=x*E[1]}}return h>0?a?[m/h,v/h,d/h]:[m/h,v/h]:n>0?a?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function i(e,t,r,n){var a=r-e,i=n-t;return Math.sqrt(a*a+i*i)}function l(e,t,r,n,a,i){var l=n-e,u=a-t,s=i-r;return Math.sqrt(l*l+u*u+s*s)}function u(e,t,r,n){return[e+.5*(r-e),t+.5*(n-t)]}function s(e,t,r,n,a,i){return[e+.5*(n-e),t+.5*(a-t),r+.5*(i-r)]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCentroidOptimizedGeometry=function(e,t,i,l){if(!t||!t.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);for(var u=e.coords,s=[],o=i?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],c=t.lengths,f=t.coords,p=r.getStride(i,l),h=0,m=0,v=c;m<v.length;m++){var d=v[m],g=n(o,f,h,d,i,l);g&&s.push(g),h+=d*p}if(s.sort(function(e,t){var r=e[2]-t[2];return 0===r&&i&&(r=e[4]-t[4]),r}),s.length){var y=6*s[0][2];u[0]=s[0][0]/y,u[1]=s[0][1]/y,i&&(y=6*s[0][4],u[2]=0!==y?s[0][3]/y:0),(u[0]<o[0]||u[0]>o[1]||u[1]<o[2]||u[1]>o[3]||i&&(u[2]<o[4]||u[2]>o[5]))&&(u.length=0)}if(!u.length){var N=t.lengths[0]?a(f,0,c[0],i,l):null;if(!N)return null;u[0]=N[0],u[1]=N[1],i&&N.length>2&&(u[2]=N[2])}return e},t.lineCentroid=a}.apply(null,n))||(e.exports=a)},V1i6:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("ma1f"),r("qMld"),r("k1EI"),r("Thzy"),r("Lzvl"),r("nrlZ"),r("gT/q"),r("+6sX"),r("Jvs9"),r("Q2Em"),r("zDti")],void 0===(a=function(e,t,n,a,i,l,u,s,o,c,f,p,h){function m(e){return!0===P.spatialRelationship[e]}function v(e){return!0===P.queryGeometry[u.getJsonType(e)]}function d(e){return!0===P.layerGeometry[e]}function g(){return a.create(function(e){return r.e(15).then(function(){var t=[r("21p4")];e.apply(null,t)}.bind(this)).catch(r.oe)})}Object.defineProperty(t,"__esModule",{value:!0});var y="feature-store:unsupported-query",N={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},P={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};t.importGeometryEngine=g,t.getGeodesicBufferOperator=function(){return g().then(function(e){return e.geodesicBuffer})},t.getSpatialQueryOperator=function(e,t,r){if(u.isPolygon(t)&&"esriGeometryPoint"===r.geometryType&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){var n=c.convertFromPolygon(new f.default,t,!1,!1);return a.resolve(function(e){return o.polygonContainsPoint(n,!1,!1,e)})}if(u.isPolygon(t)&&"esriGeometryMultipoint"===r.geometryType){var s=c.convertFromPolygon(new f.default,t,!1,!1);if("esriSpatialRelContains"===e)return a.resolve(function(e){return o.polygonContainsMultipoint(s,!1,!1,e,r.hasZ,r.hasM)})}if(u.isExtent(t)&&"esriGeometryPoint"===r.geometryType&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return a.resolve(function(e){return i.extentContainsPoint(t,h.getGeometry(r,e))});if(u.isExtent(t)&&"esriGeometryMultipoint"===r.geometryType&&"esriSpatialRelContains"===e)return a.resolve(function(e){return i.extentContainsMultipoint(t,h.getGeometry(r,e))});if(u.isExtent(t)&&"esriSpatialRelIntersects"===e){var p=l.getExtentIntersector(r.geometryType);return a.resolve(function(e){return p(t,h.getGeometry(r,e))})}return g().then(function(n){var a=n[N[e]].bind(null,t);return function(e){return a(h.getGeometry(r,e))}})},t.checkSpatialQuerySupport=function(e,t,r){var i=e.spatialRel,l=e.geometry;return l?m(i)?s.isValid(l.spatialReference)&&s.isValid(r)?v(l)?d(t)?e.outSR?p.checkProjectionSupport(e.geometry&&e.geometry.spatialReference,e.outSR):a.resolve():a.reject(new n(y,"Unsupported layer geometry type",{query:e})):a.reject(new n(y,"Unsupported query geometry type",{query:e})):a.resolve():a.reject(new n(y,"Unsupported query spatial relationship",{query:e})):a.resolve()},t.canQueryWithRBush=function(e){if(u.isExtent(e))return!0;if(u.isPolygon(e)){for(var t=0,r=e.rings;t<r.length;t++){var n=r[t];if(5!==n.length)return!1;if(n[0][0]!==n[1][0]||n[0][0]!==n[4][0]||n[2][0]!==n[3][0]||n[0][1]!==n[3][1]||n[0][1]!==n[4][1]||n[1][1]!==n[2][1])return!1}return!0}return!1}}.apply(null,n))||(e.exports=a)},Ytki:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("PND3"),r("ma1f"),r("ZHL0"),r("1eyA")],void 0===(a=function(e,t,r,n,a,i){function l(e){if(!e)return null;var r=t.invalidClauseCache.get(e);if(void 0!==r)return r;var n,a=t.whereClausesCache.get(e);return void 0!==a?a:(n=i.create(e),t.whereClausesCache.put(e,n),n)}function u(e,t,r,a){void 0===a&&(a=!0);for(var i=[],c=0,f=t;c<f.length;c++){var p=f[c];if("*"!==p&&!e.has(p))if(a){var h=s(p);try{var m=l(h);if(!m.isStandardized())throw new n(o,"expression is not standard",{clause:m});u(e,m.getFields(),"expression contains missing fields")}catch(e){var v=e&&e.details;if(v&&v.clause)throw e;v&&v.missingFields?Array.prototype.push.apply(i,v.missingFields):i.push(p)}}else i.push(p)}if(i.length)throw new n(o,r,{missingFields:i})}function s(e){return e.split(c)[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.invalidClauseCache=new a(500),t.whereClausesCache=new a(50);var o="feature-store:unsupported-query",c=" as ",f=new r.default(["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeDate"]);t.validateWhere=function(e,r){if(!r)return!0;var a;try{a=i.create(r),t.whereClausesCache.put(r,a)}catch(e){throw t.invalidClauseCache.put(r,null),new n(o,"invalid SQL expression",{where:r})}if(!a.isStandardized())throw new n(o,"where clause is not standard",{where:r});return u(e,a.getFields(),"where clause contains missing fields"),!0},t.validateHaving=function(e,r,a){if(!r)return!0;var l;try{l=i.create(r),t.whereClausesCache.put(r,l)}catch(e){throw t.invalidClauseCache.put(r,null),new n(o,"invalid SQL expression",{having:r})}if(!l.isAggregate())throw new n(o,"having does not contain a valid aggregate function",{having:r});var s=l.getFields();if(u(e,s,"having contains missing fields"),!l.getExpressions().every(function(t){var r=t.aggregateType,n=t.field,i=e.has(n)&&e.get(n).name;return a.some(function(t){var n=t.onStatisticField,a=t.statisticType,l=n.toLowerCase().trim();return(e.has(l)&&e.get(l).name)===i&&a.toLowerCase().trim()===r})}))throw new n(o,"expressions in having should also exist in outStatistics",{having:r});return!0},t.getWhereClause=l,t.validateFields=u,t.getExpressionFromFieldName=s,t.getAliasFromFieldName=function(e){return e.split(c)[1]},t.hasInvalidFieldType=function(e,t){var r=!1;if(-1!==l(e).getFields().indexOf(e)){var n=t.get(e);r=!f.has(n.type)}return r}}.apply(null,n))||(e.exports=a)},"gT/q":function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("MYn5")],void 0===(a=function(e,t,r){function n(e,t,n,i,l){if(!e)return!1;for(var u=r.getStride(t,n),s=e.coords,o=!1,c=0,f=0,p=e.lengths;f<p.length;f++){var h=p[f];o=a(o,s,u,c,h,i,l),c+=h*u}return o}function a(e,t,r,n,a,i,l){for(var u=e,s=n,o=n,c=n+a*r;o<c;o+=r){(s=o+r)===c&&(s=n);var f=t[o],p=t[o+1],h=t[s],m=t[s+1];(p<l&&m>=l||m<l&&p>=l)&&f+(l-p)/(m-p)*(h-f)<i&&(u=!u)}return u}Object.defineProperty(t,"__esModule",{value:!0}),t.polygonContainsPoint=function(e,t,r,a){return n(e,t,r,a.coords[0],a.coords[1])},t.polygonContainsMultipoint=function(e,t,a,i,l,u){var s=r.getStride(l,u),o=i.coords,c=i.lengths;if(!c)return!1;for(var f=0,p=0;f<c.length;f++,p+=s)if(!n(e,t,a,o[p],o[p+1]))return!1;return!0},t.polygonContainsCoords=n}.apply(null,n))||(e.exports=a)},l8NS:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("NsUs")],void 0===(a=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateFunction=function(e,t){var r=n[e.toLowerCase()];if(null==r)throw new Error("Function Not Recognised");if(t.length<r.minParams||t.length>r.maxParams)throw new Error("Invalid Parameter count for call to "+e.toUpperCase());return r.evaluate(t)},t.isStandardized=function(e,t){var r=n[e.toLowerCase()];return null!=r&&t>=r.minParams&&t<=r.maxParams};var n={extract:{minParams:2,maxParams:2,evaluate:function(e){var t=e[0],r=e[1];if(null==r)return null;if(r instanceof Date)switch(t.toUpperCase()){case"SECOND":return r.getSeconds();case"MINUTE":return r.getMinutes();case"HOUR":return r.getHours();case"DAY":return r.getDate();case"MONTH":return r.getMonth()+1;case"YEAR":return r.getFullYear()}throw new Error("Invalid Parameter for call to EXTRACT")}},substring:{minParams:2,maxParams:3,evaluate:function(e){if(2===e.length){var t=e[0],r=e[1];return null==t||null==r?null:t.toString().substring(r-1)}if(3===e.length){t=e[0],r=e[1];var n=e[2];return null==t||null==r||null==n?null:n<=0?"":t.toString().substring(r-1,r+n-1)}}},position:{minParams:2,maxParams:2,evaluate:function(e){var t=e[0],r=e[1];return null==t||null==r?null:r.indexOf(t)+1}},trim:{minParams:2,maxParams:3,evaluate:function(e){var t=3===e.length,n=t?e[1]:" ",a=t?e[2]:e[1];if(null==n||null==a)return null;var i="("+r.escapeString(n)+")";switch(e[0]){case"BOTH":return a.replace(new RegExp("^"+i+"*|"+i+"*$","g"),"");case"LEADING":return a.replace(new RegExp("^"+i+"*","g"),"");case"TRAILING":return a.replace(new RegExp(i+"*$","g"),"")}throw new Error("Invalid Parameter for call to TRIM")}},abs:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.abs(e[0])}},ceiling:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.ceil(e[0])}},floor:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.floor(e[0])}},log:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.log(e[0])}},log10:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.log(e[0])*Math.LOG10E}},sin:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.sin(e[0])}},cos:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.cos(e[0])}},tan:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.tan(e[0])}},asin:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.asin(e[0])}},acos:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.acos(e[0])}},atan:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.atan(e[0])}},sign:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:e[0]>0?1:e[1]<0?-1:0}},power:{minParams:2,maxParams:2,evaluate:function(e){return null==e[0]||null==e[1]?null:Math.pow(e[0],e[1])}},mod:{minParams:2,maxParams:2,evaluate:function(e){return null==e[0]||null==e[1]?null:e[0]%e[1]}},round:{minParams:1,maxParams:2,evaluate:function(e){var t=e[0],r=2===e.length?Math.pow(10,e[1]):1;return null==t?null:Math.round(t*r)/r}},truncate:{minParams:1,maxParams:2,evaluate:function(e){return null==e[0]?null:1===e.length?parseInt(e[0].toFixed(0),10):parseFloat(e[0].toFixed(e[1]))}},char_length:{minParams:1,maxParams:1,evaluate:function(e){return"string"==typeof e[0]||e[0]instanceof String?e[0].length:0}},concat:{minParams:1,maxParams:1/0,evaluate:function(e){for(var t="",r=0;r<e.length;r++){if(null==e[r])return null;t+=e[r].toString()}return t}},lower:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:e[0].toString().toLowerCase()}},upper:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:e[0].toString().toUpperCase()}}}}.apply(null,n))||(e.exports=a)},vjUK:function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=function(e,t){function r(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t/e.length}function n(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}function a(e){for(var t=r(e),n=e.length,a=0,i=0,l=e;i<l.length;i++){var u=l[i];a+=Math.pow(u-t,2)}return n>1?a/(n-1):0}Object.defineProperty(t,"__esModule",{value:!0}),t.aggregateFunction=function(e,t){var r=i[e.toLowerCase()];if(null==r)throw new Error("Function Not Recognised");if(t.length<r.minParams||t.length>r.maxParams)throw new Error("Invalid Parameter count for call to "+e.toUpperCase());return r.evaluate(t)},t.isAggregate=function(e,t){var r=i[e.toLowerCase()];return null!=r&&t>=r.minParams&&t<=r.maxParams};var i={min:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.min.apply(Math,e[0])}},max:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.max.apply(Math,e[0])}},avg:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:r(e[0])}},sum:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:n(e[0])}},stddev:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:Math.sqrt(a(e[0]))}},count:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:e[0].length}},var:{minParams:1,maxParams:1,evaluate:function(e){return null==e[0]?null:a(e[0])}}}}.apply(null,n))||(e.exports=a)},zDti:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("Q2wQ"),r("HZ3d"),r("0+sO"),r("qMld"),r("8uEs"),r("d466"),r("Lzvl"),r("fw2w"),r("nrlZ"),r("Fzzg"),r("+6sX"),r("Jvs9"),r("Q2Em"),r("V1i6")],void 0===(a=function(e,t,r,n,a,i,l,u,s,o,c,f,p,h,m,v){function d(e,a,i){return n(this,void 0,void 0,function(){var n,l,c,f,p;return r(this,function(r){switch(r.label){case 0:return e?(n=e.where,e.where=n=n&&n.trim(),(!n||/^1 *= *1$/.test(n)||a&&a===n)&&(e.where=null),e.geometry?[4,g(e)]:[2,e]):[2,null];case 1:return l=r.sent(),e.distance=0,e.units=null,"esriSpatialRelEnvelopeIntersects"===e.spatialRel&&(c=e.geometry.spatialReference,(l=u.getGeometryExtent(l)).spatialReference=c),e.geometry=l,[4,m.checkProjectionSupport(l.spatialReference,i)];case 2:return r.sent(),[4,o.normalizeCentralMeridian(s.fromJSON(l))];case 3:return f=r.sent(),[4,m.project(f[0].toJSON(),f[0].spatialReference,i)];case 4:if(!(p=r.sent()))throw t.QUERY_ENGINE_EMPTY_RESULT;return p.spatialReference=i,e.geometry=p,[2,e]}})})}function g(e){var t=e.geometry,r=e.distance,n=e.units;if(null==r)return i.resolve(t);var a=t.spatialReference,u=n&&y.fromJSON(n)||l.getUnitString(a);return(a&&(c.isGeographic(a)||c.isWebMercator(a))?i.resolve(t):m.checkProjectionSupport(a,c.WGS84).then(function(){return m.project(t,c.WGS84)})).then(function(e){return v.getGeodesicBufferOperator().then(function(t){return t(e,r,u).toJSON()})})}Object.defineProperty(t,"__esModule",{value:!0});var y=new a.default({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});t.QUERY_ENGINE_EMPTY_RESULT=Object.freeze({});var N=new h.default,P=new h.default,S={esriGeometryPoint:p.convertToPoint,esriGeometryPolyline:p.convertToPolyline,esriGeometryPolygon:p.convertToPolygon,esriGeometryMultipoint:p.convertToMultipoint};t.getCentroid=function(e,t,r){if("esriGeometryPolygon"!==e.geometryType)return null;if(!t.centroid&&!t.geometry)return null;if(t.centroid||(t.centroid=f.getCentroidOptimizedGeometry(new h.default,t.geometry,e.hasZ,e.hasM)),r){var n=p.quantizeOptimizedGeometry(P,t.centroid,e.hasZ,e.hasM,"esriGeometryPoint",r);return p.convertToPoint(n,e.hasZ,e.hasM)}return p.convertToPoint(t.centroid,e.hasZ,e.hasM)},t.getGeometry=function(e,t,r,n){var a="coords"in t?t:t.geometry;if(!a)return null;if(r){var i=p.generalizeOptimizedGeometry(N,a,e.hasZ,e.hasM,e.geometryType,r);return n?(i=p.quantizeOptimizedGeometry(P,i,e.hasZ,e.hasM,e.geometryType,n),S[e.geometryType](i,e.hasZ,e.hasM)):S[e.geometryType](i,e.hasZ,e.hasM)}if(n)return i=p.quantizeOptimizedGeometry(P,a,e.hasZ,e.hasM,e.geometryType,n),S[e.geometryType](i,e.hasZ,e.hasM);return S[e.geometryType](a,e.hasZ,e.hasM)},t.normalizeQuery=function(e,t,a){return n(this,void 0,void 0,function(){var n,i,l,u,s;return r(this,function(r){if(n=e.outFields,i=e.orderByFields,l=e.groupByFieldsForStatistics,u=e.outStatistics,n)for(s=0;s<n.length;s++)n[s]=n[s].trim();if(i)for(s=0;s<i.length;s++)i[s]=i[s].trim();if(l)for(s=0;s<l.length;s++)l[s]=l[s].trim();if(u)for(s=0;s<u.length;s++)u[s].onStatisticField&&(u[s].onStatisticField=u[s].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),[2,d(e,t,a)]})})},t.normalizeFilter=function(e,t,a){return n(this,void 0,void 0,function(){return r(this,function(r){return[2,d(e,t,a)]})})},t.cleanFromGeometryEngine=function(e){return e&&w in e?JSON.parse(JSON.stringify(e,T)):e};var w="_geVersion",T=function(e,t){return e!==w?t:void 0}}.apply(null,n))||(e.exports=a)}}]);