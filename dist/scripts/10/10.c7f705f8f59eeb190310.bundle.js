/*! For license information please see 10.c7f705f8f59eeb190310.bundle.js.LICENSE */
(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/2d/engine/webgl/fontUtils":"0XPR","esri/views/2d/engine/webgl/util/BidiText":"2Gaw","esri/views/2d/engine/webgl/mesh/templates/WGLLineTemplate":"65my","esri/views/2d/engine/webgl/mesh/templates/ComputedGlyph":"75dh","esri/views/2d/engine/webgl/mesh/templates/util":"8Lwu","esri/views/2d/engine/webgl/mesh/templates/WGLLabelTemplate":"AKDC","esri/views/2d/engine/webgl/mesh/templates/WGLFillTemplate":"BU48","esri/views/2d/engine/webgl/util/Matcher":"CX95","esri/views/2d/engine/cim/CIMPlacements":"DxV2","esri/views/2d/engine/cim/CIMOperators":"EC3/","esri/views/2d/engine/webgl/mesh/VertexVector":"FDNA","esri/views/2d/engine/webgl/CIMSymbolDrawHelper":"FgMG","esri/views/2d/engine/webgl/mesh/templates/WGLDynamicMarkerTemplate":"Hcrl","esri/views/2d/engine/webgl/util/Lock":"KAqe","esri/views/2d/engine/webgl/mesh/factories/VVFactory":"KFsD","esri/views/2d/engine/webgl/mesh/factories/WGLMeshFactory":"LCdb","esri/views/2d/engine/webgl/mesh/templates/WGLTemplateStore":"MGRT","esri/views/2d/engine/webgl/CIMSymbolHelper":"MYW0","esri/views/2d/engine/webgl/util/vvFlagUtils":"MtZC","esri/views/2d/engine/webgl/mesh/templates/WGLMeshTemplate":"MzWl","esri/views/2d/engine/cim/cimAnalyzer":"NSdr","esri/views/2d/engine/webgl/util/Result":"PlK1","esri/views/2d/engine/webgl/collisions/LayerCollisionInfo":"S0eh","esri/views/2d/engine/cim/CIMCursor":"bGfK","esri/views/2d/engine/webgl/mesh/factories/matcherUtils":"bLBh","esri/views/2d/engine/webgl/TextShapingNew":"bUZ0","esri/views/2d/engine/webgl/mesh/MeshData":"cF6f","esri/views/2d/engine/webgl/mesh/templates/WGLMarkerTemplate":"cjzh","esri/views/2d/engine/webgl/mesh/templates/GlyphGroup":"e2Y+","esri/views/2d/engine/cim/CIMEffects":"l9lW","esri/core/libs/libtess/libtess":"lnyn","esri/core/MapPool":"loiZ","esri/views/2d/engine/webgl/materialKey/MaterialKey":"m87x","esri/views/2d/engine/webgl/SDFHelper":"qDit","esri/views/2d/engine/webgl/mesh/templates/WGLTextTemplate":"t1uL","esri/views/2d/engine/webgl/mesh/Tesselator":"v3M4","esri/views/2d/layers/graphics/graphicsUtils":"wjMf","esri/views/2d/engine/webgl/mesh/templates/WGLDynamicMeshTemplate":"yVlQ"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"0XPR":function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getFullyQualifiedFontName=function(e){var t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblic":return"-italic"}return""}(e);return function(e){var t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}(e.family)+(0<t.length?t:"-regular")},t.getFontDecorationTop=function(e){switch(e.decoration.toLowerCase()){case"underline":return-26;case"line-through":return-18}return NaN}}.apply(null,i))||(e.exports=n)},"2Gaw":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("Nh3O")],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=new r;t.bidiText=function(e){return i.hasBidiChar(e)?(t="rtl"===i.checkContextual(e)?"IDNNN":"ICNNN",[i.bidiTransform(e,t,"VLYSN"),!0]):[e,!1];var t}}.apply(null,i))||(e.exports=n)},"65my":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("qsST"),r("jBNx"),r("4F/P"),r("tI6k"),r("JNkf"),r("wURW"),r("Dos2"),r("GDRe"),r("apbF"),r("hNI9"),r("m87x"),r("MzWl")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d){Object.defineProperty(t,"__esModule",{value:!0});var m=i.getLogger("esri.views.2d.engine.webgl.WGLLineTemplate"),g=65535,y=l.allocTriangles(20),v=l.allocTriangles(20),_=[l.allocExtrudeVectors(),l.allocExtrudeVectors()],x=l.allocExtrudeVectors(),w=s.TILE_SIZE+8,b=31,T=new l.Tessellator({distanceAlongCorrection:!0}),S=new h.TileClipper(0,0,0,1,8);S.setExtent(s.TILE_SIZE);var M=function(e){function t(t,r,i,n,o,s,l,u,h,c,p,d){var m=e.call(this)||this;m.width=i,m.capType=n,m.joinType=o,m.fillColor=s,m.tl=l,m.br=u,m.hasPattern=h,m.isDashed=c,m.isColorLocked=p,m.isOutline=d,m.geometryType=a.WGLGeometryType.LINE;var g=f.LineMaterialKey.load(f.createMaterialKey(m.geometryType,t,d));return r&&(g.sdf=r.sdf,g.pattern=!0,g.textureBinding=r.textureBinding),m._materialKey=g.data,m._bitset=p?1:0,m}return r(t,e),t.fromCIMLine=function(e,r,i,s){var l=r.color,h=r.isDashed,c=r.cap;h&&c===a.CapType.ROUND&&(c=a.CapType.SQUARE);var p=r.join,f=n.pt2px(r.width),d=l&&o.premultiplyAlphaRGBA(l)||0;if(!i)return new t(e,i,f,c,p,d,0,0,!1,h,r.colorLocked,s);var m=i.rect,g=i.width,y=i.height,v=m.x+1,_=m.y+1,x=m.x+1+g,w=m.y+1+y;return new t(e,i,f,c,p,d,u.i1616to32(v,_),u.i1616to32(x,w),!0,h,r.colorLocked,s)},t.fromSimpleLine=function(e,r,i,s){var a=i.color,l="solid"!==i.style&&"none"!==i.style,h=c.getCapType(i.cap||"round",l),p=c.getJoinType(i.join||"round"),f=a&&"none"!==i.style&&o.premultiplyAlphaRGBA(a)||0;if("none"===i.style&&(f=0),!s)return new t(e,s,n.pt2px(i.width),h,p,f,0,0,!1,l,!1,r);var d=s.rect,m=s.width,g=s.height,y=d.x+1,v=d.y+1,_=d.x+1+m,x=d.y+1+g,w=u.i1616to32(y,v),b=u.i1616to32(_,x);return new t(e,s,n.pt2px(i.width),h,p,f,w,b,!0,l,!1,r)},t.fromPictureLineSymbol=function(e,t,r,i){return m.error("PictureLineSymbol support does not exist!"),null},t.prototype.writeMesh=function(e,t,r,i,n,o,s,a){var l=1/o;this.halfWidth=0<this.width?.5*(this.width+l):0;var u=t.indexVector,h=t.get("geometry"),c=t.get("visibility"),d=this.halfWidth,g=new p(i,this.geometryType,this._materialKey),y=f.LineMaterialKey.load(this._materialKey),v=t.getVector("geometry").vertexCount;switch(g.vertexFrom=v,g.indexFrom=u.length,r){case"esriGeometryPolyline":var _=n.geometry.paths;if(0===(x=this._clipLines(_)).length)return;return this._write(g,u,h,c,v,i,d,x,y,s,a),void e.push(g);case"esriGeometryPolygon":var x,w=n.geometry.rings;if(0===(x=this._clipLines(w)).length)return;return this._write(g,u,h,c,v,i,d,x,y,s,a),void e.push(g);default:m.error("Unable to handle geometryType: "+r)}},t.prototype._clipLines=function(e){for(var t=[],r=!1,i=0;i<e.length;){var n=[],o=e[i];S.reset(2);var s=o[0],a=s[0],l=s[1];if(r)S.moveTo(a,l);else{if(a<-8||w<a||l<-8||w<l){r=!0;continue}n.push({x:a,y:l})}for(var u=!1,h=o.length,c=1;c<h;++c)if(a+=o[c][0],l+=o[c][1],r)S.lineTo(a,l);else{if(a<-8||w<a||l<-8||w<l){u=!0;break}n.push({x:a,y:l})}if(u)r=!0;else{if(r){var p=S.resultWithStarts();if(p)for(var f=0,d=p;f<d.length;f++){var m=d[f];t.push(m)}}else t.push({line:n,start:0});i++,r=!1}}return t},t.prototype._write=function(e,t,r,i,n,o,s,a,u,h,c){for(var p=0,f=0,d=a;f<d.length;f++){var m=d[f],v=m.line,w=m.start;if(!(v.length<2))for(var b=v[0],S=v[v.length-1],M=S.x-b.x,E=S.y-b.y,L=M*M+E*E<1e-6,I=w%g,G=_[1],C=0;C<v.length;C++){var V=v[C],N=G===_[C%2]?_[(C+1)%2]:_[C%2],P=0===C,O=C===v.length-1;if(O&&L&&!this.hasPattern?l.copyExtrudeVectors(N,x):(this._computeExtrudeVectors(N,C,v,L),p+=this._writeVertices(r,i,o,s,V.x,V.y,N,I,p,u,h,c),null==N.capCenter||L&&O||this._writePieIndices(e,t,n,N),L&&P&&!this.hasPattern&&l.copyExtrudeVectors(x,N)),P||this._writeBridgeIndices(e,t,n,G,N),!O){var k=v[C+1],D=[k.x-V.x,k.y-V.y],A=l.length(D),R=[D[0]/A,D[1]/A],F=I+A;if(g<F){var U=(g-I)/(F-I),z=V.x+(k.x-V.x)*U,B=V.y+(k.y-V.y)*U,W=G;T.buttCap(W,R,R),p+=this._writeVertices(r,i,o,s,z,B,W,g,p,u,h,c),T.bridge(y,N,W),this._writeBridgeIndices(e,t,n,N,W),T.buttCap(W,R,R),I=F-g}else I=F,G=N}}}e.vertexCount=p},t.prototype._writeVertices=function(e,t,r,i,n,o,s,a,l,h,c,p){for(var f=0,d=u.i1616to32(n,o),m=s.vectors,g=m.items,y=m.count;f<y;++f){var v=g[f].vector,_=v[0],x=v[1],w=g[f].texCoords,T=w[0],S=w[1],M=g[f].direction,E=M[0],L=M[1],I=u.i1616to32(a,b*i),G=u.i8888to32(Math.round(b*_),Math.round(b*x),Math.round(b*T),Math.round(b*S)),C=u.i8888to32(Math.round(b*E),Math.round(b*L),0,this._bitset);e.push(d),e.push(r),e.push(this.fillColor),e.push(G),e.push(I),e.push(this.tl),e.push(this.br),e.push(C),this._writeVV(e,c,h),t.push(p),g[f].base={index:l+f,point:[n,o]}}return f},t.prototype._writeVV=function(e,t,r){r.hasVV()&&(e.push(t[a.VVType.SIZE]),e.push(t[a.VVType.COLOR]),e.push(t[a.VVType.OPACITY]))},t.prototype._writeBridgeIndices=function(e,t,r,i,n){T.bridge(y,i,n);for(var o=0;o<y.count;++o){var s=y.items[o];t.push(r+s.v1.base.index),t.push(r+s.v2.base.index),t.push(r+s.v3.base.index),e.indexCount+=3}},t.prototype._writePieIndices=function(e,t,r,i){T.pie(v,i);for(var n=0;n<v.count;++n){var o=v.items[n];t.push(r+o.v1.base.index),t.push(r+o.v2.base.index),t.push(r+o.v3.base.index),e.indexCount+=3}},t.prototype._computeExtrudeVectors=function(e,t,r,i){var n=r[t],o=[void 0,void 0],s=[void 0,void 0];if(0<t&&t<r.length-1){var a=r[(t+r.length-1)%r.length],u=r[(t+1)%r.length];l.normalize(o,[n.x-a.x,n.y-a.y]),l.normalize(s,[u.x-n.x,u.y-n.y])}else if(0===t)if(u=r[(t+1)%r.length],l.normalize(s,[u.x-n.x,u.y-n.y]),i){var h=r[r.length-2];l.normalize(o,[n.x-h.x,n.y-h.y])}else o=s;else{if(t!==r.length-1)return;if(a=r[(t+r.length-1)%r.length],l.normalize(o,[n.x-a.x,n.y-a.y]),i){var c=r[1];l.normalize(s,[c.x-n.x,c.y-n.y])}else s=o}i||0!==t?i||t!==r.length-1?this._computeJoinExtrudeVectors(e,o,s):this._computeCapExtrudeVectors(e,o,s,l.CapPosition.END):this._computeCapExtrudeVectors(e,o,s,l.CapPosition.START)},t.prototype._computeCapExtrudeVectors=function(e,t,r,i){switch(this.capType){case a.CapType.BUTT:return void T.buttCap(e,t,r);case a.CapType.ROUND:var n=l.getNumberOfSlices(Math.PI),o=i===l.CapPosition.START?-1:1;return void T.roundCap(e,t,r,i,n,o);case a.CapType.SQUARE:return void(this.isDashed?T.squareCapForDashedLines(e,t,r,i):T.squareCap(e,t,r,i));default:return m.error("Encountered unknown cap type: "+this.capType+", defaulting to BUTT"),void T.buttCap(e,t,r)}},t.prototype._computeJoinExtrudeVectors=function(e,t,r){var i=l.getRads(t,r);if(i>Math.PI-.05)T.rectJoin(e,t,r);else if(this.joinType===a.JoinType.MITER||i<.1)i<.05?T.fastMiterJoin(e,t,r):i<l.MITER_SAFE_RADS?T.miterJoin(e,t,r):T.bevelJoin(e,t,r,l.SYSTEM_MAG_LIMIT);else if(this.joinType===a.JoinType.BEVEL)T.bevelJoin(e,t,r,1);else if(this.joinType===a.JoinType.ROUND){var n=l.getNumberOfSlices(i);i<2.3?n<2||i<.5?T.bevelJoin(e,t,r,1):T.roundJoin(e,t,r,n):T.unitRoundJoin(e,t,r,n)}},t}(d.default);t.default=M}.apply(null,i))||(e.exports=n)},"75dh":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("W9tT"),r("ab6c"),r("tI6k"),r("Dos2"),r("x84Q")],void 0===(n=function(e,t,r,i,n,o,s){Object.defineProperty(t,"__esModule",{value:!0});var a=i.vec2f32.create(),l=function(){function e(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d){this.anchorX=e,this.anchorY=t,this.angle=r,this.bounds=i,this.minZoom=n,this.maxZoom=o,this.materialKey=s,this.vertexOffsetUpperLeft=a,this.vertexOffsetUpperRight=l,this.vertexOffsetLowerLeft=u,this.vertexOffsetLowerRight=h,this.texFontSizeUpperLeft=c,this.texFontSizeUpperRight=p,this.texFontSizeLowerLeft=f,this.texFontSizeLowerRight=d}return e.from=function(t,i,l,u,h,c,p,f,d,m,g,y,v,_,x){void 0===_&&(_=!1),void 0===x&&(x=!1);var w=f.rect,b=f.metrics,T=-1===h?255:Math.floor(180*h/Math.PI/360*254),S=Math.round(w.x/4),M=Math.round(w.y/4),E=S+Math.round(w.width/4),L=M+Math.round(w.height/4),I=-24-b.top,G=b.left,C=-b.top,V=w.width,N=w.height;!d&&(x||(I=0),G=4,V=b.width);var P=t+G,O=x?i+C:i+I,k=P+V,D=O,A=P,R=O+N,F=k,U=R,z=A+b.width,B=R-b.height,W=b.width*y/24,H=b.height*y/24;if(g){var j=a,q=g;r.vec2.transformMat2d(j,r.vec2.set(j,P,O),q),P=j[0],O=j[1],r.vec2.transformMat2d(j,r.vec2.set(j,k,D),q),k=j[0],D=j[1],r.vec2.transformMat2d(j,r.vec2.set(j,A,R),q),A=j[0],R=j[1],r.vec2.transformMat2d(j,r.vec2.set(j,F,U),q),F=j[0],U=j[1],r.vec2.transformMat2d(j,r.vec2.set(j,z,B),q),z=j[0],B=j[1]}return new e(0|l,0|u,T,_?new s.default(z,B,W+n.COLLISION_BOX_PADDING,H+n.COLLISION_BOX_PADDING):null,c,p,m,o.i1616to32(8*P,8*O),o.i1616to32(8*k,8*D),o.i1616to32(8*A,8*R),o.i1616to32(8*F,8*U),o.i8888to32(S,M,y,v),o.i8888to32(E,M,y,v),o.i8888to32(S,L,y,v),o.i8888to32(E,L,y,v))},e}();t.default=l}.apply(null,i))||(e.exports=n)},"8Lwu":function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){function r(e,t){return Math.sqrt(e*e+t*t)}Object.defineProperty(t,"__esModule",{value:!0}),t.sub=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e},t.len=r,t.normalize=function(e){var t=r(e[0],e[1]);e[0]/=t,e[1]/=t},t.dist=function(e,t){return r(e[0]-t[0],e[1]-t[1])},t.isFunction=function(e){return"function"==typeof e}}.apply(null,i))||(e.exports=n)},AKDC:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("ma1f"),r("qsST"),r("aMdW"),r("Zx0K"),r("W9tT"),r("ab6c"),r("tI6k"),r("JNkf"),r("Dos2"),r("Id87"),r("fVTS"),r("m87x"),r("e2Y+"),r("8Lwu"),r("t1uL"),r("AzkI"),r("BEeJ")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d,m,g,y,v,_){Object.defineProperty(t,"__esModule",{value:!0});var x=n.getLogger("esri.views.2d.engine.webgl.WGLLabelTemplate"),w=c.i8888to32(255,255,255,255),b=l.vec2f32.create(),T=s.mat2df32.create(),S={xOffset:0,yOffset:0,width:0,height:0},M=function(e,t){return void 0===t&&(t="mapview-labeling"),x.error(new i(t,e))};t.isMapAligned=function(e){switch(e){case"above-along":case"below-along":case"center-along":return 1;default:return 0}};var E=function(e){function t(t,r,i){var n=e.call(this,t,r.symbol)||this;n.geometryType=h.WGLGeometryType.LABEL,n._refTemplate=S;var o,s,a,l,u,c,p=r.symbol,f=(s=i,a=!!(o=r).minScale&&s.scaleToZoom(o.minScale)||0,v.clamp(a,0,25.5)),m=(u=i,c=!!(l=r).maxScale&&u.scaleToZoom(l.maxScale)||255,v.clamp(c,0,25.5)),g=function(e){switch(e){case"above-left":return[-1,-1];case"above-center":case"above-along":return[0,-1];case"above-right":return[1,-1];case"center-left":return[-1,0];case"center-center":case"center-along":return[0,0];case"center-right":return[1,0];case"below-left":return[-1,1];case"below-center":case"below-along":return[0,1];case"below-right":return[1,1];case"always-horizontal":return[0,0];default:M("Found invalid placement type "+e)}}(r.labelPlacement),y=g[0],_=g[1];n._justify=(-1*y+1)/2,n._xAlignD=y,n._yAlignD=_,n._xPlacementD=y,n._yPlacementD=_,n._minZoom=f,n._maxZoom=m;var x=d.LabelMaterialKey.load(d.createMaterialKey(n.geometryType,t,!1,r));x.sdf=!0,n._materialKey=x.data;var w=p.font.decoration.toLowerCase();return"underline"===w?n._decorationTop=6:"line-through"===w&&(n._decorationTop=-5),n}return r(t,e),t.fromLabelClass=function(e,r,i){return new t(e,r,i)},t.prototype.bindTextInfo=function(e,t,r){var i=this._computeShaping(e,this._justify).getShaping(t,r);isNaN(this._decorationTop)||p.addDecoration(i,this._decorationTop),this._shapedGlyphs=i,this._shapedBox=p.getBox(i)},t.prototype._computeShaping=function(e,t){return new p([e],u.TEXT_MAX_WIDTH,u.TEXT_LINE_HEIGHT,u.TEXT_SPACING,[0,0],.5,.5,t)},Object.defineProperty(t.prototype,"bounds",{get:function(){return this._bounds},enumerable:!0,configurable:!0}),t.prototype.bindReferenceTemplate=function(e){this._refTemplate=e||S},t.prototype._placeGlyphs=function(e,t,r,i){var n=this._size,o=this._haloSize,s=this._shapedBox,a=this._shapedGlyphs,l=this._computeGlyphTransform(s);if("esriGeometryPolyline"===e)for(var u=0;u<r.length;u++){T=r[u];for(var h=this._shapedBox.width*this._scale,c=function(e){return!(e%2)},p=T.order,f=p-(p-1)/2-1,d=f-(f-1)/2-1,m=d-(d-1)/2-1,g=-1===p?0:c(p)?i-.1:c(f)?i-1.1:c(d)?i-2.1:c(m)?i-3.1:0,y=Math.max(i+v.log2((h+48)/T.pathLen),Math.max(g,this._minZoom)),_=0,x=a;_<x.length;_++)E=x[_],T.place(E,e,t,l,this._materialKey,n,o,s,i,y,this._maxZoom)}else for(var w=0,b=r;w<b.length;w++)for(var T=b[w],S=0,M=a;S<M.length;S++){var E=M[S];T.place(E,e,t,l,this._materialKey,n,o,s,i,this._minZoom,this._maxZoom)}},t.prototype.writeMesh=function(e,t,r,i,n,o,s,a,l,p){var m=this,g=this._computeAnchors(r,n),y=c.i8888to32(0,0,0,this._bitset);if(g.length&&this._shapedGlyphs.length){this._placeGlyphs(r,n,g,l);var v=d.LabelMaterialKey.load(this._materialKey);if("esriGeometryPolyline"!==r){var _=g[0],x=this._shapedBox,w=this._computeGlyphTransform(x),b=this._createBounds(this._shapedBox,w),T=_.glyphs.get(0),S=T[0],M=S.anchorX,E=S.anchorY,L=Math.floor(10*S.minZoom),I=Math.floor(10*S.maxZoom),G=e.length;T.forEach(function(e){e.minZoom=25.5,e.maxZoom=25.5}),this._writeVertices(e,t,i,s,T,a,v,y,L,I);var C={from:G,count:e.length-G},V=new f.default(i,C,M,E,L),N=Math.max(this._refTemplate.height,this._refTemplate.width);return v.vvSizeFieldStops||v.vvSizeMinMaxValue||v.vvSizeScaleStops||v.vvSizeUnitValue?V.setVV(c.toFloat32(s[h.VVType.SIZE]),N,this._xPlacementD,this._yPlacementD):(V.offsetX=(N/2+u.COLLISION_PLACEMENT_PADDING)*this._xPlacementD,V.offsetY=(N/2+u.COLLISION_PLACEMENT_PADDING)*this._yPlacementD),V.bounds=b,p.push(V),void _.clear()}for(var P=function(r){var n=g[r],o=n.x,l=n.y,u=e.length,h=new f.default(i,{from:u,count:-1},o,l,25.5);n.glyphs.forEach(function(r){for(var u=0,c=r;u<c.length;u++){var p=c[u];if(p.minZoom=Math.max(n.minZoom,p.minZoom),p.bounds){var f=p.anchorX-o,d=p.anchorY-l;p.bounds.center[0]+=f,p.bounds.center[1]+=d,h.add(p.bounds)}}h.bounds&&m._writeHalos(e,t,i,s,r,a,v,y)}),n.glyphs.forEach(function(r){h.bounds&&m._writeText(e,t,i,s,r,a,v,y)}),h.range.count=e.length-u,h.bounds&&p.push(h),n.clear()},O=0;O<g.length;O++)P(O);this._computedGlyphs=[]}},t.prototype._outsideTile=function(e,t){return e<0||512<=e||t<0||512<=t},t.prototype._smoothVertices=function(e,t){if(!(t<=0)){var r=e.length;if(!(r<3)){var i=[],n=0;i.push(0);for(var o=1;o<r;o++)n+=g.dist(e[o],e[o-1]),i.push(n);t=Math.min(t,.2*n);var s=[];s.push(e[0][0]),s.push(e[0][1]);var a=e[r-1][0],l=e[r-1][1],u=g.sub([0,0],e[0],e[1]);for(g.normalize(u),e[0][0]+=t*u[0],e[0][1]+=t*u[1],g.sub(u,e[r-1],e[r-2]),g.normalize(u),e[r-1][0]+=t*u[0],e[r-1][1]+=t*u[1],o=1;o<r;o++)i[o]+=t;i[r-1]+=t;var h=.5*t;for(o=1;o<r-1;o++){for(var c=0,p=0,f=0,d=o-1;0<=d&&!(i[d+1]<i[o]-h);d--){var m=h+i[d+1]-i[o],y=i[d+1]-i[d],v=i[o]-i[d]<h?1:m/y;if(Math.abs(v)<1e-6)break;var _=v*m-.5*(S=v*v)*y,x=v*y/t,w=e[d+1],b=e[d][0]-w[0],T=e[d][1]-w[1];c+=x/_*(w[0]*v*m+.5*S*(m*b-y*w[0])-S*v*y*b/3),p+=x/_*(w[1]*v*m+.5*S*(m*T-y*w[1])-S*v*y*T/3),f+=x}for(d=o+1;d<r&&!(i[d-1]>i[o]+h)&&(m=h-i[d-1]+i[o],y=i[d]-i[d-1],v=i[d]-i[o]<h?1:m/y,!(Math.abs(v)<1e-6));d++){var S;_=v*m-.5*(S=v*v)*y,x=v*y/t,w=e[d-1],b=e[d][0]-w[0],T=e[d][1]-w[1],c+=x/_*(w[0]*v*m+.5*S*(m*b-y*w[0])-S*v*y*b/3),p+=x/_*(w[1]*v*m+.5*S*(m*T-y*w[1])-S*v*y*T/3),f+=x}s.push(c/f),s.push(p/f)}for(s.push(a),s.push(l),o=0,d=0;o<r;o++)e[o][0]=s[d++],e[o][1]=s[d++]}}},t.prototype._computeLineAnchors=function(e,t,r){for(var i=t.paths,n=this._scale*this._shapedBox.width,o=n/2+r,s=n/2+16,a=this._shapedBox.width*this._scale,l=0;l<i.length;l++){var u=i[l],h=[];h.push(u[0]);for(var c=1;c<u.length;c++){var p=h[c-1],f=p[0],d=p[1];f+=u[c][0],d+=u[c][1],h.push([f,d])}this._smoothVertices(h,a);var g=[];g.push(h[0]);for(var y=1;y<h.length;y++){var v=h[y-1],_=v[0],x=v[1],w=h[y],b=w[0],T=w[1],S=Math.round(b-_),M=Math.round(T-x);g.push([S,M])}u=i[l]=g;var E=this._getPathLength(u);if(!(E<2*s))for(var L=E/2,I=0,G=u[0][0],C=u[0][1],V=1;V<u.length;V++){S=u[V][0],M=u[V][1];var N=Math.sqrt(S*S+M*M);if(0<=(I+=N)-L){var P=I-L,O=N-P,k=O/N,D=G+S*k,A=C+M*k;if(!this._outsideTile(D,A)){var R=new m.default(D,A,k,l,V,G,C,N,E,-1);e.push(R)}var F=-1,U=0;for(U=O-o;0<=U;U-=o){var z=U/N,B=G+S*z,W=C+M*z;F++,this._outsideTile(B,W)||(R=new m.default(B,W,z,l,V,G,C,N,E,F),e.push(R))}I=U+o;for(var H=N-P,j=G,q=C,X=V-1;0!==X;X--){var K=u[X][0],Y=u[X][1],Z=Math.sqrt(K*K+Y*Y);if(o<=I+Z){for(var Q=o-I;Q<Z;Q+=o){var J=Q/Z,$=j-K*J,ee=q-Y*J;F++,Q+H+s<L&&!this._outsideTile($,ee)&&(R=new m.default($,ee,1-J,l,X,j-K,q-Y,Z,E,F),e.push(R))}I=Z-(Q-o)}else I+=Z;H+=Z,j-=K,q-=Y}var te=-1;for(U=O+o;U<=N;U+=o){var re=U/N,ie=G+S*re,ne=C+M*re;te++,this._outsideTile(ie,ne)||(R=new m.default(ie,ne,re,l,V,G,C,N,E,te),e.push(R))}for(j=G+S,q=C+M,I=N-(U-o),H=P,X=V+1;X<u.length;X++){var oe=u[X][0],se=u[X][1],ae=Math.sqrt(oe*oe+se*se);if(o<=I+ae){for(var le=o-I;le<ae;le+=o){var ue=le/ae,he=j+oe*ue,ce=q+se*ue;te++,le+H+s<L&&!this._outsideTile(he,ce)&&(R=new m.default(he,ce,ue,l,X,j,q,ae,E,te),e.push(R))}I=ae-(le-o)}else I+=ae;H+=ae,j+=oe,q+=se}break}G+=S,C+=M}}return e},t.prototype._computeAnchors=function(e,t){var r=[];switch(e){case"esriGeometryPoint":var i=t.geometry,n=i.x,o=i.y,s=new m.default(n,o);return r.push(s),r;case"esriGeometryPolygon":if(t.centroid){var a=t.centroid;return n=a.x,o=a.y,s=new m.default(n,o),r.push(s),r}M("Non-centroid polygon anchor placement not supported");break;case"esriGeometryPolyline":return this._computeLineAnchors(r,t.geometry,376);case"esriGeometryMultipoint":default:return M("Unable to handle geometryType: "+e),r}},t.prototype._getPathLength=function(e){for(var t=0,r=1;r<e.length;r++){var i=e[r][0],n=e[r][1];t+=Math.sqrt(i*i+n*n)}return t},t.prototype._computeGlyphTransform=function(e){var t=this._scale,r=this._angle*_.C_DEG_TO_RAD,i=e.x,n=e.y,s=e.width/2,l=e.height/2,u=i+s,h=n+l,c=this._xAlignD*(s*t),p=this._yAlignD*(l*t),f=c+(this._xOffset+this._refTemplate.xOffset)+u,d=p-(this._yOffset+this._refTemplate.yOffset)-h,m=o.mat2d.identity(T);return o.mat2d.translate(m,m,a.vec2.set(b,f,d)),o.mat2d.scale(m,m,a.vec2.set(b,t,t)),o.mat2d.rotate(m,m,r),m},t.prototype._writeVertex=function(e,t,r,i,n,o,s,a,l,u){var p=t.get("geometry"),f=t.get("visibility"),d=t.get("visibilityRange"),m=a&&a[h.VVType.SIZE]||1,g=Math.min(Math.floor(Math.max(this._refTemplate.width,this._refTemplate.height)),255),y=this._xPlacementD+1,v=this._yPlacementD+1;this._refSymbolAndPlacementOffset=c.i8888to32(o.angle,g,y,v),p.push(i),p.push(n),p.push(o.vertexOffsetUpperLeft),p.push(o.texFontSizeUpperLeft),p.push(this._refSymbolAndPlacementOffset),p.push(m),f.push(l),p.push(i),p.push(n),p.push(o.vertexOffsetUpperRight),p.push(o.texFontSizeUpperRight),p.push(this._refSymbolAndPlacementOffset),p.push(m),f.push(l),p.push(i),p.push(n),p.push(o.vertexOffsetLowerLeft),p.push(o.texFontSizeLowerLeft),p.push(this._refSymbolAndPlacementOffset),p.push(m),f.push(l),p.push(i),p.push(n),p.push(o.vertexOffsetLowerRight),p.push(o.texFontSizeLowerRight),p.push(this._refSymbolAndPlacementOffset),p.push(m),f.push(l),d.push(w),d.push(w),e.vertexCount+=4},t}(y.default);t.default=E}.apply(null,i))||(e.exports=n)},BU48:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("qsST"),r("jBNx"),r("1E+e"),r("4F/P"),r("tI6k"),r("JNkf"),r("Dos2"),r("GDRe"),r("hNI9"),r("m87x"),r("v3M4"),r("MzWl")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d){Object.defineProperty(t,"__esModule",{value:!0});var m=i.getLogger("esri.views.2d.engine.webgl.mesh.templates.WGLFillTemplate"),g=[],y=[],v=128,_=function(e){function t(t,r,i,n,o,s,u,c,d){var m=e.call(this)||this;m.fillColor=i,m.tl=n,m.br=o,m.aux1=s,m.aux2=u,m.aux3=c,m.isBFS=d,m.geometryType=l.WGLGeometryType.FILL,m.useLibtess=!0;var g=p.FillMaterialKey.load(p.createMaterialKey(m.geometryType,t,!1));return r&&(g.sdf=r.sdf,g.pattern=!0,g.textureBinding=r.textureBinding),m._materialKey=g.data,m._tesselator=new f.default,m._tileClipper=new h.TileClipper(0,0,0,1,8),m._tileClipper.setExtent(a.TILE_SIZE),m}return r(t,e),t.fromCIMFill=function(e,r,i,o){void 0===o&&(o=!1);var a=r.color,l=a&&s.premultiplyAlphaRGBA(a)||0,h=u.i8888to32(0,0,0,r.colorLocked?1:0);if(!i)return new t(e,null,l,0,0,0,0,h,o);var c=i.rect,p=i.width,f=i.height,d=c.x+1,m=c.y+1,g=d+p,y=m+f,_=u.nextHighestPowerOfTwo(n.pt2px(r.height||0));255<_?_=255:_<=0&&(_=u.nextHighestPowerOfTwo(y-m));var x=u.nextHighestPowerOfTwo(n.pt2px(r.height/f*p||0));255<x?x=255:x<=0&&(x=u.nextHighestPowerOfTwo(g-d));var w=n.pt2px(r.offsetX||0)+v;255<w&&(w=255);var b=n.pt2px(-r.offsetY||0)+v;255<b&&(b=255);var T=r.scaleX||1;return new t(e,i,l,u.i1616to32(d,m),u.i1616to32(g,y),u.i8888to32(x,_,w,b),u.i1616to32(v*T,128),0,o)},t.fromSimpleFill=function(e,r,i,n){void 0===n&&(n=!1);var o=r.color,a=o&&"none"!==r.style&&s.premultiplyAlphaRGBA(o)||0;if(!i)return new t(e,null,a,0,0,0,0,0,n);var l=i.rect,h=i.width,c=i.height,p=l.x+1,f=l.y+1,d=l.x+1+h,m=l.y+1+c;return new t(e,i,a,u.i1616to32(p,f),u.i1616to32(d,m),u.i8888to32(u.nextHighestPowerOfTwo(d-p),u.nextHighestPowerOfTwo(m-f),0,0),u.i1616to32(v,v),0,n)},t.fromPictureFill=function(e,r,i,o){void 0===o&&(o=!1);var s=a.PICTURE_FILL_COLOR,l=i.rect,h=i.width,c=i.height,p=l.x+1,f=l.y+1,d=p+h,m=f+c,g=u.i1616to32(p,f),y=u.i1616to32(d,m),_=u.nextHighestPowerOfTwo(n.pt2px(r.width));255<_&&(_=255);var x=u.nextHighestPowerOfTwo(n.pt2px(r.height));255<x&&(x=255);var w=n.pt2px(r.xoffset)+v;255<w&&(w=255);var b=n.pt2px(-r.yoffset)+v;return 255<b&&(b=255),new t(e,i,s,g,y,u.i8888to32(_,x,w,b),u.i1616to32(v*r.xscale,v*r.yscale),0,o)},t.prototype.writeMesh=function(e,t,r,i,n,o,s,a){if(g.length=0,"esriGeometryPolygon"===r){var l=n.geometry,u=this._isClippingRequired(l),h=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=e[r],n=i[0],o=n[0],s=n[1],a=1;a<i.length;a++){var l=i[a],u=o+l[0],h=s+l[1];t-=(u-o)*(h+s)/2,o=u,s=h}return t}(l.rings),c=u?this._clip(l,!this.useLibtess):l.rings;return this.useLibtess?this._writeMeshLibtess(e,t,r,i,c,u,o,h,s,a):this._writeMeshEarcut(e,t,r,i,c,u,o,s,a)}m.error("Unable to handle geometryType: "+r)},t.prototype._isClippingRequired=function(e){for(var t=a.TILE_SIZE+8,r=0,i=e.rings;r<i.length;r++){var n=i[r],o=n.length;if(!(o<3)){var s=n[0][0],l=n[0][1];if(s<-8||t<s||l<-8||t<l)return!0;for(var u=1;u<o;++u)if(s+=n[u][0],l+=n[u][1],s<-8||t<s||l<-8||t<l)return!0}}return!1},t.prototype._clip=function(e,t){var r,i;this._tileClipper.reset(3);for(var n=0,o=e.rings;n<o.length;n++){var s=o[n],a=s.length;if(!(a<3)){r=s[0][0],i=s[0][1],this._tileClipper.moveTo(r,i);for(var l=1;l<a;++l)r+=s[l][0],i+=s[l][1],this._tileClipper.lineTo(r,i);this._tileClipper.close()}}return this._tileClipper.result(t)},t.prototype._writeMeshLibtess=function(e,t,r,i,n,o,s,a,l,u){if(n&&n.length){var h=[],f=t.indexVector,d=t.getVector("geometry"),m=t.getVector("visibility"),y=new c(i,this.geometryType,this._materialKey),v=p.FillMaterialKey.load(this._materialKey),_=d.vertexCount,x=o;y.vertexFrom=_,y.indexFrom=f.length,this._tesselator.beginPolygon(g,h);for(var w=0,b=n;w<b.length;w++){var T=b[w];if(!(T.length<3)){this._tesselator.beginContour();var S=void 0,M=void 0;M=x?(S=T[0].x,T[0].y):(S=T[0][0],T[0][1]);var E=[S,M,0];this._tesselator.addVertex(E,E);for(var L=1;L<T.length-1;L++){x?(S=T[L].x,M=T[L].y):(S+=T[L][0],M+=T[L][1]);var I=[S,M,0];this._tesselator.addVertex(I,I)}this._tesselator.endContour()}}this._tesselator.endPolygon(),this._writeVerticesLibTess(y,d,m,i,g,v,a,l,u),this._writeIndicesLibTess(y,f,_,h),0<y.indexCount&&e.push(y)}},t.prototype._writeMeshEarcut=function(e,t,r,i,n,o,s,a,l){if(n&&n.length){var u=t.indexVector,h=t.getVector("geometry"),f=t.getVector("visibility"),d=new c(i,this.geometryType,this._materialKey),m=p.FillMaterialKey.load(this._materialKey),v=h.vertexCount;d.vertexFrom=v,d.indexFrom=u.length,e.push(d);for(var _=0,x=0,w=o,b=0,T=n;b<T.length;b++){var S=T[b],M=x,E=void 0,L=void 0;L=w?(E=S[0].x,S[0].y):(E=S[0][0],S[0][1]),g[x++]=E,g[x++]=L;for(var I=0,G=1;G<S.length;++G){var C=void 0,V=void 0;if(w){var N=E,P=L;C=(E=S[G].x)-N,V=(L=S[G].y)-P}else E+=C=S[G][0],L+=V=S[G][1];I-=C*(L+L+V),g[x++]=E,g[x++]=L}0<I?(0<M-_&&(this._write(d,u,h,f,v,i,g,y,_,M,m,a,l),_=M),y.length=0):I<0&&0<M-_?y.push(.5*(M-_)):x=M}0<x-_&&this._write(d,u,h,f,v,i,g,y,_,x,m,a,l),g.length=y.length=0}},t.prototype._write=function(e,t,r,i,n,s,a,l,u,h,c,p,f){var d=o(a.slice(u,h),l,2);if(d.length){var m=r.vertexCount;this._writeVertices(e,r,i,s,a,l,c,p,f),this._writeIndices(e,t,m,d)}},t.prototype._writeVertices=function(e,t,r,i,n,o,s,a,l){for(var h=0;h<n.length;h+=2){var c=u.i1616to32(n[h],n[h+1]);t.data.push(c),t.data.push(i),t.data.push(this.fillColor),t.data.push(this.tl),t.data.push(this.br),t.data.push(this.aux1),t.data.push(this.aux2),t.data.push(this.aux3),this._writeVV(t.data,a,s),r.data.push(l),e.vertexCount++}},t.prototype._writeIndices=function(e,t,r,i){for(var n=r,o=0;o<i.length;o+=3)t.push(n+i[o]),t.push(n+i[o+1]),t.push(n+i[o+2]),e.indexCount+=3},t.prototype._writeVerticesLibTess=function(e,t,r,i,n,o,s,a,l){for(var h=0;h<n.length;h+=2){var c=u.i1616to32(n[h],n[h+1]);t.data.push(c),t.data.push(i),o.dotDensity||(t.data.push(this.fillColor),t.data.push(this.tl),t.data.push(this.br),t.data.push(this.aux1),t.data.push(this.aux2),t.data.push(this.aux3)),this._writeVV(t.data,a,o),this._writeDD(t.data,o,a,s),r.data.push(l),e.vertexCount++}},t.prototype._writeIndicesLibTess=function(e,t,r,i){for(var n=r,o=0;o<i.length;o++)t.push(n+i[o]),e.indexCount++},t.prototype._writeVV=function(e,t,r){r.hasVV()&&(this.isBFS?(e.writeF32(1e-30),e.writeF32(1e-30)):(e.push(t[l.VVType.COLOR]),e.push(t[l.VVType.OPACITY])))},t.prototype._writeDD=function(e,t,r,i){var n=new Float32Array(r.buffer),o=1/i;t.dotDensity&&(e.writeF32(Math.max(0,n[0]*o)),e.writeF32(Math.max(0,n[1]*o)),e.writeF32(Math.max(0,n[2]*o)),e.writeF32(Math.max(0,n[3]*o)),e.writeF32(Math.max(0,n[4]*o)),e.writeF32(Math.max(0,n[5]*o)),e.writeF32(Math.max(0,n[6]*o)),e.writeF32(Math.max(0,n[7]*o)))},t}(d.default);t.default=_}.apply(null,i))||(e.exports=n)},CX95:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("qsST"),r("apbF")],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=i.getLogger("esri/views/2d/engine/webgl/util/Matcher"),s=function(){function e(){this._defaultResult=null}return e.fromBasicRenderer=function(t,r,i){var n=t.getSymbols(),o=new e;if(n.length){var s=r.createTemplateGroup(n[0],null,t,i);o.setDefault(s)}return o},e.prototype.size=function(){return 1},e.prototype.getDefault=function(){return this._defaultResult},e.prototype.setDefault=function(e){this._defaultResult=e},e.prototype.match=function(e,t,r){return this.getDefault()},e}(),a=function(e){function t(t,r,i,o,s){var a=e.call(this)||this;return a._intervals=[],a._isMaxInclusive=r,o?a._getValue=n.createArcadeFunction(o,s):t&&t.length?a._getValue="function"==typeof t?(a._field=null,t):(a._field=t,a._normalizationInfo=i,a._getValueFromField.bind(a)):a._field=null,a}return r(t,e),t.fromCBRenderer=function(e,r,i){for(var n=e.isMaxInclusive,o=e.valueExpression,s=e.normalizationField,a=e.normalizationTotal,l=e.normalizationType,u=new t(e.field,n,{normalizationField:s,normalizationTotal:a,normalizationType:l},o,i),h=e.backgroundFillSymbol,c=0,p=e.classBreakInfos;c<p.length;c++){var f=p[c],d=f.symbol,m=r.createTemplateGroup(d,h,e,i),g={min:f.minValue,max:f.maxValue};u.add(g,m)}var y=e.defaultSymbol;if(y){var v=r.createTemplateGroup(y,h,e,i);u.setDefault(v)}return u},t.prototype.add=function(e,t){this._intervals.push({interval:e,result:t}),this._intervals.sort(function(e,t){return e.interval.min-t.interval.min})},t.prototype.size=function(){return e.prototype.size.call(this)+this._intervals.length},t.prototype.match=function(e,t,r){if(!this._getValue)return this.getDefault();var i=this._getValue(e,t,r);if(!i&&(null==i||isNaN(i)))return this.getDefault();for(var n=0;n<this._intervals.length;n++){var o=this._intervals[n],s=o.interval,a=o.result,l=i>=s.min,u=this._isMaxInclusive?i<=s.max:i<s.max;if(l&&u)return a}return this.getDefault()},t.prototype._needsNormalization=function(){var e=this._normalizationInfo;return e&&(e.normalizationField||e.normalizationTotal||e.normalizationType)},t.prototype._getValueFromField=function(e){var t=e.attributes[this._field];if(!this._needsNormalization())return t;var r=this._normalizationInfo,i=r.normalizationField,n=r.normalizationTotal,s=r.normalizationType,a=!!i&&e.attributes[i];if(s)switch(s){case"field":return a?t/a:void 0;case"log":return Math.log(t)*Math.LOG10E;case"percent-of-total":return t/n*100;default:return void o.error("Found unknown normalization type: "+s)}else o.error("Normalization is required, but no type was set!")},t}(t.default=s);t.IntervalMatcher=a;var l=function(e){function t(t,r,i,o){var s=e.call(this)||this;return s._resultsMap=new Map,i?s._getValue=n.createArcadeFunction(i,o):t&&t.length?"function"==typeof t[0]?(s._fields=null,s._getValue=t[0]):(s._fields=t,s._seperator=r||"",s._getValue=s._getValueFromFields.bind(s)):s._fields=null,s}return r(t,e),t.fromUVRenderer=function(e,r,i){var n=e.uniqueValueInfos,o=e.fieldDelimiter,s=e.valueExpression,a=[e.field];e.field2&&a.push(e.field2),e.field3&&a.push(e.field3);for(var l=e.backgroundFillSymbol,u=new t(a,o,s,i),h=0,c=n;h<c.length;h++){var p=c[h],f=r.createTemplateGroup(p.symbol,l,e,p);u.add(p.value,f)}if(e.defaultSymbol){var d=r.createTemplateGroup(e.defaultSymbol,l,e,i);u.setDefault(d)}return u},t.prototype.add=function(e,t){this._resultsMap.set(e.toString(),t)},t.prototype.size=function(){return e.prototype.size.call(this)+this._resultsMap.size},t.prototype.match=function(e,t,r){if(!this._getValue)return this.getDefault();var i=this._getValue(e,t,r);if(!i&&null==i)return this.getDefault();var n=i.toString();return this._resultsMap.has(n)?this._resultsMap.get(n):this.getDefault()},t.prototype._getValueFromFields=function(e){for(var t=[],r=0,i=this._fields;r<i.length;r++){var n=i[r],o=e.attributes[n];t.push(o)}return t.join(this._seperator)},t}(s);t.MapMatcher=l}.apply(null,i))||(e.exports=n)},DxV2:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.setIdentity()}return e.prototype.setIdentity=function(){this.tx=0,this.ty=0,this.tz=0,this.s=1,this.rx=0,this.ry=0,this.rz=0,this.rz_c=1,this.rz_s=0},e.prototype.setTranslate=function(e,t){this.tx=e,this.ty=t},e.prototype.setTranslateZ=function(e){this.tz=e},e.prototype.setRotateCS=function(e,t){this.rz=void 0,this.rz_c=e,this.rz_s=t},e.prototype.setRotate=function(e){this.rz=e,this.rz_c=void 0,this.rz_s=void 0},e.prototype.setRotateY=function(e){this.ry=e},e.prototype.setScale=function(e){this.s=e},e.prototype.setMeasure=function(e){this.m=e},e}();t.Placement=r;var i=function(){function e(e){}return e.prototype.next=function(){return null},e}();t.EmptyPlacementCursor=i}.apply(null,i))||(e.exports=n)},"EC3/":function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getEffectOperator=function(e){return null},t.getPlacementOperator=function(e){return null}}.apply(null,i))||(e.exports=n)},FDNA:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("apbF"),r("ph8t"),r("3vQA")],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.data=e,this.stride=t}return Object.defineProperty(e.prototype,"vertexCount",{get:function(){var e=this.stride/4;return this.data.length/e},enumerable:!0,configurable:!0}),e.prototype.transfer=function(e,t){var r=this.data.buffer();e.vertexCount=this.vertexCount,e.data=r,e.stride=this.stride,t.push(r)},e}();t.default=o;var s=function(){function e(e,t,i,s){void 0===s&&(s=!1),this.geometryType=e,this.indexVector=new n.default(Uint32Array,i),this.namedVectors={};var a=r.getStrides(e,t,s);for(var l in a){var u=a[l],h=void 0;switch(u%4){case 0:case 2:h=new n.default(Uint32Array,u/4*i);break;case 1:case 3:h=new n.default(Uint8Array,u*i)}this.namedVectors[l]=new o(h,u)}}return e.prototype.get=function(e){return this.namedVectors[e].data},e.prototype.getVector=function(e){return this.namedVectors[e]},e.prototype.transfer=function(e,t){var r=this.indexVector.buffer(),i={};for(var n in t.push(r),this.namedVectors){var o=this.namedVectors[n];i[n]={},o.transfer(i[n],t)}e.geometryType=this.geometryType,e.indexBuffer=r,e.namedBuffers=i,this.destroy()},e.prototype.intoBuffers=function(){var e=i.VertexBuffers.fromVertexVectors(this);return this.destroy(),e},e.prototype.destroy=function(){this.indexVector=null,this.namedVectors=null},e}();t.VertexVectors=s}.apply(null,i))||(e.exports=n)},FgMG:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("qKT0"),r("Lzvl"),r("l9lW"),r("EC3/"),r("DxV2"),r("VY6u"),r("6cAc")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e){this._t=e}return e.createIdentity=function(){return new e([1,0,0,0,1,0])},e.prototype.clone=function(){return new e(this._t.slice())},e.prototype.transform=function(e){var t=this._t;return[t[0]*e[0]+t[1]*e[1]+t[2],t[3]*e[0]+t[4]*e[1]+t[5]]},e.createScale=function(t,r){return new e([t,0,0,0,r,0])},e.prototype.scale=function(e,t){var r=this._t;return r[0]*=e,r[1]*=e,r[2]*=e,r[3]*=t,r[4]*=t,r[5]*=t,this},e.prototype.scaleRatio=function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])},e.createTranslate=function(t,r){return new e([0,0,t,0,0,r])},e.prototype.translate=function(e,t){var r=this._t;return r[2]+=e,r[5]+=t,this},e.createRotate=function(t){var r=Math.cos(t),i=Math.sin(t);return new e([r,-i,0,i,r,0])},e.prototype.rotate=function(t){return this.multiply(e.createRotate(t))},e.prototype.multiply=function(e){var t=this._t,r=e._t,i=t[0]*r[0]+t[3]*r[1],n=t[1]*r[0]+t[4]*r[1],o=t[2]*r[0]+t[5]*r[1]+r[2],s=t[0]*r[3]+t[3]*r[4],a=t[1]*r[3]+t[4]*r[4],l=t[2]*r[3]+t[5]*r[4]+r[5];return t[0]=i,t[1]=n,t[2]=o,t[3]=s,t[4]=a,t[5]=l,this},e}();t.Transformation=h;var c=function(){function e(e){this._transfos=[],this._sizeTransfos=[],this._transfos.push(e||h.createIdentity()),this._sizeTransfos.push(e?e.scaleRatio():1)}return e.prototype.transformPt=function(e){return this._transfos[this._transfos.length-1].transform(e)},e.prototype.transformSize=function(e){return e*this._sizeTransfos[this._sizeTransfos.length-1]},e.prototype.back=function(){return this._transfos[this._transfos.length-1]},e.prototype.push=function(e){var t=e.scaleRatio();e.multiply(this.back()),this._transfos.push(e),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*t)},e.prototype.pop=function(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)},e.prototype.drawSymbol=function(e,t){if(e)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":this.drawMultiLayerSymbol(e,t)}},e.prototype.drawMultiLayerSymbol=function(e,t){if(e){var r=e.symbolLayers;if(r){var i=e.effects;if(i){var n=this.executeEffects(i,t);if(n)for(var o=n.next();o;)this.drawSymbolLayers(r,o),o=n.next()}else this.drawSymbolLayers(r,t)}}},e.prototype.executeEffects=function(e,t){for(var r=new o.SimpleGeometryCursor(t),i=e?e.length:0,n=0;n<i;++n){var a=e[n];if(a){var l=s.getEffectOperator(a);l&&(r=l.execute(r,a,96/72))}}return r},e.prototype.drawSymbolLayers=function(e,t){for(var r=e.length;r--;){var i=e[r];if(i&&!1!==i.enable){var n=i.effects;if(n){var o=this.executeEffects(n,t);if(o)for(var s=o.next();s;)this.drawSymbolLayer(i,s),s=o.next()}else this.drawSymbolLayer(i,t)}}},e.prototype.drawSymbolLayer=function(e,t){switch(e.type){case"CIMSolidFill":this.drawSolidFill(t,e.color);break;case"CIMSolidStroke":this.drawSolidStroke(t,e.color,e.width);break;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":this.drawMarkerLayer(e,t)}},e.prototype.drawMarkerLayer=function(e,t){var r=e.markerPlacement;if(r){var i=s.getPlacementOperator(r);if(i){var n=i.execute(t,r,96/72);if(n)for(var o=n.next();o;)this.drawMarker(e,o),o=n.next()}}else{var l=new a.Placement;l.tx=t.x,l.ty=t.y,this.drawMarker(e,l)}},e.prototype.drawMarker=function(e,t){switch(e.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":this.drawVectorMarker(e,t)}},e.prototype.drawVectorMarker=function(e,t){if(e){var r=e.markerGraphics;if(r){var i=e.size,n=e.frame,o=n?n.ymax-n.ymin:0,s=i&&o?i/o:1,a=h.createIdentity();n&&a.translate(.5*-(n.xmax+n.xmin),.5*-(n.ymax+n.ymin));var u=e.anchorPoint;if(u){var c=u.x,p=u.y;"Absolute"!==e.anchorPointUnits&&n&&(c*=n.xmax-n.xmin,p*=n.ymax-n.ymin),a.translate(-c,-p)}1!==s&&a.scale(s,s),e.rotation&&a.rotate(e.rotation*l.C_DEG_TO_RAD),a.translate(e.offsetX||0,e.offsetY||0),a.translate(t.tx,t.ty),this.push(a);for(var f=0,d=r;f<d.length;f++){var m=d[f];m&&this.drawSymbol(m.symbol,m.geometry)}this.pop()}}},e.prototype.drawSolidFill=function(e,t){},e.prototype.drawSolidStroke=function(e,t,r){},e}(),p=function(e){function t(){var t=e.call(this)||this;return t._xmin=t._ymin=1/0,t._xmax=t._ymax=-1/0,t}return r(t,e),t.prototype.envelope=function(){return new u(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)},t.prototype._merge=function(e,t){e[0]-t<this._xmin&&(this._xmin=e[0]-t),e[0]+t>this._xmax&&(this._xmax=e[0]+t),e[1]-t<this._ymin&&(this._ymin=e[1]-t),e[1]+t>this._ymax&&(this._ymax=e[1]+t)},t.prototype.drawSolidFill=function(e,t){for(var r=0,i=e.rings;r<i.length;r++){var n=i[r],o=n?n.length:0;if(2<o){this._merge(this.transformPt(n[0]),0);for(var s=1;s<o;++s)this._merge(this.transformPt(n[s]),0)}}},t.prototype.drawSolidStroke=function(e,t,r){for(var i=.5*this.transformSize(r),o=0,s=n.isPolygon(e)?e.rings:e.paths;o<s.length;o++){var a=s[o],l=a?a.length:0;if(1<l){this._merge(this.transformPt(a[0]),i);for(var u=1;u<l;++u)this._merge(this.transformPt(a[u]),i)}}},t}(t.CIMSymbolDrawHelper=c);t.EnvDrawHelper=p;var f=function(e){function t(t,r){var i=e.call(this,r)||this;return i._ctx=t,i}return r(t,e),t.prototype.drawSolidFill=function(e,t){var r=this._ctx;r.fillStyle="string"==typeof t?t:"rgba("+Math.round(t[0])+","+Math.round(t[1])+","+Math.round(t[2])+","+t[3]/255+")",r.beginPath();for(var i=0,n=e.rings;i<n.length;i++){var o=n[i],s=o?o.length:0;if(2<s){var a=this.transformPt(o[0]);r.moveTo(a[0],a[1]);for(var l=1;l<s;++l)a=this.transformPt(o[l]),r.lineTo(a[0],a[1]);r.closePath()}}r.fill("evenodd")},t.prototype.drawSolidStroke=function(e,t,r){var i=this._ctx;i.strokeStyle="string"==typeof t?t:"rgba("+Math.round(t[0])+","+Math.round(t[1])+","+Math.round(t[2])+","+t[3]/255+")",i.lineWidth=this.transformSize(r)+.5,i.beginPath();var o,s=!1;n.isPolygon(e)?(o=e.rings,s=!0):o=e.paths;for(var a=0,l=o;a<l.length;a++){var u=l[a],h=u?u.length:0;if(1<h){var c=this.transformPt(u[0]);i.moveTo(c[0],c[1]);for(var p=1;p<h;++p)c=this.transformPt(u[p]),i.lineTo(c[0],c[1]);s&&i.closePath()}}i.stroke()},t}(c);t.CanvasDrawHelper=f}.apply(null,i))||(e.exports=n)},Hcrl:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("qsST"),r("qMld"),r("jBNx"),r("aMdW"),r("Zx0K"),r("W9tT"),r("ab6c"),r("NSdr"),r("4F/P"),r("JNkf"),r("Dos2"),r("hNI9"),r("m87x"),r("8Lwu"),r("yVlQ"),r("PlK1")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d,m,g,y,v){Object.defineProperty(t,"__esModule",{value:!0});var _=u.vec2f32.create(),x=a.mat2df32.create(),w=i.getLogger("esri.views.2d.engine.webgl.WGLDynamicMarkerTemplate"),b=function(e){function t(t,r){var i=e.call(this)||this;i.geometryType=p.WGLGeometryType.MARKER,i.xOffset=0,i.yOffset=0,i.width=0,i.height=0,i._dynamicPropertyMap=new Map,i._cimMarkerLayer=r;var n=0;g.isFunction(r.color)||(n=c.premultiplyAlphaRGBA(r.color)),i._dynamicPropertyMap.set("_fillColor",function(e,t,i){return g.isFunction(r.color)?c.premultiplyAlphaRGBA(r.color(e,t,i)):n});var s,a,l,u,h,f,d=0;return g.isFunction(r.outlineColor)||(d=c.premultiplyAlphaRGBA(r.outlineColor)),i._dynamicPropertyMap.set("_outlineColor",function(e,t,i){return g.isFunction(r.outlineColor)?c.premultiplyAlphaRGBA(r.outlineColor(e,t,i)):d}),g.isFunction(r.size)||(s=o.pt2px(r.size)),i._dynamicPropertyMap.set("_size",function(e,t,i){return g.isFunction(r.size)?o.pt2px(r.size(e,t,i)):s}),g.isFunction(r.scaleX)||(a=r.scaleX),i._dynamicPropertyMap.set("_scaleX",function(e,t,i){return g.isFunction(r.scaleX)?r.scaleX(e,t,i):a}),g.isFunction(r.offsetX)||(l=o.pt2px(r.offsetX)),i._dynamicPropertyMap.set("xOffset",function(e,t,i){return g.isFunction(r.offsetX)?o.pt2px(r.offsetX(e,t,i)):l}),g.isFunction(r.offsetY)||(u=o.pt2px(r.offsetY)),i._dynamicPropertyMap.set("yOffset",function(e,t,i){return g.isFunction(r.offsetY)?o.pt2px(r.offsetY(e,t,i)):u}),g.isFunction(r.outlineWidth)||(h=o.pt2px(r.outlineWidth)),i._dynamicPropertyMap.set("_outlineWidth",function(e,t,i){return g.isFunction(r.outlineWidth)?o.pt2px(r.outlineWidth(e,t,i)):h}),g.isFunction(r.rotation)||(f=r.rotation),i._dynamicPropertyMap.set("_angle",function(e,t,i){return g.isFunction(r.rotation)?r.rotation(e,t,i):f}),i._colorLockedAndAlignment=(r.alignment===p.Alignment.MAP?1:0)|(r.colorLocked?1:0)<<1,i._materialKey=m.createMaterialKey(i.geometryType,t,!1),i}return r(t,e),t.fromCIMMarker=function(e,r){return new t(e,r)},t.prototype.analyze=function(e,t){var r=this._materialCache,i=this._cimMarkerLayer.materialHash(e);if(r.has(i)){var o=r.get(i);return n.resolve(o)}return t.getMosaicItem(h.analyzeCIMResource(e,this._cimMarkerLayer.cim)).then(function(e){return r.set(i,e),e})},t.prototype.bindFeature=function(e,t,r){var i=this,n=this._dynamicPropertyMap;n&&n.forEach(function(n,o){i[o]=n(e,t,r)});var o,a,h=this._cimMarkerLayer.rotateClockwise?-this._angle:this._angle,c=this._size*this._scaleX,p=this._size,d=this.xOffset,g=this.yOffset,y=this._cimMarkerLayer.frameHeight?p/this._cimMarkerLayer.frameHeight:1,w=this._outlineWidth*y,b=this._materialCache,T=this._cimMarkerLayer.materialHash(e),S=b.get(T);if(S&&(S&&v.ok(S.spriteMosaicItem))){a=S.spriteMosaicItem,this._sizeOutlineWidth=f.i8888to32(c,p,w,this._colorLockedAndAlignment),o=a.sdf?.5:1,s.mat2d.identity(x),s.mat2d.translate(x,x,u.vec2f32.fromValues(o*d,o*-g)),h&&s.mat2d.rotate(x,x,3.14159265359/180*h);var M=Math.round(a.rect.x/4)-128,E=Math.round(a.rect.y/4)-128,L=M+Math.round(a.rect.width/4),I=E+Math.round(a.rect.height/4);l.vec2.set(_,-.5*c,-.5*p),l.vec2.transformMat2d(_,_,x),this._offsetAndTexUpperLeft=f.i8888to32(_[0],_[1],M,E),l.vec2.set(_,.5*c,-.5*p),l.vec2.transformMat2d(_,_,x),this._offsetAndTexUpperRight=f.i8888to32(_[0],_[1],L,E),l.vec2.set(_,-.5*c,.5*p),l.vec2.transformMat2d(_,_,x),this._offsetAndTexBottomLeft=f.i8888to32(_[0],_[1],M,I),l.vec2.set(_,.5*c,.5*p),l.vec2.transformMat2d(_,_,x),this._offsetAndTexBottomRight=f.i8888to32(_[0],_[1],L,I);var G=m.MarkerMaterialKey.load(this._materialKey);a&&(G.sdf=a.sdf,G.pattern=!0,G.textureBinding=a.textureBinding),this._materialKey=G.data}},t.prototype.writeMesh=function(e,t,r,i,n,o,s,a){var l=m.MarkerMaterialKey.load(this._materialKey),u=t.indexVector,h=t.get("geometry"),c=t.get("visibility"),p=new d(i,this.geometryType,this._materialKey),f=t.getVector("geometry").vertexCount;switch(e.push(p),p.vertexFrom=f,p.indexFrom=u.length,r){case"esriGeometryPoint":var g=n.geometry,y=g.x,v=g.y;return this._writeVertices(p,h,c,i,this._getPos(y,v),l,s,a),void this._writeIndices(p,u,f);case"esriGeometryPolyline":var _=n.geometry.paths;return void this._writeMany(p,u,h,c,f,i,_[0],l,s,a);case"esriGeometryPolygon":var x=n.centroid;return void(x?(y=x.x,v=x.y,this._writeVertices(p,h,c,i,this._getPos(y,v),l,s,a),this._writeIndices(p,u,f)):w.error("Tried to render polygon geometries as markers, but found no centroid!"));case"esriGeometryMultipoint":var b=n.geometry.points;return void this._writeMany(p,u,h,c,f,i,b,l,s,a);case"esriGeometryEnvelope":default:w.error("Unable to handle geometryType: "+r)}},t.prototype._getPos=function(e,t){return f.i1616to32(e,t)},t.prototype._writeMany=function(e,t,r,i,n,o,s,a,l,u){for(var h=0,c=0,p=0,f=0,d=s;f<d.length;f++){var m=d[f],g=m[0],y=m[1],v=this._getPos(g+h,y+c);this._writeVertices(e,r,i,o,v,a,l,u),this._writeIndices(e,t,n+p),h+=g,c+=y,p+=4}},t.prototype._writeVertices=function(e,t,r,i,n,o,s,a){t.push(n),t.push(this._offsetAndTexUpperLeft),t.push(i),t.push(this._fillColor),t.push(this._outlineColor),t.push(this._sizeOutlineWidth),this._writeVV(t,s,o),r.push(a),t.push(n),t.push(this._offsetAndTexUpperRight),t.push(i),t.push(this._fillColor),t.push(this._outlineColor),t.push(this._sizeOutlineWidth),this._writeVV(t,s,o),r.push(a),t.push(n),t.push(this._offsetAndTexBottomLeft),t.push(i),t.push(this._fillColor),t.push(this._outlineColor),t.push(this._sizeOutlineWidth),this._writeVV(t,s,o),r.push(a),t.push(n),t.push(this._offsetAndTexBottomRight),t.push(i),t.push(this._fillColor),t.push(this._outlineColor),t.push(this._sizeOutlineWidth),this._writeVV(t,s,o),r.push(a),e.vertexCount+=4},t.prototype._writeVV=function(e,t,r){r.hasVV()&&(e.push(t[p.VVType.SIZE]),e.push(t[p.VVType.COLOR]),e.push(t[p.VVType.OPACITY]),e.push(t[p.VVType.ROTATION]))},t.prototype._writeIndices=function(e,t,r){var i=r;t.push(i+0),t.push(i+1),t.push(i+2),t.push(i+1),t.push(i+3),t.push(i+2),e.indexCount+=6},t}(y.default);t.default=b}.apply(null,i))||(e.exports=n)},KAqe:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("qMld")],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._resolver=null}return e.prototype.isHeld=function(){return!!this._resolver},e.prototype.acquire=function(){var e=this;return this._resolver?this._resolver.promise.then(function(){return e.acquire()}):(this._resolver=r.createResolver(),r.resolve())},e.prototype.release=function(){var e=this._resolver;this._resolver=null,e.resolve()},e}();t.default=i,t.withLock=function(e,t){return e.acquire().then(function(){return t()}).then(function(){return e.release()}).catch(function(t){throw e.release(),t})}}.apply(null,i))||(e.exports=n)},KFsD:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("ma1f"),r("qsST"),r("tI6k"),r("JNkf"),r("apbF"),r("G59t")],void 0===(n=function(e,t,r,i,n,o,s,a){Object.defineProperty(t,"__esModule",{value:!0});var l,u,h=i.getLogger("esri.views.2d.engine.webgl.mesh.VVFactory");(u=l=t.VVError||(t.VVError={}))[u.NONE=0]="NONE",u[u.MISSING_DATA=1]="MISSING_DATA";var c=function(){function e(){this._vvMap=new Map}return e.prototype.set=function(e,t){this._vvMap.set(e,t)},Object.defineProperty(e.prototype,"map",{get:function(){return this._vvMap},enumerable:!0,configurable:!0}),e.prototype.getValue=function(e,t,r,i){return this._vvMap.has(e)?this._vvMap.get(e)(t,r,i):0},e}(),p=function(){function e(){}return e.fromRenderer=function(t,r){var i=new e;switch(t.type){case"dot-density":i._createDDFunctionMap(t.attributes,r);break;case"simple":case"unique-value":case"class-breaks":i._createVVFunctionMap(t.visualVariables,r);break;default:return h.error("Cannot create factory for renderer type "+t.type),null}return i},e.prototype.computeVV=function(e,t,r,i){var n=this;return this._vvMap?(this._vvMap.map.forEach(function(o,s){var a=o(t,r,i);e[s]=n._isErrorVV(a)?1e-30:a}),l.NONE):l.NONE},e.prototype._isErrorVV=function(e){return null===e||isNaN(e)||e===1/0},e.prototype._createVVFunctionMap=function(e,t){if(e&&e.length)for(var r=0,i=e;r<i.length;r++){var n=i[r],o=s.getVVType(n.type),a=this._createGetValueFunction(n,t);a&&(this._vvMap||(this._vvMap=new c),this._vvMap.set(o,a))}},e.prototype._createDDFunctionMap=function(e,t){this._vvMap||(this._vvMap=new c),e.length>n.DOT_DENSITY_MAX_FIELDS&&h.warn("mapview-invalid-value","DotDensityRenderer supports a maximium of "+n.DOT_DENSITY_MAX_FIELDS+" attribtues, but found "+e.length);for(var r=0;r<Math.min(n.DOT_DENSITY_MAX_FIELDS,e.length);r++){var i=e[r],o=this._createNormalizedFunction(i,t);this._vvMap.set(r,o)}},e.prototype._createGetValueFunction=function(e,t){if(s.getVVType(e.type)!==o.VVType.SIZE)return this._createNormalizedFunction(e,t);var r=e,i=a.getTypeOfSizeVisualVariable(r);if(i===o.WGLVVFlag.SIZE_SCALE_STOPS)return null;var n=i===o.WGLVVFlag.SIZE_UNIT_VALUE&&function(e){return a.getVisualVariableSizeValueRepresentationRatio(e,r.valueRepresentation)};return this._createNormalizedFunction(e,t,n)},e.prototype._createNormalizedFunction=function(e,t,i){var n=e.field;if(n){if("string"!=typeof n)return"function"==typeof n?(h.error(new r("mapview-rendering:unsupported-feature","Function field types are not currently supported. Please use a valueExpression instead")),function(e){}):(h.error(new r("mapview-rendering:invalid-type","The field for a vv must be a string or a number, but got "+typeof n)),function(e){});var o=e.normalizationField;return o?function(e){if(e.attributes[n]&&e.attributes[o]){var t=e.attributes[n]/e.attributes[o];return i?i(t):t}}:i?function(e){return i(e.attributes[n])}:function(e){return e.attributes[n]}}return e.valueExpression?s.createArcadeFunction(e.valueExpression,t,i):(h.error("Unable to create a normalized function for visual variable: "+e),function(e){})},e}();t.default=p}.apply(null,i))||(e.exports=n)},LCdb:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("ma1f"),r("qsST"),r("LxLY"),r("Lzvl"),r("CF4u"),r("tI6k"),r("JNkf"),r("azm3"),r("S0eh"),r("cF6f"),r("FDNA"),r("KFsD"),r("AKDC"),r("65my"),r("cjzh"),r("MGRT"),r("MtZC")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d,m,g,y,v,_){Object.defineProperty(t,"__esModule",{value:!0});var x=n.getLogger("esri.views.2d.engine.webgl.WGLMeshFactory"),w={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null},b=function(){function e(e,t,r,i,n,s,a,u,h){this._isDD=!1,this._labelsDebugTemplate=null,this._labelsDebugVVEval=null;var p=o.isSome(r)&&"visualVariables"in r&&r.visualVariables;this._isDD=o.isSome(r)&&"dot-density"===r.type,this._geometryType=e,this._idField=t,this._pixelRatio=n,this._vvFlags=p?_.getVVFlags(p):0,this._vvFactory=o.isSome(r)&&d.default.fromRenderer(r,i),this._vvBuf=new ArrayBuffer(32),this._vvBufU32=new Uint32Array(this._vvBuf),this._vvBufF32=new Float32Array(this._vvBuf),this._templateStore=a,u&&(l.DEBUG_LABELS&&(this._labelsDebugVVEval=p&&c.createLabelVVEvaluator(p)),this._validateLabelingInfo(u)&&(this._labelTemplates=u.map(function(e){return m.default.fromLabelClass(r,e,h)})))}return Object.defineProperty(e.prototype,"templates",{get:function(){return this._templateStore},enumerable:!0,configurable:!0}),e.prototype.createMeshData=function(e){var t=new Array(5),r=new Array,i=!!_.getMarkerVVFlags(this._vvFlags),n=!!_.getFillVVFlags(this._vvFlags),o=!!_.getLineVVFlags(this._vvFlags,"esriGeometryPolyline"!==this._geometryType),s=!!_.getTextVVFlags(this._vvFlags),a="esriGeometryPolyline"===this._geometryType?l.HEURISTIC_GLYPHS_PER_LINE:l.HEURISTIC_GLYPHS_PER_FEATURE;return t[u.WGLGeometryType.MARKER]=new f.VertexVectors(u.WGLGeometryType.MARKER,i,e),t[u.WGLGeometryType.FILL]=new f.VertexVectors(u.WGLGeometryType.FILL,n,e,this._isDD),t[u.WGLGeometryType.LINE]=new f.VertexVectors(u.WGLGeometryType.LINE,o,e),t[u.WGLGeometryType.TEXT]=new f.VertexVectors(u.WGLGeometryType.TEXT,s,e),t[u.WGLGeometryType.LABEL]=new f.VertexVectors(u.WGLGeometryType.LABEL,!1,this._labelTemplates&&0<this._labelTemplates.length?a:0),new p.default(r,t)},e.prototype.analyze=function(e,t,r,i){for(var n=e,o=0,s=n;o<s.length;o++){var a=s[o],l=-1;if("symbol"in a)a.filterFlags=1,null!=a.symbol?l=this._templateStore.createTemplateGroup(a.symbol,null,null,null):t&&(l=t.match(a,r,i));else if(t&&(l=t.match(a,r,i),v.isDynamicId(l)))for(var u=0,h=this._templateStore.getDynamicTemplateGroup(l);u<h.length;u++){var c=h[u];c&&c.analyze&&c.analyze(a,this._templateStore)}a.groupId=l}return this._templateStore.finalize().then(function(){return n})},e.prototype.write=function(e,t,r,i,n,o,a){var l=this._templateStore.getTemplateGroup(t.groupId),u=e,c=t.attributes[this._idField],p=new h(c),f=!!o&&!!this._labelTemplates&&o.has(c);if(v.isDynamicId(t.groupId))for(var d=0,m=l;d<m.length;d++)(T=m[d]).bindFeature(t,r,i);if(l&&(t.geometry||t.centroid)){this._vvFactory&&this._vvFactory.computeVV(this._vvBufF32,t,r,i);var g=p.displayRecords,y=t.insertAfter;void 0!==y&&(p.insertAfter=y);var _=this._geometryType;_||(_=null!=t.centroid?"esriGeometryPolygon":s.getJsonType(t.geometry));var x=t.filterFlags;p.filterFlags=x;for(var w=0,b=l;w<b.length;w++){var T=b[w],S=u.get(T.geometryType);T.writeMesh(g,S,_,c,t,this._pixelRatio,this._vvBufU32,x)}if(f){var M=this._getLabelReference(l),E=o.get(c);this._writeLabelMesh(p,u,c,t,a,E,M,n,_,x)}u.pushDisplayObject(p)}},e.prototype._hasBadLabelClass=function(e,t){var r=e.labelPlacement,n=w[t];if(!e.symbol)return x.error(new i("mapview-labeling:missing-required-parameter","Unable to create labels for Feature Layer, LabelClass missing symbol",e)),!0;if(!n)return x.error(new i("mapview-labeling:unsupported-geometry-type","Unable to create labels for Feature Layer, "+t+" is not supported")),!0;if(!n.some(function(e){return e===r})){var o=n[0];r&&x.warn("Found invalid label placement type "+r+" for "+t+". Defaulting to "+o),e.labelPlacement=o}return!1},e.prototype._validateLabelingInfo=function(e){var t=this;return!e.some(function(e){return t._hasBadLabelClass(e,t._geometryType)})},e.prototype._getLabelReference=function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];if(i instanceof y.default)return i}return null},e.prototype._writeLabelMesh=function(e,t,r,i,n,o,s,a,u,h){for(var c=e.displayRecords,p=[],f=this._pixelRatio,d=this._vvBufU32,m=0;m<o.length;m++){var g=o[m],y=g.id,v=g.text,_=g.rtl,x=this._labelTemplates[y],w=t.get(x.geometryType),b=n.get(x.symbolId).glyphMosaicItems;x.bindReferenceTemplate(s),x.bindTextInfo(b,v,_),x.writeMesh(c,w,u,r,i,f,d,h,a,p)}e.metrics=p,l.DEBUG_LABELS&&this._debugLabels(e,t,h)},e.prototype._debugLabels=function(e,t,r){for(var i=e.displayRecords,n=e.id,o=0,s=e.metrics;o<s.length;o++){var a=s[o],l=a.boxes?a.boxes.concat([a.bounds]):[a.bounds];this._labelsDebugVVEval&&a.computeOffset(this._labelsDebugVVEval);for(var u=0,h=l;u<h.length;u++){var c=h[u],p=a.anchor[0]+a.offsetX+c.center[0],f=a.anchor[1]+a.offsetY+c.center[1],d={geometry:{paths:[[[p-c.width/2,f+c.height/2],[0,-c.height],[c.width,0],[0,c.height],[-c.width,0]]]},attributes:{}},m=this._getLabelDebugTemplate(),g=t.get(m.geometryType),y=this._pixelRatio;m.writeMesh(i,g,"esriGeometryPolyline",n,d,y,null,r)}}},e.prototype._getLabelDebugTemplate=function(){return this._labelsDebugTemplate||(this._labelsDebugTemplate=this._createLabelsDebugTemplate()),this._labelsDebugTemplate},e.prototype._createLabelsDebugTemplate=function(){var e=new a({style:"solid",width:1,color:[255,0,0,1]});return g.default.fromSimpleLine(null,!1,e,null)},e}();t.default=b}.apply(null,i))||(e.exports=n)},MGRT:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("HZ3d"),r("Q2wQ"),r("+AWJ"),r("ma1f"),r("qsST"),r("qMld"),r("NSdr"),r("Hcrl"),r("BU48"),r("65my"),r("cjzh"),r("t1uL"),r("2Gaw"),r("KAqe"),r("PlK1")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d,m,g){Object.defineProperty(t,"__esModule",{value:!0});var y=s.getLogger("esri.views.2d.engine.webgl.mesh.templates.WGLTemplateStore"),v=new Array,_=new n.SimpleFillSymbol({color:"black",outline:null}),x=new n.SimpleMarkerSymbol({size:"14px",color:"black",outline:null}),w=new n.SimpleLineSymbol({color:"black",width:"2px"});function b(e,t){var r=e.length;return e.push(null),t.then(function(t){return e[r]=t}),e}function T(e){return!!(1&e)}t.isDynamicId=T;var S=function(){function e(e){this._idCounter=0,this._templateIdCounter=0,this._idToTemplateGroup=new Map,this._symbolToTemplate=new Map,this._fetchQueue=[],this._idToResolver=new Map,this._lock=new m.default,this._fetchResource=e}return Object.defineProperty(e.prototype,"_markerError",{get:function(){return this._errorTemplates.marker[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_fillError",{get:function(){return this._errorTemplates.fill[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_lineError",{get:function(){return this._errorTemplates.line[0]},enumerable:!0,configurable:!0}),e.prototype.createTemplateGroup=function(e,t,r,i){this._initErrorTemplates();var n=this._hashSymbol(e);if(!this._symbolToTemplate.has(n)){var o=new Array;t&&this._createMeshTemplates(o,t,r,i,!0),this._createMeshTemplates(o,e,r,i,!1);var s=this._createGroupId("cim"===e.type);this._idToTemplateGroup.set(s,o),this._symbolToTemplate.set(n,s)}return this._symbolToTemplate.get(n)},e.prototype.getMosaicItem=function(e){var t,r=this,i=this._createTemplateId();if("text"===e.type){var n=d.bidiText(e.text)[0];t=[];for(var o=0;o<n.length;o++)t.push(n.charCodeAt(o))}var s=a.create(function(e){return r._idToResolver.set(i,e)});return this._fetchQueue.push({symbol:e,id:i,glyphIds:t}),s},e.prototype.getTemplateGroup=function(e){return this._idToTemplateGroup.has(e)?this._idToTemplateGroup.get(e):v},e.prototype.getDynamicTemplateGroup=function(e){return this._idToTemplateGroup.has(e)?(T(e)||y.error("mapview-template-store","Id "+e+" does not refer to a dynamic template"),this._idToTemplateGroup.get(e)):v},e.prototype.finalize=function(){return this._fetchQueue.length||this._lock.isHeld()?m.withLock(this._lock,this._fetchAllQueuedResources.bind(this)):a.resolve()},e.prototype._initErrorTemplates=function(){if(!this._errorTemplates){var e=this._createMeshTemplates([],_,null,null,!1),t=this._createMeshTemplates([],x,null,null,!1),r=this._createMeshTemplates([],w,null,null,!1);this._errorTemplates={fill:e,marker:t,line:r}}},e.prototype._fetchAllQueuedResources=function(){var e=this;if(!this._fetchQueue.length)return a.resolve();var t=this._fetchQueue;return this._fetchQueue=[],this._fetchResource(t).then(function(t){for(var r=0,i=t;r<i.length;r++){var n=i[r],o=n.id,s=n.mosaicItem;e._idToResolver.get(o)(s),e._idToResolver.delete(o)}}).catch(function(r){"cancel"===r.dojoType?e._fetchQueue=e._fetchQueue.concat(t):y.error(new o("mapview-template-store","Unable to fetch requested texture resources",r))})},e.prototype._createGroupId=function(e){return this._idCounter++<<1|(e?1:0)},e.prototype._createTemplateId=function(){return this._templateIdCounter++},e.prototype._getCodepoints=function(e){for(var t=d.bidiText(e.text)[0],r=[],i=0;i<t.length;i++)r.push(t.charCodeAt(i));return r},e.prototype._getMosaicItem=function(e){var t=this,r=this._createTemplateId(),i="text"===e.type&&this._getCodepoints(e),n=a.create(function(e){return t._idToResolver.set(r,e)});return this._fetchQueue.push({symbol:e.toJSON(),id:r,glyphIds:i}),n},e.prototype._hashSymbol=function(e){return e.id?e.id:JSON.stringify(e)},e.prototype._createSMS=function(e,t){return r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return[4,this._getMosaicItem(e)];case 1:return r=i.sent().spriteMosaicItem,g.ok(r,y)?[2,p.default.fromSimpleMarker(t,e,r)]:[2,this._markerError]}})})},e.prototype._createPMS=function(e,t){return r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return[4,this._getMosaicItem(e)];case 1:return r=i.sent().spriteMosaicItem,g.ok(r,y)?[2,p.default.fromPictureMarker(t,e,r)]:[2,this._markerError]}})})},e.prototype._createSFS=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:return[4,this._getMosaicItem(e)];case 1:return r=i.sent().spriteMosaicItem,o=e,g.ok(r,y)?[2,h.default.fromSimpleFill(t,o,r,n)]:[2,this._fillError]}})})},e.prototype._createPFS=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:return[4,this._getMosaicItem(e)];case 1:return r=i.sent().spriteMosaicItem,o=e,g.ok(r,y)?[2,h.default.fromPictureFill(t,o,r,n)]:[2,this._fillError]}})})},e.prototype._createSLS=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:return[4,this._getMosaicItem(e)];case 1:return r=i.sent().spriteMosaicItem,o=e,g.ok(r,y)?[2,c.default.fromSimpleLine(t,n,o,r)]:[2,this._lineError]}})})},e.prototype._createTS=function(e,t){return r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return[4,this._getMosaicItem(e)];case 1:return r=i.sent().glyphMosaicItems,[2,f.default.fromText(t,e,r)]}})})},e.prototype._createCIMText=function(e,t){return r(this,void 0,void 0,function(){return i(this,function(e){return[2,a.resolve(null)]})})},e.prototype._createCIMFill=function(e,t){return r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return e.materialHash,[4,this.getMosaicItem(e.cim)];case 1:return r=i.sent().spriteMosaicItem,g.ok(r,y)?[2,h.default.fromCIMFill(t,e,r,!1)]:[2,this._fillError]}})})},e.prototype._createCIMLine=function(e,t){return r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return e.materialHash,[4,this.getMosaicItem(e.cim)];case 1:return r=i.sent().spriteMosaicItem,g.ok(r,y)?[2,c.default.fromCIMLine(t,e,r,!1)]:[2,this._lineError]}})})},e.prototype._createCIMMarker=function(e,t){return r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return e.materialHash?[2,a.resolve(u.default.fromCIMMarker(t,e))]:[4,this.getMosaicItem(e.cim)];case 1:return r=i.sent().spriteMosaicItem,g.ok(r,y)?[2,p.default.fromCIMMarker(t,e,r)]:[2,this._markerError]}})})},e.prototype._createCIM=function(e,t){switch(e.type){case"marker":return this._createCIMMarker(e,t);case"line":return this._createCIMLine(e,t);case"fill":return this._createCIMFill(e,t);case"text":return this._createCIMText(e,t)}},e.prototype._createCIMMeshTemplates=function(e,t,r,i){for(var n=0,o=l.analyzeCIMSymbol(t,i);n<o.length;n++){var s=o[n];b(e,this._createCIM(s,r))}},e.prototype._createMeshTemplates=function(e,t,r,i,n){if(-1!==t.type.indexOf("3d"))return y.error("3D symbols are not supported with MapView"),e;switch(t.type){case"cim":return this._createCIMMeshTemplates(e,t,r,i),e;case"simple-marker":return b(e,this._createSMS(t,r));case"picture-marker":return b(e,this._createPMS(t,r));case"simple-fill":var o=t;return b(e,this._createSFS(o,r,n)),o.outline&&b(e,this._createSLS(o.outline,r,!0)),e;case"picture-fill":var s=t;return b(e,this._createPFS(s,r,n)),s.outline&&b(e,this._createSLS(s.outline,r,!0)),e;case"simple-line":return b(e,this._createSLS(t,r,!1));case"text":return b(e,this._createTS(t,r));default:return y.error("Unable to create mesh template for unknown symbol type {: $ }{symbol.type}"),e}},e}();t.default=S}.apply(null,i))||(e.exports=n)},MYW0:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("QDcU"),r("qsST"),r("Lzvl"),r("bGfK"),r("l9lW"),r("EC3/"),r("FgMG"),r("qDit"),r("BEeJ")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h){Object.defineProperty(t,"__esModule",{value:!0});var c=i.getLogger("esri/views/2d/engine/webgl/CIMSymbolHelper"),p=function(){function e(){}return e.getEnvelope=function(e){if("CIMPointSymbol"!==e.type)return null;var t=new l.EnvDrawHelper;return t.drawSymbol(e,{type:"point",x:0,y:0}),t.envelope()},e.rasterize=function(e,t){var r=this.getEnvelope(t);if(!r||r.width<=0||r.height<=0)return[null,0,0,0,0];var i=96/72,n=(r.x+.5*r.width)*i,o=-(r.y+.5*r.height)*i;e.width=r.width*i+2,e.height=r.height*i+2;var s=e.getContext("2d"),a=l.Transformation.createScale(i,-i);a.translate(.5*e.width-n,.5*e.height-o),new l.CanvasDrawHelper(s,a).drawSymbol(t,{type:"point",x:0,y:0});for(var u,h=s.getImageData(0,0,e.width,e.height),c=new Uint8Array(h.data),p=0;p<c.length;p+=4)u=c[p+3]/255,c[p]=c[p]*u,c[p+1]=c[p+1]*u,c[p+2]=c[p+2]*u;return[c,e.width,e.height,n/e.width,o/e.height]},e.fromSimpleMarker=function(e){var t,r,i,n=50,o=e.style;if("circle"===o||"esriSMSCircle"===o){var s=Math.acos(.995),a=Math.ceil(h.C_PI/s/4);0===a&&(a=1),s=h.C_PI_BY_2/a,a*=4;var l=[];l.push([n,0]);for(var u=1;u<a;u++)l.push([n*Math.cos(u*s),-n*Math.sin(u*s)]);l.push([n,0]),t={rings:[l]},r={xmin:-n,ymin:-n,xmax:n,ymax:n}}else if("cross"===o||"esriSMSCross"===o)t={rings:[[[c=0,n],[c,c],[n,c],[n,-c],[c,-c],[c,-n],[-c,-n],[-c,-c],[-n,-c],[-n,c],[-c,c],[-c,n],[c,n]]]},r={xmin:-n,ymin:-n,xmax:n,ymax:n};else if("diamond"===o||"esriSMSDiamond"===o)t={rings:[[[-n,0],[0,n],[n,0],[0,-n],[-n,0]]]},r={xmin:-n,ymin:-n,xmax:n,ymax:n};else if("square"===o||"esriSMSSquare"===o)t={rings:[[[-n,-n],[-n,n],[n,n],[n,-n],[-n,-n]]]},r={xmin:-n,ymin:-n,xmax:n,ymax:n};else if("x"===o||"esriSMSX"===o){var c;t={rings:[[[0,c=0],[n-c,n],[n,n-c],[c,0],[n,c-n],[n-c,-n],[0,-c],[c-n,-n],[-n,c-n],[-c,0],[-n,n-c],[c-n,n],[0,c]]]},r={xmin:-n,ymin:-n,xmax:n,ymax:n}}else if("triangle"===o||"esriSMSTriangle"===o){var p=57.735026918962575,f=-p,d=2/3*100,m=d-100;t={rings:[[[f,m],[0,d],[p,m],[f,m]]]},r={xmin:f,ymin:m,xmax:p,ymax:d}}if(t&&r){var g=[{type:"CIMSolidFill",enable:!0,color:e.color}];e.outline&&g.push({type:"CIMSolidStroke",enable:!0,width:e.outline.width,color:e.outline.color});var y={type:"CIMPolygonSymbol",symbolLayers:g};i={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:e.angle,size:e.size,offsetX:e.xoffset,offsetY:e.yoffset,frame:r,markerGraphics:[{type:"CIMMarkerGraphic",geometry:t,symbol:y}]}]}}return i},e.getFillColor=function(t){if(!t)return null;switch(t.type){case"CIMPolygonSymbol":if(t.symbolLayers)for(var r=0,i=t.symbolLayers;r<i.length;r++){var n=i[r],o=e.getFillColor(n);if(null!=o)return o}break;case"CIMSolidFill":return t.color}},e.getStrokeColor=function(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(var r=0,i=t.symbolLayers;r<i.length;r++){var n=i[r],o=e.getStrokeColor(n);if(void 0!==o)return o}break;case"CIMSolidStroke":return t.color}},e.getStrokeWidth=function(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(var r=0,i=t.symbolLayers;r<i.length;r++){var n=i[r],o=e.getStrokeWidth(n);if(void 0!==o)return o}break;case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return t.width}},e.getSize=function(t){if(t)switch(t.type){case"CIMPointSymbol":var r=0;if(t.symbolLayers)for(var i=0,n=t.symbolLayers;i<n.length;i++){var o=n[i],s=e.getSize(o);r<s&&(r=s)}return r;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":return t.width;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":return t.size}},e.getMarkerScaleRatio=function(e){if(e)switch(e.type){case"CIMVectorMarker":if(!1!==e.scaleSymbolsProportionally&&e.frame){var t=e.frame.ymax-e.frame.ymin;return e.size/t}}return 1},e.executeEffects=function(e,t,r){void 0===r&&(r=!1);var i=e?e.length:0;i&&r&&--i;for(var n=0;n<i;++n){var o=e[n];if(o){var s=a.getEffectOperator(o);s&&(t=s.execute(t,o,96/72))}}return t},e.processEffects=function(t,r,i){var a;if(t.effects&&0<t.effects.length){var l=o.deltaEncodeGeometry(i);a=new s.SimpleGeometryCursor(l),a=e.executeEffects(t.effects,a)}var u=t.symbolLayers[r];if(u.effects&&0<u.effects.length){var h=!1;"CIMGeometricEffectDashes"===u.effects[u.effects.length-1].type&&(h=!0),a||(l=o.deltaEncodeGeometry(i),a=new s.SimpleGeometryCursor(l)),a=e.executeEffects(u.effects,a,h)}if(!a)return i;for(var c=[],p=a.next();p;)c.push(p),p=a.next();var f=c.length;switch(f){case 0:return null;case 1:return o.deltaEncodeGeometry(c[0]);default:for(var d=c[0],m=1;m<f;++m){var g=c[m];n.isPolygon(d)&&n.isPolygon(g)&&Array.prototype.push.apply(d.rings,g.rings),n.isPolyline(d)&&n.isPolyline(g)&&Array.prototype.push.apply(d.paths,g.paths)}return o.deltaEncodeGeometry(d)}},e}();t.CIMSymbolHelper=p;var f=function(){function e(){}return e.rasterizeSimpleFill=function(e,t){e.width=8,e.height=8;var r=e.getContext("2d");r.strokeStyle="#FFFFFF",r.lineWidth=1,r.beginPath(),"vertical"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSVertical"!==t||(r.moveTo(0,0),r.lineTo(0,8)),"horizontal"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSHorizontal"!==t||(r.moveTo(0,0),r.lineTo(8,0)),"forward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSDiagonalCross"!==t&&"esriSFSForwardDiagonal"!==t||(r.moveTo(0,0),r.lineTo(8,8)),"backward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSBackwardDiagonal"!==t&&"esriSFSDiagonalCross"!==t||(r.moveTo(8,0),r.lineTo(0,8)),r.stroke();for(var i,n=r.getImageData(0,0,e.width,e.height),o=new Uint8Array(n.data),s=0;s<o.length;s+=4)i=o[s+3]/255,o[s]=o[s]*i,o[s+1]=o[s+1]*i,o[s+2]=o[s+2]*i;return[o,e.width,e.height]},e.rasterizeSimpleLine=function(e,t,r){var i;switch(r){case"butt":i="Butt";break;case"square":i="Square";break;default:i="Round"}var n,o="Butt"===i;switch(t){case"dash":case"esriSLSDash":n=o?[4,3]:[3,4];break;case"dash-dot":case"esriSLSDashDot":n=o?[4,3,1,3]:[3,4,0,4];break;case"dot":case"esriSLSDot":n=o?[1,3]:[0,4];break;case"long-dash":case"esriSLSLongDash":n=o?[8,3]:[7,4];break;case"long-dash-dot":case"esriSLSLongDashDot":n=o?[8,3,1,3]:[7,4,0,4];break;case"long-dash-dot-dot":case"esriSLSDashDotDot":n=o?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case"short-dash":case"esriSLSShortDash":n=o?[4,1]:[3,2];break;case"short-dash-dot":case"esriSLSShortDashDot":n=o?[4,1,1,1]:[3,2,0,2];break;case"short-dash-dot-dot":case"esriSLSShortDashDotDot":n=o?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case"short-dot":case"esriSLSShortDot":n=o?[1,1]:[0,2];break;case"solid":case"esriSLSSolid":case"none":c.error("Unexpected: style does not require rasterization"),n=[0,0];break;default:c.error("Tried to rasterize SLS, but found an unexpected style: "+t+"!"),n=[0,0]}return this.rasterizeDash(e,n,i)},e.rasterizeDash=function(e,t,r){for(var i="Butt"===r,n="Square"===r,o=!i&&!n,s=0,a=0,l=t;a<l.length;a++)s+=l[a];for(var h=15*s,c=31*h,p=new Float32Array(c),f=o?225:15,d=0;d<c;++d)p[d]=f;for(var m=0,g=0,y=!0,v=0,_=t;v<_.length;v++){m=g,g+=15*_[v];for(var x=m;x<g;){for(var w=0;w<31;){d=w*h+x;var b=o?(w-15)*(w-15):Math.abs(w-15);p[d]=y?i?Math.max(Math.max(m+7.5-x,b),Math.max(x-g+7.5,b)):b:o?Math.min((x-m)*(x-m)+b,(x-g)*(x-g)+b):n?Math.min(Math.max(x-m,b),Math.max(g-x,b)):Math.min(Math.max(x-m+7.5,b),Math.max(g+7.5-x,b)),w++}x++}y=!y}var T=p.length,S=new Uint8Array(4*T);for(d=0;d<T;++d){var M=(o?Math.sqrt(p[d]):p[d])/15;u.packFloat(M,S,4*d)}return[S,h,31]},e}();t.SymbolHelper=f;var d=function(){function e(){}return e.findApplicableOverrides=function(t,r,i){if(r){if(t.primitiveName)for(var n=0,o=r;n<o.length;n++){var s=o[n];if(s.primitiveName===t.primitiveName){for(var a=!1,l=0,u=i;l<u.length;l++)u[l].primitiveName===t.primitiveName&&(a=!0);a||i.push(s)}}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(var h=0,c=t.effects;h<c.length;h++){var p=c[h];e.findApplicableOverrides(p,r,i)}if(t.symbolLayers)for(var f=0,d=t.symbolLayers;f<d.length;f++){var m=d[f];e.findApplicableOverrides(m,r,i)}break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(t.effects)for(var g=0,y=t.effects;g<y.length;g++)p=y[g],e.findApplicableOverrides(p,r,i);if("CIMVectorMarker"===t.type&&t.markerGraphics)for(var v=0,_=t.markerGraphics;v<_.length;v++){var x=_[v];e.findApplicableOverrides(x,r,i),e.findApplicableOverrides(x.symbol,r,i)}}}},e.applyOverrides=function(t,r,i,n){if(r){if(t.primitiveName)for(var o=0,s=r;o<s.length;o++){var a=s[o];if(a.primitiveName===t.primitiveName){if(n&&n.push({cim:t,propertyName:a.propertyName,value:t[a.propertyName]}),a.expression&&(a.value=e.toValue(a.propertyName,a.expression)),i){for(var l=!1,u=0,h=i;u<h.length;u++)h[u].primitiveName===t.primitiveName&&(l=!0);l||i.push(a)}t[a.propertyName]=a.value}}switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(t.effects)for(var c=0,p=t.effects;c<p.length;c++){var f=p[c];e.applyOverrides(f,r,i,n)}if(t.symbolLayers)for(var d=0,m=t.symbolLayers;d<m.length;d++){var g=m[d];e.applyOverrides(g,r,i,n)}break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(t.effects)for(var y=0,v=t.effects;y<v.length;y++)f=v[y],e.applyOverrides(f,r,i,n);if("CIMVectorMarker"===t.type&&t.markerGraphics)for(var _=0,x=t.markerGraphics;_<x.length;_++){var w=x[_];e.applyOverrides(w,r,i,n),e.applyOverrides(w.symbol,r,i,n)}}}},e.restoreOverrides=function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];i.cim[i.propertyName]=i.value}},e.getOverride=function(t,r,i){if(r&&0!==r.length)for(var n=0,o=t;n<o.length;n++){var s=o[n];if(s.primitiveName===r&&s.propertyName===i)return e.toValue(i,s.value)}},e.buildOverrideKey=function(e){return JSON.stringify(e.map(function(e){return{P:e.primitiveName,F:e.propertyName,V:e.value}}))},e.toValue=function(e,t){if("dashTemplate"===e)return t.split(" ").map(function(e){return Number(e)});if("color"!==e)return t;var i=new r(t).toRgba();return i[3]*=255,i},e}();t.OverrideHelper=d}.apply(null,i))||(e.exports=n)},MtZC:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("JNkf"),r("G59t")],void 0===(n=function(e,t,r,i){function n(e,t){void 0===t&&(t=!1);var i=r.WGLVVFlag.SIZE_FIELD_STOPS|r.WGLVVFlag.SIZE_MINMAX_VALUE|r.WGLVVFlag.SIZE_SCALE_STOPS|r.WGLVVFlag.SIZE_UNIT_VALUE,n=(e&(r.WGLVVTarget.FIELD_TARGETS_OUTLINE|r.WGLVVTarget.MINMAX_TARGETS_OUTLINE|r.WGLVVTarget.SCALE_TARGETS_OUTLINE|r.WGLVVTarget.UNIT_TARGETS_OUTLINE))>>>4;return t?i&n:i&~n}function o(e){var t=n(e,!1);return e&(r.WGLVVFlag.COLOR|r.WGLVVFlag.OPACITY|r.WGLVVFlag.ROTATION|t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getVVFlags=function(e){if(!e)return r.WGLVVFlag.NONE;for(var t=0,n=0,o=e;n<o.length;n++){var s=o[n];if("size"===s.type){var a=i.getTypeOfSizeVisualVariable(s);t|=a,"outline"===s.target&&(t|=a<<4)}else"color"===s.type?t|=r.WGLVVFlag.COLOR:"opacity"===s.type?t|=r.WGLVVFlag.OPACITY:"rotation"===s.type&&(t|=r.WGLVVFlag.ROTATION)}return t},t.getSizeFlagsMask=n,t.getMarkerVVFlags=o,t.getFillVVFlags=function(e){return e&(r.WGLVVFlag.COLOR|r.WGLVVFlag.OPACITY)},t.getLineVVFlags=function(e,t){if(t)return e&n(e,!0);var i=n(e,!1);return e&(r.WGLVVFlag.COLOR|r.WGLVVFlag.OPACITY|i)},t.getTextVVFlags=function(e){return o(e)},t.getLabelVVFlags=function(e){return e&n(e,!1)}}.apply(null,i))||(e.exports=n)},MzWl:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE")],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.bindFeature=function(e,t,r){},e}();t.default=i}.apply(null,i))||(e.exports=n)},NSdr:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("MYW0"),r("JNkf"),r("qDit"),r("apbF")],void 0===(n=function(e,t,r,i,n,o){function s(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function a(e){switch(e){case"Butt":return i.CapType.BUTT;case"Square":return i.CapType.SQUARE;case"Round":default:return i.CapType.ROUND}}function l(e){switch(e){case"Bevel":return i.JoinType.BEVEL;case"Miter":return i.JoinType.MITER;case"Round":default:return i.JoinType.ROUND}}function u(e,t,n,o){if(e){var u=e.symbolLayers;if(u){var p,f=r.CIMSymbolHelper.getSize(e);"CIMPointSymbol"===e.type&&"Map"===e.angleAlignment&&(p=i.Alignment.MAP);for(var d=u.length;d--;){var m=u[d];if(m&&!1!==m.enable)switch(m.type){case"CIMSolidFill":o.push({type:"fill",materialHash:null,cim:m,colorLocked:m.colorLocked,color:c(m.primitiveName,"Color",n,t)||s(m.color),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1});break;case"CIMPictureFill":o.push({type:"fill",materialHash:null,cim:m,colorLocked:m.colorLocked,color:c(m.primitiveName,"TintColor",n,t)||s(m.tintColor),height:c(m.primitiveName,"Height",n,t)||m.height,scaleX:c(m.primitiveName,"ScaleX",n,t)||m.scaleX,angle:c(m.primitiveName,"Rotation",n,t)||m.rotation,offsetX:c(m.primitiveName,"OffsetX",n,t)||m.offsetY,offsetY:c(m.primitiveName,"OffsetY",n,t)||m.offsetY});break;case"CIMHatchFill":case"CIMGradientFill":break;case"CIMSolidStroke":var g=void 0!==m.width?m.width:4;o.push({type:"line",materialHash:null,cim:m,isOutline:"CIMPolygonSymbol"===e.type,colorLocked:m.colorLocked,color:c(m.primitiveName,"Color",n,t)||s(m.color),width:c(m.primitiveName,"Width",n,t)||g,cap:c(m.primitiveName,"CapStyle",n,t)||a(m.capStyle),join:c(m.primitiveName,"JoinStyle",n,t)||l(m.joinStyle),miterLimit:c(m.primitiveName,"MiterLimit",n,t)||m.miterLimit,sizeRatio:f?g/f:1,isDashed:!1});break;case"CIMPictureStroke":g=void 0!==m.width?m.width:4;o.push({type:"line",materialHash:null,cim:m,isOutline:"CIMPolygonSymbol"===e.type,colorLocked:m.colorLocked,color:c(m.primitiveName,"TintColor",n,t)||s(m.tintColor),width:c(m.primitiveName,"Width",n,t)||g,cap:c(m.primitiveName,"CapStyle",n,t)||a(m.capStyle),join:c(m.primitiveName,"JoinStyle",n,t)||l(m.joinStyle),miterLimit:c(m.primitiveName,"MiterLimit",n,t)||m.miterLimit,sizeRatio:f?g/f:1,isDashed:!1});break;case"CIMGradientStroke":g=void 0!==m.width?m.width:4;o.push({type:"line",materialHash:null,cim:m,isOutline:"CIMPolygonSymbol"===e.type,colorLocked:m.colorLocked,color:{r:0,g:0,b:0,a:1},width:c(m.primitiveName,"Width",n,t)||g,cap:c(m.primitiveName,"CapStyle",n,t)||a(m.capStyle),join:c(m.primitiveName,"JoinStyle",n,t)||l(m.joinStyle),miterLimit:c(m.primitiveName,"MiterLimit",n,t)||m.miterLimit,sizeRatio:f?g/f:1,isDashed:!1});break;case"CIMCharacterMarker":break;case"CIMPictureMarker":o.push({type:"marker",materialHash:null,cim:m,colorLocked:m.colorLocked,alignment:p,anchorPoint:m.anchorPoint,size:c(m.primitiveName,"Size",n,t)||m.size,scaleX:c(m.primitiveName,"ScaleX",n,t)||m.scaleX,rotation:c(m.primitiveName,"Rotation",n,t)||m.rotation,offsetX:c(m.primitiveName,"OffsetX",n,t)||m.offsetX,offsetY:c(m.primitiveName,"OffsetY",n,t)||m.offsetY,color:c(m.primitiveName,"TintColor",n,t)||s(m.tintColor),outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:m.rotateClockwise,sizeRatio:f?m.size/f:1});break;case"CIMVectorMarker":h(m,t,n,f,p,o)}}}}}function h(e,t,i,o,a,l){var u=e.markerGraphics;if(u){var h=0;if(e.scaleSymbolsProportionally){var p=e.frame;p&&(h=p.ymax-p.ymin)}for(var f=0,d=u;f<d.length;f++)if(d[f]){var m=n.getSDFSymbol(e),g=m&&"CIMLineSymbol"===m.type?.5:1;l.push({type:"marker",materialHash:i?function(e){return"0"}:null,cim:e,colorLocked:e.colorLocked,alignment:a,anchorPoint:e.anchorPoint,size:c(e.primitiveName,"Size",i,t)||e.size,scaleX:1,rotation:c(e.primitiveName,"Rotation",i,t)||e.rotation,offsetX:c(e.primitiveName,"OffsetX",i,t)||e.offsetX,offsetY:c(e.primitiveName,"OffsetY",i,t)||e.offsetY,color:s(r.CIMSymbolHelper.getFillColor(m)),outlineColor:s(r.CIMSymbolHelper.getStrokeColor(m)),outlineWidth:r.CIMSymbolHelper.getStrokeWidth(m)*g,frameHeight:h,rotateClockwise:e.rotateClockwise,sizeRatio:o?e.size/o:1})}}}function c(e,t,r,i){if(!e)return null;for(var n=0,s=r;n<s.length;n++){var a=s[n];if(a.primitiveName===e&&a.propertyName===t){var l=a.valueExpressionInfo;if(l)return o.createArcadeFunction(l.expression,i)}}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.analyzeCIMSymbol=function(e,t){var r=[],i=e.data.symbol,n=e.data.primitiveOverrides;switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":u(i,t,n,r)}return r},t.analyzeCIMResource=function(e,t){return t}}.apply(null,i))||(e.exports=n)},PlK1:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("ma1f")],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ok=function(e,t){if(e&&"name"in e){var i=e;return t&&t.error(new r(i.name,i.message,i.details)),!1}return!0}}.apply(null,i))||(e.exports=n)},S0eh:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("qsST"),r("jBNx"),r("AzkI")],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){return e.order-t.order},s=function(e,t){return e.index-t.index},a=r.getLogger("esri/views/2d/engine/webgl/collisions/CollisionEngine");function l(e){return function(t){return i.pt2px(e.getSize(t))}}function u(e){if(!e)return null;for(var t=0,r=e;t<r.length;t++){var i=r[t];if("size"===i.type)return l(i)}return null}t.createLabelVVEvaluator=u;var h=function(){function e(e,t,r,i,o){var s=this;this._vvHandle=null;var a=e.geometryType,l=e.labelingInfo,h=e.renderer;this.vvEval=u("visualVariables"in h&&h.visualVariables),this._vvHandle=e.watch("visualVariables",function(e){s.vvEval=u(e)});var c=l.map(function(e){return r=o,i=!!(t=e).minScale,s=!!t.maxScale,a=i&&r.scaleToZoom(t.minScale)||0,l=s&&r.scaleToZoom(t.maxScale)||255,{minZoom:n.clamp(Math.floor(10*a),0,255),maxZoom:n.clamp(Math.floor(10*l),0,255)};var t,r,i,s,a,l});this.geometryType=a,this.index=r,this.order=i,this.zoomRanges=c,this.layerView=t}return e.prototype.hasVV=function(){return!!this.vvEval},e.prototype.allOrNothing=function(){return!("polyline"===this.geometryType)},e.prototype.destroy=function(){this._vvHandle.remove()},e.create=function(t,r,i,n,s){for(var a=n.sort(o),l=!1,u=-1,h=0,c=a;h<c.length;h++){var p=c[h];!l&&p.order>i&&(u=p.index,l=!0),l&&p.index++}return l||(u=a.length),new e(t,r,u,i,s)},e.delete=function(e,t){for(var r=t.sort(s),i=e+1;i<r.length;i++)t[i].index--;t[e].destroy(),t.splice(e,1)},e.find=function(e,t){for(var r=0,i=t;r<i.length;r++){var n=i[r];if(n.index===e)return n}return a.error("Tried to get a LayerCollisionInfo for an index that doesn't exist!"),null},e}();t.default=h}.apply(null,i))||(e.exports=n)},bGfK:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("Lzvl"),r("DxV2")],void 0===(n=function(e,t,r,i){function n(e){if(e)for(var t=e.length-1;t>0;--t)e[t][0]-=e[t-1][0],e[t][1]-=e[t-1][1]}function o(e){if(e)for(var t=0,r=e;t<r.length;t++){n(r[t])}}function s(e){if(e)for(var t=e.length,r=1;r<t;++r)e[r][0]+=e[r-1][0],e[r][1]+=e[r-1][1]}function a(e){if(e)for(var t=0,r=e;t<r.length;t++){s(r[t])}}function l(e){e&&e.reverse()}function u(e){return{rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}}Object.defineProperty(t,"__esModule",{value:!0}),t.deltaEncodePath=n,t.deltaEncodeMultipath=o,t.deltaDecodeGeometry=function(e){return r.isPolygon(e)?a(e.rings):r.isPolyline(e)?a(e.paths):r.isMultipoint(e)&&s(e.points),e},t.deltaEncodeGeometry=function(e){return r.isPolygon(e)?o(e.rings):r.isPolyline(e)?o(e.paths):r.isMultipoint(e)&&n(e.points),e},t.reverseMultipath=function(e){if(e)for(var t=0,r=e;t<r.length;t++)l(r[t])},t.reversePath=l,t.getCoord2D=function(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]},t.isClosedPath=function(e){return!(!e||0===e.length)&&e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]},t.getId=function(e){return e[4]},t.setId=function(e,t){e[4]=t};var h=function(){function e(e,t,n,o){this.acceptPolygon=t,this.acceptPolyline=n,this.geomUnitsPerPoint=o,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1,e&&(r.isPolygon(e)?t&&(this.multiPath=e.rings,this.isClosed=!0):r.isPolyline(e)?n&&(this.multiPath=e.paths,this.isClosed=!1):r.isExtent(e)&&t&&(this.multiPath=u(e).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length)),this.internalPlacement=new i.Placement}return e.prototype.next=function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var e=this.processPath(this.multiPath[this.pathIndex]);if(e)return e}return this.pathCount=-1,this.pathIndex=-1,this.multiPath=null,null},e.prototype.processPath=function(e){return null},e}();t.PathTransformationCursor=h;var c=function(){function e(e,t,r,i){this.inputGeometries=e,this.acceptPolygon=t,this.acceptPolyline=r,this.geomUnitsPerPoint=i,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1}return e.prototype.next=function(){for(;;){if(!this.multiPath){for(var e=this.inputGeometries.next();e;){if(r.isPolygon(e)?this.acceptPolygon&&(this.multiPath=e.rings,this.isClosed=!0):r.isPolyline(e)?this.acceptPolyline&&(this.multiPath=e.paths,this.isClosed=!1):r.isExtent(e)&&this.acceptPolygon&&(this.multiPath=u(e).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length,this.pathIndex=-1;break}e=this.inputGeometries.next()}if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var t=this.processPath(this.multiPath[this.pathIndex]);if(t)return t}this.pathCount=-1,this.pathIndex=-1,this.multiPath=null}},e.prototype.processPath=function(e){return null},e}();t.PathGeometryCursor=c}.apply(null,i))||(e.exports=n)},bLBh:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("ma1f"),r("qsST"),r("CX95")],void 0===(n=function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var o=i.getLogger("esri/views/2d/engine/webgl/mesh/factories/matcherUtils");t.createMatcher=function(e,t,i){switch(e.type){case"simple":case"dot-density":case"dotDensity":return n.default.fromBasicRenderer(e,t,i);case"unique-value":case"uniqueValue":return n.MapMatcher.fromUVRenderer(e,t,i);case"class-breaks":case"classBreaks":return n.IntervalMatcher.fromCBRenderer(e,t,i);default:return o.error(new r("mapview-mesh:invalid-renderer","Unable to handle unknown renderer type")),null}}}.apply(null,i))||(e.exports=n)},bUZ0:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("6cAc")],void 0===(n=function(e,t,r){return function(){function e(e,t,r,i,n,o,s,a){this._glyphItems=e,this._maxWidth=t,this._lineHeight=r,this._letterSpacing=i,this._offset=n,this._hAnchor=o,this._vAnchor=s,this._justify=a}return e.prototype.getShaping=function(e,t){for(var r=this._letterSpacing,i=this._lineHeight,n=this._justify,o=this._maxWidth,s=[],a=0,l=0,u=0,h=0,c=-1,p=0,f=-1,d=e.length,m=0;m<d;m++){var g=e.charCodeAt(m);if(10!==g){for(var y=void 0,v=0,_=this._glyphItems;v<_.length&&!(y=_[v][g]);v++);if(y){if(s.push({codePoint:g,x:a,y:l,glyphMosaicItem:y}),a+=y.metrics.advance+r,0<o&&o<a&&0<=f){var x=f+1;b=s[x].x,p=Math.max(b,p);for(var w=x;w<s.length;w++)t?s[w].y-=i:s[w].y+=i,s[w].x-=b;n&&this._applyJustification(s,h,f),t?l-=i:l+=i,a-=b,++u,h=x,f=-1}++c,32===g&&(f=s.length-1)}}else{if(m===d-1)continue;if(h<=c){var b=(T=s[c]).x+T.glyphMosaicItem.metrics.advance;p=Math.max(b,p),n&&this._applyJustification(s,h,c),h=s.length}t?l-=i:l+=i,a=0,++u}}if(h<=c){var T,S=(T=s[c]).x+T.glyphMosaicItem.metrics.advance;p=Math.max(p,S),n&&this._applyJustification(s,h,c)}if(0<s.length){var M=(n-this._hAnchor)*p,E=(-this._vAnchor*(u+1)+.5)*i;t&&u&&(E+=u*i),M+=this._offset[0],E+=this._offset[1];for(var L=0,I=s;L<I.length;L++){var G=I[L];G.x+=M,G.y+=E}}return s},e.prototype.getEstimatedShaping=function(e,t,r){for(var i=this._letterSpacing,n=this._lineHeight,o=this._justify,s=this._maxWidth,a=[],l=0,u=0,h=0,c=0,p=-1,f=0,d=-1,m=e.length,g=0;g<m;g++){var y=e.charCodeAt(g);if(10!==y){var v=r;if(a.push({codePoint:y,x:l,y:u,glyphMosaicItem:v}),l+=v.metrics.advance+i,0<s&&s<l&&0<=d){var _=d+1;w=a[_].x,f=Math.max(w,f);for(var x=_;x<a.length;x++)t?a[x].y-=n:a[x].y+=n,a[x].x-=w;o&&this._applyJustification(a,c,d),t?u-=n:u+=n,l-=w,++h,c=_,d=-1}++p,32===y&&(d=a.length-1)}else{if(g===m-1)continue;if(c<=p){var w=(b=a[p]).x+b.glyphMosaicItem.metrics.advance;f=Math.max(w,f),o&&this._applyJustification(a,c,p),c=a.length}t?u-=n:u+=n,l=0,++h}}if(c<=p){var b,T=(b=a[p]).x+b.glyphMosaicItem.metrics.advance;f=Math.max(f,T),o&&this._applyJustification(a,c,p)}if(0<a.length){var S=(o-this._hAnchor)*f,M=(-this._vAnchor*(h+1)+.5)*n;t&&h&&(M+=h*n),S+=this._offset[0],M+=this._offset[1];for(var E=0,L=a;E<L.length;E++){var I=L[E];I.x+=S,I.y+=M}}return a},e.getBox=function(e){if(!e.length)return null;for(var t=1/0,r=1/0,i=-1/0,n=-1/0,o=0,s=e;o<s.length;o++){var a=s[o],l=a.glyphMosaicItem.metrics,u=l.height,h=l.left,c=l.top,p=l.width,f=a.x+h,d=a.y-c,m=f+p,g=d+u;t=Math.min(t,f),i=Math.max(i,m),r=Math.min(r,d),n=Math.max(n,g)}return{x:t,y:r,width:i-t,height:n-r}},e.addDecoration=function(e,t){var i=e.length;if(0!==i){for(var n=e[0].x+e[0].glyphMosaicItem.metrics.left,o=e[0].y,s=1;s<i;s++){var a=e[s];if(a.y!==o){var l=e[s-1].x+e[s-1].glyphMosaicItem.metrics.left+e[s-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:n,y:o,glyphMosaicItem:{sdf:!0,rect:new r(4,0,4,8),metrics:{width:l-n,height:2,left:0,top:t,advance:0},page:0}}),o=a.y,n=a.x+a.glyphMosaicItem.metrics.left}}var u=e[i-1].x+e[i-1].glyphMosaicItem.metrics.left+e[i-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:n,y:o,glyphMosaicItem:{sdf:!0,rect:new r(4,0,4,8),metrics:{width:u-n,height:2,left:0,top:t,advance:0},page:0}})}},e.prototype._applyJustification=function(e,t,r){for(var i=e[r],n=i.glyphMosaicItem.metrics.advance,o=(i.x+n)*this._justify,s=t;s<=r;s++)e[s].x-=o},e}()}.apply(null,i))||(e.exports=n)},cF6f:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("flWe"),r("3vQA")],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.displayObjects=e,this.vertexVectorsMap=t}return Object.defineProperty(e.prototype,"vertexBuffersMap",{get:function(){if(!this._vertexBuffersMap){this._vertexBuffersMap={};for(var e=0;e<this.vertexVectorsMap.length;e++)this._vertexBuffersMap[e]=this.vertexVectorsMap[e].intoBuffers();this.vertexVectorsMap=null}return this._vertexBuffersMap},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this.vertexVectorsMap[e]},e.prototype.pushDisplayObject=function(e){this.displayObjects.push(e)},e.prototype.encode=function(e,t){var n=r.serializeList(new i.default(Uint32Array,this._guessSize()),this.displayObjects).buffer(),o={};t.push(n);for(var s=0;s<this.vertexVectorsMap.length;s++){var a=this.vertexVectorsMap[s];o[s]={},a.transfer(o[s],t)}e.displayObjects=n,e.vertexBuffersMap=o,this.destroy()},e.prototype.destroy=function(){this.vertexVectorsMap=null,this.displayObjects=null},e.prototype._guessSize=function(){for(var e=this.displayObjects,t=Math.min(e.length,4),r=0,i=0;i<t;i++)r=Math.max(r,e[i].displayRecords.length);return 2*(12*e.length+e.length*r*40)},e}();t.default=n}.apply(null,i))||(e.exports=n)},cjzh:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("ma1f"),r("qsST"),r("jBNx"),r("aMdW"),r("Zx0K"),r("W9tT"),r("ab6c"),r("4F/P"),r("tI6k"),r("JNkf"),r("JNkf"),r("Dos2"),r("hNI9"),r("m87x"),r("MzWl")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d,m,g,y){Object.defineProperty(t,"__esModule",{value:!0});var v=n.getLogger("esri.views.2d.engine.webgl.WGLMeshTemplate"),_=function(e){function t(t,r,n,o,h,c,m,y,_,x,w,b,T){var S=e.call(this)||this;S.geometryType=p.WGLGeometryType.MARKER,(200<c||200<m)&&(v.error(new i("mapview-oversized-resource","Marker size was clamped to the maximum allowed value of 200x200 pixels")),m<c?(m*=200/c,c=200):(c*=200/m,m=200));var M=u.vec2f32.create(),E=a.mat2df32.create();c=0===c?0:Math.max(c,2),m=0===m?0:Math.max(m,2);var L=(b===f.Alignment.MAP?1:0)|(x?1:0)<<1|(w?1:0)<<2,I=T.sdf?.5:1;s.mat2d.translate(E,E,u.vec2f32.fromValues(I*r,I*-n)),o&&s.mat2d.rotate(E,E,3.14159265359/180*o);var G=g.MarkerMaterialKey.load(g.createMaterialKey(S.geometryType,t,!1));T&&(G.sdf=T.sdf,G.pattern=!0,G.textureBinding=T.textureBinding),S._materialKey=G.data,S._fillColor=h,S._outlineColor=y,S._sizeOutlineWidth=d.i8888to32(c,m,_,L);var C=Math.round(T.rect.x/4)-128,V=Math.round(T.rect.y/4)-128,N=C+Math.round(T.rect.width/4),P=V+Math.round(T.rect.height/4);return l.vec2.set(M,-.5*c,-.5*m),l.vec2.transformMat2d(M,M,E),S._offsetAndTexUpperLeft=d.i8888to32(d.i8(M[0]),d.i8(M[1]),C,V),l.vec2.set(M,.5*c,-.5*m),l.vec2.transformMat2d(M,M,E),S._offsetAndTexUpperRight=d.i8888to32(d.i8(M[0]),d.i8(M[1]),N,V),l.vec2.set(M,-.5*c,.5*m),l.vec2.transformMat2d(M,M,E),S._offsetAndTexBottomLeft=d.i8888to32(d.i8(M[0]),d.i8(M[1]),C,P),l.vec2.set(M,.5*c,.5*m),l.vec2.transformMat2d(M,M,E),S._offsetAndTexBottomRight=d.i8888to32(d.i8(M[0]),d.i8(M[1]),N,P),S.height=m,S.width=c,S.xOffset=r,S.yOffset=n,S}return r(t,e),t.fromCIMMarker=function(e,r,i){var n=h.premultiplyAlphaRGBA(r.color),s=h.premultiplyAlphaRGBA(r.outlineColor),a=Math.round(o.pt2px(r.size)),l=Math.round(o.pt2px(r.size/i.height*i.width)),u=Math.round(o.pt2px(r.offsetX||0)),c=Math.round(o.pt2px(r.offsetY||0)),p=Math.round(o.pt2px(r.outlineWidth||0)),d=r.rotation||0,m=r.alignment||f.Alignment.SCREEN;return new t(e,u,c,d,n,l,a,s,p,r.colorLocked,!1,m,i)},t.fromPictureMarker=function(e,r,i){var n=Math.round(o.pt2px(r.width)),s=Math.round(o.pt2px(r.height)),a=c.PICTURE_FILL_COLOR;return new t(e,Math.round(o.pt2px(r.xoffset||0)),Math.round(o.pt2px(r.yoffset||0)),r.angle,a,n,s,0,0,!1,!1,f.Alignment.SCREEN,i)},t.fromSimpleMarker=function(e,r,i){var n=h.premultiplyAlphaRGBA(r.color),s=Math.round(o.pt2px(r.size)),a=s,l=Math.round(o.pt2px(r.xoffset||0)),u=Math.round(o.pt2px(r.yoffset||0)),c=r.style,p=r.outline,d=0|(p&&p.color&&h.premultiplyAlphaRGBA(p.color)),m=0|(p&&p.width&&Math.round(o.pt2px(p.width)));return new t(e,l,u,r.angle,n,s,a,d,m,!1,"cross"===c||"x"===c,f.Alignment.SCREEN,i)},t.prototype.writeMesh=function(e,t,r,i,n,o,s,a){var l=g.MarkerMaterialKey.load(this._materialKey),u=t.indexVector,h=t.get("geometry"),c=t.get("visibility"),p=new m(i,this.geometryType,this._materialKey),f=t.getVector("geometry").vertexCount;switch(e.push(p),p.vertexFrom=f,p.indexFrom=u.length,r){case"esriGeometryPoint":var d=n.geometry,y=d.x,_=d.y;return this._writeVertices(p,h,c,i,this._getPos(y,_),l,s,a),void this._writeIndices(p,u,f);case"esriGeometryPolyline":var x=n.geometry.paths;return void this._writeMany(p,u,h,c,f,i,x[0],l,s,a);case"esriGeometryPolygon":var w=n.centroid;return void(w?(y=w.x,_=w.y,this._writeVertices(p,h,c,i,this._getPos(y,_),l,s,a),this._writeIndices(p,u,f)):v.error("Tried to render polygon geometries as markers, but found no centroid!"));case"esriGeometryMultipoint":var b=n.geometry.points;return void this._writeMany(p,u,h,c,f,i,b,l,s,a);case"esriGeometryEnvelope":default:v.error("Unable to handle geometryType: "+r)}},t.prototype._getPos=function(e,t){return d.i1616to32(e,t)},t.prototype._writeMany=function(e,t,r,i,n,o,s,a,l,u){for(var h=0,c=0,p=0,f=0,d=s;f<d.length;f++){var m=d[f],g=m[0],y=m[1],v=this._getPos(g+h,y+c);this._writeVertices(e,r,i,o,v,a,l,u),this._writeIndices(e,t,n+p),h+=g,c+=y,p+=4}},t.prototype._writeVertices=function(e,t,r,i,n,o,s,a){t.push(n),t.push(this._offsetAndTexUpperLeft),t.push(i),t.push(this._fillColor),t.push(this._outlineColor),t.push(this._sizeOutlineWidth),this._writeVV(t,s,o),r.push(a),t.push(n),t.push(this._offsetAndTexUpperRight),t.push(i),t.push(this._fillColor),t.push(this._outlineColor),t.push(this._sizeOutlineWidth),this._writeVV(t,s,o),r.push(a),t.push(n),t.push(this._offsetAndTexBottomLeft),t.push(i),t.push(this._fillColor),t.push(this._outlineColor),t.push(this._sizeOutlineWidth),this._writeVV(t,s,o),r.push(a),t.push(n),t.push(this._offsetAndTexBottomRight),t.push(i),t.push(this._fillColor),t.push(this._outlineColor),t.push(this._sizeOutlineWidth),this._writeVV(t,s,o),r.push(a),e.vertexCount+=4},t.prototype._writeVV=function(e,t,r){r.hasVV()&&(e.push(t[p.VVType.SIZE]),e.push(t[p.VVType.COLOR]),e.push(t[p.VVType.OPACITY]),e.push(t[p.VVType.ROTATION]))},t.prototype._writeIndices=function(e,t,r){var i=r;t.push(i+0),t.push(i+1),t.push(i+2),t.push(i+1),t.push(i+3),t.push(i+2),e.indexCount+=6},t}(y.default);t.default=_}.apply(null,i))||(e.exports=n)},"e2Y+":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("ma1f"),r("qsST"),r("aMdW"),r("Zx0K"),r("tI6k"),r("m87x"),r("75dh"),r("8Lwu"),r("AzkI")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h){Object.defineProperty(t,"__esModule",{value:!0});var c=i.getLogger("esri.views.2d.engine.webgl.GlyphGroup"),p=function(){function e(e,t,r,i,n,o,s,a,l,u){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===o&&(o=-1),void 0===s&&(s=-1),void 0===a&&(a=-1),void 0===l&&(l=0),void 0===u&&(u=-1),this.x=e,this.y=t,this.t=r,this.i=i,this.j=n,this.segmentPosX=o,this.segmentPosY=s,this.segmentLen=a,this.pathLen=l,this.order=u,this._glyphs=new Map,this.minZoom=0}return Object.defineProperty(e.prototype,"glyphs",{get:function(){return this._glyphs},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){var r=this._glyphs.get(t);r?r.push(e):this._glyphs.set(t,[e])},e.prototype.clear=function(){this._glyphs.clear()},e.prototype.place=function(e,t,i,n,o,s,u,h,p,f,d){var m,g,y=e.x,v=e.y,_=e.codePoint,x=e.glyphMosaicItem,w=a.MaterialKeyBase.load(o);switch(w.textureBinding=e.glyphMosaicItem.textureBinding,t){case"esriGeometryPoint":case"esriGeometryPolygon":var b=l.default.from(y,v,this.x,this.y,-1,f,d,x,_,w.data,n,s,u);return void this.add(b,0);case"esriGeometryPolyline":var T=i.geometry;return this._placeGlyphAlongLine(e,w.data,T,n,h,s,u,p,f,d,-1),void this._placeGlyphAlongLine(e,w.data,T,n,h,s,u,p,f,d,1);case"esriGeometryMultipoint":case"esriGeometryEnvelope":return m="Cannot place for unsupported geometryType: "+t,void 0===g&&(g="mapview-labeling"),void c.error(new r(g,m))}},e.prototype._findLabelTheta=function(e,t,r,i){var n=i*t,o=(0*n+i*-e*-1)/(1*r),s=Math.acos(o);return 0<n&&(s=2*Math.PI-s),s},e.prototype._placeGlyphAlongLine=function(e,t,r,i,a,c,p,f,d,m,g){var y=r.paths[this.i],v=y[this.j],_=v[0],x=v[1],w=e.x,b=e.y,T=e.glyphMosaicItem,S=e.codePoint,M=e.glyphMosaicItem.metrics,E=(e.x+M.left+M.width/2)*c/24,L=g*h.sign(E)||1,I=Math.abs(E),G=u.len(_,x),C=this._findLabelTheta(_,x,G,g),V=(L+1)/2,N=-L*(-1*V+this.t)*G,P=n.mat2d.rotate(o.mat2df32.create(),i,-C),O=m,k=48<a.height,D=0===N?O:Math.max(Math.max(f+h.log2(Math.abs(I/N)),0),d);k&&(D=d);var A=k||D<=f&&f<=O&&1===g,R=l.default.from(w,b,this.x,this.y,C,D,O,T,S,t,P,c,p,A);if(this.add(R,this.j),!k)for(var F=this.segmentPosX+V*_,U=this.segmentPosY+V*x,z=D,B=this.j+L;0<B&&B<y.length;B+=L){var W=F,H=U,j=y[B],q=j[0],X=j[1],K=u.len(q,X),Y=this._findLabelTheta(q,X,K,g),Z=n.mat2d.rotate(o.mat2df32.create(),i,-Y),Q=W+-L*q/K*N,J=H+-L*X/K*N,$=z-.1,ee=0===(N+=K)?$:Math.max(Math.max(f+h.log2(Math.abs(I/N)),0),d),te=ee<=f&&f<=$&&1===g,re=l.default.from(w,b,Q,J,C,ee,$,T,S,t,Z,c,p,te);if(this.add(re,B),ee<f-s.COLLISION_MAX_ZOOM_DELTA){this.minZoom=Math.max(ee,this.minZoom);break}F+=L*q,U+=L*X,z=ee}},e}();t.default=p}.apply(null,i))||(e.exports=n)},l9lW:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("rg9i")],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._geometry=e}return e.prototype.next=function(){var e=this._geometry;return this._geometry=null,e},e}();t.SimpleGeometryCursor=i,t.clone=function(e){return r.clone(e)}}.apply(null,i))||(e.exports=n)},lnyn:function(e,t,r){var i;void 0===(i=function(){"use strict";var e={DEBUG:!1,assert:function(t,r){if(e.DEBUG&&!t)throw new Error("Assertion failed"+(r?": "+r:""))},GLU_TESS_MAX_COORD:1e150,TRUE_PROJECT:!1,GLU_TESS_DEFAULT_TOLERANCE:0,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111,GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901}};return e.PQHandle,e.geom={},e.geom.vertEq=function(e,t){return e.s===t.s&&e.t===t.t},e.geom.vertLeq=function(e,t){return e.s<t.s||e.s===t.s&&e.t<=t.t},e.geom.edgeEval=function(t,r,i){e.assert(e.geom.vertLeq(t,r)&&e.geom.vertLeq(r,i));var n=r.s-t.s,o=i.s-r.s;return n+o>0?n<o?r.t-t.t+(t.t-i.t)*(n/(n+o)):r.t-i.t+(i.t-t.t)*(o/(n+o)):0},e.geom.edgeSign=function(t,r,i){e.assert(e.geom.vertLeq(t,r)&&e.geom.vertLeq(r,i));var n=r.s-t.s,o=i.s-r.s;return n+o>0?(r.t-i.t)*n+(r.t-t.t)*o:0},e.geom.transLeq=function(e,t){return e.t<t.t||e.t===t.t&&e.s<=t.s},e.geom.transEval=function(t,r,i){e.assert(e.geom.transLeq(t,r)&&e.geom.transLeq(r,i));var n=r.t-t.t,o=i.t-r.t;return n+o>0?n<o?r.s-t.s+(t.s-i.s)*(n/(n+o)):r.s-i.s+(i.s-t.s)*(o/(n+o)):0},e.geom.transSign=function(t,r,i){e.assert(e.geom.transLeq(t,r)&&e.geom.transLeq(r,i));var n=r.t-t.t,o=i.t-r.t;return n+o>0?(r.s-i.s)*n+(r.s-t.s)*o:0},e.geom.edgeGoesLeft=function(t){return e.geom.vertLeq(t.dst(),t.org)},e.geom.edgeGoesRight=function(t){return e.geom.vertLeq(t.org,t.dst())},e.geom.vertL1dist=function(e,t){return Math.abs(e.s-t.s)+Math.abs(e.t-t.t)},e.geom.vertCCW=function(e,t,r){return e.s*(t.t-r.t)+t.s*(r.t-e.t)+r.s*(e.t-t.t)>=0},e.geom.interpolate_=function(e,t,r,i){return(e=e<0?0:e)<=(r=r<0?0:r)?0===r?(t+i)/2:t+e/(e+r)*(i-t):i+r/(e+r)*(t-i)},e.geom.edgeIntersect=function(t,r,i,n,o){var s,a,l;e.geom.vertLeq(t,r)||(l=t,t=r,r=l),e.geom.vertLeq(i,n)||(l=i,i=n,n=l),e.geom.vertLeq(t,i)||(l=t,t=i,i=l,l=r,r=n,n=l),e.geom.vertLeq(i,r)?e.geom.vertLeq(r,n)?((s=e.geom.edgeEval(t,i,r))+(a=e.geom.edgeEval(i,r,n))<0&&(s=-s,a=-a),o.s=e.geom.interpolate_(s,i.s,a,r.s)):((s=e.geom.edgeSign(t,i,r))+(a=-e.geom.edgeSign(t,n,r))<0&&(s=-s,a=-a),o.s=e.geom.interpolate_(s,i.s,a,n.s)):o.s=(i.s+r.s)/2,e.geom.transLeq(t,r)||(l=t,t=r,r=l),e.geom.transLeq(i,n)||(l=i,i=n,n=l),e.geom.transLeq(t,i)||(l=t,t=i,i=l,l=r,r=n,n=l),e.geom.transLeq(i,r)?e.geom.transLeq(r,n)?((s=e.geom.transEval(t,i,r))+(a=e.geom.transEval(i,r,n))<0&&(s=-s,a=-a),o.t=e.geom.interpolate_(s,i.t,a,r.t)):((s=e.geom.transSign(t,i,r))+(a=-e.geom.transSign(t,n,r))<0&&(s=-s,a=-a),o.t=e.geom.interpolate_(s,i.t,a,n.t)):o.t=(i.t+r.t)/2},e.mesh={},e.mesh.makeEdge=function(t){var r=e.mesh.makeEdgePair_(t.eHead);return e.mesh.makeVertex_(r,t.vHead),e.mesh.makeVertex_(r.sym,t.vHead),e.mesh.makeFace_(r,t.fHead),r},e.mesh.meshSplice=function(t,r){var i=!1,n=!1;t!==r&&(r.org!==t.org&&(n=!0,e.mesh.killVertex_(r.org,t.org)),r.lFace!==t.lFace&&(i=!0,e.mesh.killFace_(r.lFace,t.lFace)),e.mesh.splice_(r,t),n||(e.mesh.makeVertex_(r,t.org),t.org.anEdge=t),i||(e.mesh.makeFace_(r,t.lFace),t.lFace.anEdge=t))},e.mesh.deleteEdge=function(t){var r=t.sym,i=!1;t.lFace!==t.rFace()&&(i=!0,e.mesh.killFace_(t.lFace,t.rFace())),t.oNext===t?e.mesh.killVertex_(t.org,null):(t.rFace().anEdge=t.oPrev(),t.org.anEdge=t.oNext,e.mesh.splice_(t,t.oPrev()),i||e.mesh.makeFace_(t,t.lFace)),r.oNext===r?(e.mesh.killVertex_(r.org,null),e.mesh.killFace_(r.lFace,null)):(t.lFace.anEdge=r.oPrev(),r.org.anEdge=r.oNext,e.mesh.splice_(r,r.oPrev())),e.mesh.killEdge_(t)},e.mesh.addEdgeVertex=function(t){var r=e.mesh.makeEdgePair_(t),i=r.sym;return e.mesh.splice_(r,t.lNext),r.org=t.dst(),e.mesh.makeVertex_(i,r.org),r.lFace=i.lFace=t.lFace,r},e.mesh.splitEdge=function(t){var r=e.mesh.addEdgeVertex(t).sym;return e.mesh.splice_(t.sym,t.sym.oPrev()),e.mesh.splice_(t.sym,r),t.sym.org=r.org,r.dst().anEdge=r.sym,r.sym.lFace=t.rFace(),r.winding=t.winding,r.sym.winding=t.sym.winding,r},e.mesh.connect=function(t,r){var i=!1,n=e.mesh.makeEdgePair_(t),o=n.sym;return r.lFace!==t.lFace&&(i=!0,e.mesh.killFace_(r.lFace,t.lFace)),e.mesh.splice_(n,t.lNext),e.mesh.splice_(o,r),n.org=t.dst(),o.org=r.org,n.lFace=o.lFace=t.lFace,t.lFace.anEdge=o,i||e.mesh.makeFace_(n,t.lFace),n},e.mesh.zapFace=function(t){var r,i=t.anEdge,n=i.lNext;do{if(n=(r=n).lNext,r.lFace=null,null===r.rFace()){r.oNext===r?e.mesh.killVertex_(r.org,null):(r.org.anEdge=r.oNext,e.mesh.splice_(r,r.oPrev()));var o=r.sym;o.oNext===o?e.mesh.killVertex_(o.org,null):(o.org.anEdge=o.oNext,e.mesh.splice_(o,o.oPrev())),e.mesh.killEdge_(r)}}while(r!==i);var s=t.prev,a=t.next;a.prev=s,s.next=a},e.mesh.meshUnion=function(e,t){var r=e.fHead,i=e.vHead,n=e.eHead,o=t.fHead,s=t.vHead,a=t.eHead;return o.next!==o&&(r.prev.next=o.next,o.next.prev=r.prev,o.prev.next=r,r.prev=o.prev),s.next!==s&&(i.prev.next=s.next,s.next.prev=i.prev,s.prev.next=i,i.prev=s.prev),a.next!==a&&(n.sym.next.sym.next=a.next,a.next.sym.next=n.sym.next,a.sym.next.sym.next=n,n.sym.next=a.sym.next),e},e.mesh.deleteMesh=function(e){},e.mesh.makeEdgePair_=function(t){var r=new e.GluHalfEdge,i=new e.GluHalfEdge,n=t.sym.next;return i.next=n,n.sym.next=r,r.next=t,t.sym.next=i,r.sym=i,r.oNext=r,r.lNext=i,i.sym=r,i.oNext=i,i.lNext=r,r},e.mesh.splice_=function(e,t){var r=e.oNext,i=t.oNext;r.sym.lNext=t,i.sym.lNext=e,e.oNext=i,t.oNext=r},e.mesh.makeVertex_=function(t,r){var i=r.prev,n=new e.GluVertex(r,i);i.next=n,r.prev=n,n.anEdge=t;var o=t;do{o.org=n,o=o.oNext}while(o!==t)},e.mesh.makeFace_=function(t,r){var i=r.prev,n=new e.GluFace(r,i);i.next=n,r.prev=n,n.anEdge=t,n.inside=r.inside;var o=t;do{o.lFace=n,o=o.lNext}while(o!==t)},e.mesh.killEdge_=function(e){var t=e.next,r=e.sym.next;t.sym.next=r,r.sym.next=t},e.mesh.killVertex_=function(e,t){var r=e.anEdge,i=r;do{i.org=t,i=i.oNext}while(i!==r);var n=e.prev,o=e.next;o.prev=n,n.next=o},e.mesh.killFace_=function(e,t){var r=e.anEdge,i=r;do{i.lFace=t,i=i.lNext}while(i!==r);var n=e.prev,o=e.next;o.prev=n,n.next=o},e.normal={},e.normal.S_UNIT_X_=1,e.normal.S_UNIT_Y_=0,e.normal.projectPolygon=function(t,r,i,n){var o=!1,s=[r,i,n];0===r&&0===i&&0===n&&(e.normal.computeNormal_(t,s),o=!0);var a,l=e.normal.longAxis_(s),u=t.mesh.vHead;if(e.TRUE_PROJECT){e.normal.normalize_(s);var h=[0,0,0],c=[0,0,0];h[l]=0,h[(l+1)%3]=e.normal.S_UNIT_X_,h[(l+2)%3]=e.normal.S_UNIT_Y_;var p=e.normal.dot_(h,s);for(h[0]-=p*s[0],h[1]-=p*s[1],h[2]-=p*s[2],e.normal.normalize_(h),c[0]=s[1]*h[2]-s[2]*h[1],c[1]=s[2]*h[0]-s[0]*h[2],c[2]=s[0]*h[1]-s[1]*h[0],e.normal.normalize_(c),a=u.next;a!==u;a=a.next)a.s=e.normal.dot_(a.coords,h),a.t=e.normal.dot_(a.coords,c)}else{var f=(l+1)%3,d=(l+2)%3,m=s[l]>0?1:-1;for(a=u.next;a!==u;a=a.next)a.s=a.coords[f],a.t=m*a.coords[d]}o&&e.normal.checkOrientation_(t)},e.normal.dot_=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.normal.normalize_=function(t){var r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];e.assert(r>0),r=Math.sqrt(r),t[0]/=r,t[1]/=r,t[2]/=r},e.normal.longAxis_=function(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])&&(t=2),t},e.normal.computeNormal_=function(t,r){var i,n=[-2*e.GLU_TESS_MAX_COORD,-2*e.GLU_TESS_MAX_COORD,-2*e.GLU_TESS_MAX_COORD],o=[2*e.GLU_TESS_MAX_COORD,2*e.GLU_TESS_MAX_COORD,2*e.GLU_TESS_MAX_COORD],s=[],a=[],l=t.mesh.vHead;for(i=l.next;i!==l;i=i.next)for(var u=0;u<3;++u){var h=i.coords[u];h<o[u]&&(o[u]=h,a[u]=i),h>n[u]&&(n[u]=h,s[u]=i)}var c=0;if(n[1]-o[1]>n[0]-o[0]&&(c=1),n[2]-o[2]>n[c]-o[c]&&(c=2),o[c]>=n[c])return r[0]=0,r[1]=0,void(r[2]=1);var p=0,f=a[c],d=s[c],m=[0,0,0],g=[f.coords[0]-d.coords[0],f.coords[1]-d.coords[1],f.coords[2]-d.coords[2]],y=[0,0,0];for(i=l.next;i!==l;i=i.next){y[0]=i.coords[0]-d.coords[0],y[1]=i.coords[1]-d.coords[1],y[2]=i.coords[2]-d.coords[2],m[0]=g[1]*y[2]-g[2]*y[1],m[1]=g[2]*y[0]-g[0]*y[2],m[2]=g[0]*y[1]-g[1]*y[0];var v=m[0]*m[0]+m[1]*m[1]+m[2]*m[2];v>p&&(p=v,r[0]=m[0],r[1]=m[1],r[2]=m[2])}p<=0&&(r[0]=r[1]=r[2]=0,r[e.normal.longAxis_(g)]=1)},e.normal.checkOrientation_=function(e){for(var t=0,r=e.mesh.fHead,i=r.next;i!==r;i=i.next){var n=i.anEdge;if(!(n.winding<=0))do{t+=(n.org.s-n.dst().s)*(n.org.t+n.dst().t),n=n.lNext}while(n!==i.anEdge)}if(t<0)for(var o=e.mesh.vHead,s=o.next;s!==o;s=s.next)s.t=-s.t},e.render={},e.render.renderMesh=function(t,r,i){for(var n=!1,o=-1,s=r.fHead.prev;s!==r.fHead;s=s.prev)if(s.inside){n||(t.callBeginCallback(e.primitiveType.GL_TRIANGLES),n=!0);var a=s.anEdge;e.assert(a.lNext.lNext.lNext===a,"renderMesh called with non-triangulated mesh");do{if(i){var l=a.rFace().inside?0:1;o!==l&&(o=l,t.callEdgeFlagCallback(!!o))}t.callVertexCallback(a.org.data),a=a.lNext}while(a!==s.anEdge)}n&&t.callEndCallback()},e.render.renderBoundary=function(t,r){for(var i=r.fHead.next;i!==r.fHead;i=i.next)if(i.inside){t.callBeginCallback(e.primitiveType.GL_LINE_LOOP);var n=i.anEdge;do{t.callVertexCallback(n.org.data),n=n.lNext}while(n!==i.anEdge);t.callEndCallback()}},e.sweep={},e.sweep.SENTINEL_COORD_=4*e.GLU_TESS_MAX_COORD,e.sweep.TOLERANCE_NONZERO_=!1,e.sweep.computeInterior=function(t){t.fatalError=!1,e.sweep.removeDegenerateEdges_(t),e.sweep.initPriorityQ_(t),e.sweep.initEdgeDict_(t);for(var r;null!==(r=t.pq.extractMin());){for(;;){var i=t.pq.minimum();if(null===i||!e.geom.vertEq(i,r))break;i=t.pq.extractMin(),e.sweep.spliceMergeVertices_(t,r.anEdge,i.anEdge)}e.sweep.sweepEvent_(t,r)}var n=t.dict.getMin().getKey();t.event=n.eUp.org,e.sweep.doneEdgeDict_(t),e.sweep.donePriorityQ_(t),e.sweep.removeDegenerateFaces_(t.mesh),t.mesh.checkMesh()},e.sweep.addWinding_=function(e,t){e.winding+=t.winding,e.sym.winding+=t.sym.winding},e.sweep.edgeLeq_=function(t,r,i){var n=t.event,o=r.eUp,s=i.eUp;return o.dst()===n?s.dst()===n?e.geom.vertLeq(o.org,s.org)?e.geom.edgeSign(s.dst(),o.org,s.org)<=0:e.geom.edgeSign(o.dst(),s.org,o.org)>=0:e.geom.edgeSign(s.dst(),n,s.org)<=0:s.dst()===n?e.geom.edgeSign(o.dst(),n,o.org)>=0:e.geom.edgeEval(o.dst(),n,o.org)>=e.geom.edgeEval(s.dst(),n,s.org)},e.sweep.deleteRegion_=function(t,r){r.fixUpperEdge&&e.assert(0===r.eUp.winding),r.eUp.activeRegion=null,t.dict.deleteNode(r.nodeUp),r.nodeUp=null},e.sweep.fixUpperEdge_=function(t,r){e.assert(t.fixUpperEdge),e.mesh.deleteEdge(t.eUp),t.fixUpperEdge=!1,t.eUp=r,r.activeRegion=t},e.sweep.topLeftRegion_=function(t){var r=t.eUp.org;do{t=t.regionAbove()}while(t.eUp.org===r);if(t.fixUpperEdge){var i=e.mesh.connect(t.regionBelow().eUp.sym,t.eUp.lNext);e.sweep.fixUpperEdge_(t,i),t=t.regionAbove()}return t},e.sweep.topRightRegion_=function(e){var t=e.eUp.dst();do{e=e.regionAbove()}while(e.eUp.dst()===t);return e},e.sweep.addRegionBelow_=function(t,r,i){var n=new e.ActiveRegion;return n.eUp=i,n.nodeUp=t.dict.insertBefore(r.nodeUp,n),i.activeRegion=n,n},e.sweep.isWindingInside_=function(t,r){switch(t.windingRule){case e.windingRule.GLU_TESS_WINDING_ODD:return 0!=(1&r);case e.windingRule.GLU_TESS_WINDING_NONZERO:return 0!==r;case e.windingRule.GLU_TESS_WINDING_POSITIVE:return r>0;case e.windingRule.GLU_TESS_WINDING_NEGATIVE:return r<0;case e.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:return r>=2||r<=-2}return e.assert(!1),!1},e.sweep.computeWinding_=function(t,r){r.windingNumber=r.regionAbove().windingNumber+r.eUp.winding,r.inside=e.sweep.isWindingInside_(t,r.windingNumber)},e.sweep.finishRegion_=function(t,r){var i=r.eUp,n=i.lFace;n.inside=r.inside,n.anEdge=i,e.sweep.deleteRegion_(t,r)},e.sweep.finishLeftRegions_=function(t,r,i){for(var n=r,o=r.eUp;n!==i;){n.fixUpperEdge=!1;var s=n.regionBelow(),a=s.eUp;if(a.org!==o.org){if(!s.fixUpperEdge){e.sweep.finishRegion_(t,n);break}a=e.mesh.connect(o.lPrev(),a.sym),e.sweep.fixUpperEdge_(s,a)}o.oNext!==a&&(e.mesh.meshSplice(a.oPrev(),a),e.mesh.meshSplice(o,a)),e.sweep.finishRegion_(t,n),o=s.eUp,n=s}return o},e.sweep.addRightEdges_=function(t,r,i,n,o,s){var a=!0,l=i;do{e.assert(e.geom.vertLeq(l.org,l.dst())),e.sweep.addRegionBelow_(t,r,l.sym),l=l.oNext}while(l!==n);null===o&&(o=r.regionBelow().eUp.rPrev());for(var u,h=r,c=o;(l=(u=h.regionBelow()).eUp.sym).org===c.org;)l.oNext!==c&&(e.mesh.meshSplice(l.oPrev(),l),e.mesh.meshSplice(c.oPrev(),l)),u.windingNumber=h.windingNumber-l.winding,u.inside=e.sweep.isWindingInside_(t,u.windingNumber),h.dirty=!0,!a&&e.sweep.checkForRightSplice_(t,h)&&(e.sweep.addWinding_(l,c),e.sweep.deleteRegion_(t,h),e.mesh.deleteEdge(c)),a=!1,h=u,c=l;h.dirty=!0,e.assert(h.windingNumber-l.winding===u.windingNumber),s&&e.sweep.walkDirtyRegions_(t,h)},e.sweep.callCombine_=function(t,r,i,n,o){var s=[r.coords[0],r.coords[1],r.coords[2]];r.data=null,r.data=t.callCombineCallback(s,i,n),null===r.data&&(o?t.fatalError||(t.callErrorCallback(e.errorType.GLU_TESS_NEED_COMBINE_CALLBACK),t.fatalError=!0):r.data=i[0])},e.sweep.spliceMergeVertices_=function(t,r,i){var n=[null,null,null,null];n[0]=r.org.data,n[1]=i.org.data,e.sweep.callCombine_(t,r.org,n,[.5,.5,0,0],!1),e.mesh.meshSplice(r,i)},e.sweep.vertexWeights_=function(t,r,i,n,o){var s=e.geom.vertL1dist(r,t),a=e.geom.vertL1dist(i,t),l=o,u=o+1;n[l]=.5*a/(s+a),n[u]=.5*s/(s+a),t.coords[0]+=n[l]*r.coords[0]+n[u]*i.coords[0],t.coords[1]+=n[l]*r.coords[1]+n[u]*i.coords[1],t.coords[2]+=n[l]*r.coords[2]+n[u]*i.coords[2]},e.sweep.getIntersectData_=function(t,r,i,n,o,s){var a=[0,0,0,0],l=[i.data,n.data,o.data,s.data];r.coords[0]=r.coords[1]=r.coords[2]=0,e.sweep.vertexWeights_(r,i,n,a,0),e.sweep.vertexWeights_(r,o,s,a,2),e.sweep.callCombine_(t,r,l,a,!0)},e.sweep.checkForRightSplice_=function(t,r){var i=r.regionBelow(),n=r.eUp,o=i.eUp;if(e.geom.vertLeq(n.org,o.org)){if(e.geom.edgeSign(o.dst(),n.org,o.org)>0)return!1;e.geom.vertEq(n.org,o.org)?n.org!==o.org&&(t.pq.remove(n.org.pqHandle),e.sweep.spliceMergeVertices_(t,o.oPrev(),n)):(e.mesh.splitEdge(o.sym),e.mesh.meshSplice(n,o.oPrev()),r.dirty=i.dirty=!0)}else{if(e.geom.edgeSign(n.dst(),o.org,n.org)<0)return!1;r.regionAbove().dirty=r.dirty=!0,e.mesh.splitEdge(n.sym),e.mesh.meshSplice(o.oPrev(),n)}return!0},e.sweep.checkForLeftSplice_=function(t,r){var i,n=r.regionBelow(),o=r.eUp,s=n.eUp;if(e.assert(!e.geom.vertEq(o.dst(),s.dst())),e.geom.vertLeq(o.dst(),s.dst())){if(e.geom.edgeSign(o.dst(),s.dst(),o.org)<0)return!1;r.regionAbove().dirty=r.dirty=!0,i=e.mesh.splitEdge(o),e.mesh.meshSplice(s.sym,i),i.lFace.inside=r.inside}else{if(e.geom.edgeSign(s.dst(),o.dst(),s.org)>0)return!1;r.dirty=n.dirty=!0,i=e.mesh.splitEdge(s),e.mesh.meshSplice(o.lNext,s.sym),i.rFace().inside=r.inside}return!0},e.sweep.checkForIntersect_=function(t,r){var i=r.regionBelow(),n=r.eUp,o=i.eUp,s=n.org,a=o.org,l=n.dst(),u=o.dst(),h=new e.GluVertex;if(e.assert(!e.geom.vertEq(u,l)),e.assert(e.geom.edgeSign(l,t.event,s)<=0),e.assert(e.geom.edgeSign(u,t.event,a)>=0),e.assert(s!==t.event&&a!==t.event),e.assert(!r.fixUpperEdge&&!i.fixUpperEdge),s===a)return!1;if(Math.min(s.t,l.t)>Math.max(a.t,u.t))return!1;if(e.geom.vertLeq(s,a)){if(e.geom.edgeSign(u,s,a)>0)return!1}else if(e.geom.edgeSign(l,a,s)<0)return!1;e.geom.edgeIntersect(l,s,u,a,h),e.assert(Math.min(s.t,l.t)<=h.t),e.assert(h.t<=Math.max(a.t,u.t)),e.assert(Math.min(u.s,l.s)<=h.s),e.assert(h.s<=Math.max(a.s,s.s)),e.geom.vertLeq(h,t.event)&&(h.s=t.event.s,h.t=t.event.t);var c=e.geom.vertLeq(s,a)?s:a;if(e.geom.vertLeq(c,h)&&(h.s=c.s,h.t=c.t),e.geom.vertEq(h,s)||e.geom.vertEq(h,a))return e.sweep.checkForRightSplice_(t,r),!1;if(!e.geom.vertEq(l,t.event)&&e.geom.edgeSign(l,t.event,h)>=0||!e.geom.vertEq(u,t.event)&&e.geom.edgeSign(u,t.event,h)<=0){if(u===t.event)return e.mesh.splitEdge(n.sym),e.mesh.meshSplice(o.sym,n),n=(r=e.sweep.topLeftRegion_(r)).regionBelow().eUp,e.sweep.finishLeftRegions_(t,r.regionBelow(),i),e.sweep.addRightEdges_(t,r,n.oPrev(),n,n,!0),!0;if(l===t.event){e.mesh.splitEdge(o.sym),e.mesh.meshSplice(n.lNext,o.oPrev()),i=r;var p=(r=e.sweep.topRightRegion_(r)).regionBelow().eUp.rPrev();return i.eUp=o.oPrev(),o=e.sweep.finishLeftRegions_(t,i,null),e.sweep.addRightEdges_(t,r,o.oNext,n.rPrev(),p,!0),!0}return e.geom.edgeSign(l,t.event,h)>=0&&(r.regionAbove().dirty=r.dirty=!0,e.mesh.splitEdge(n.sym),n.org.s=t.event.s,n.org.t=t.event.t),e.geom.edgeSign(u,t.event,h)<=0&&(r.dirty=i.dirty=!0,e.mesh.splitEdge(o.sym),o.org.s=t.event.s,o.org.t=t.event.t),!1}return e.mesh.splitEdge(n.sym),e.mesh.splitEdge(o.sym),e.mesh.meshSplice(o.oPrev(),n),n.org.s=h.s,n.org.t=h.t,n.org.pqHandle=t.pq.insert(n.org),e.sweep.getIntersectData_(t,n.org,s,l,a,u),r.regionAbove().dirty=r.dirty=i.dirty=!0,!1},e.sweep.walkDirtyRegions_=function(t,r){for(var i=r.regionBelow();;){for(;i.dirty;)r=i,i=i.regionBelow();if(!r.dirty&&(i=r,null===(r=r.regionAbove())||!r.dirty))return;r.dirty=!1;var n=r.eUp,o=i.eUp;if(n.dst()!==o.dst()&&e.sweep.checkForLeftSplice_(t,r)&&(i.fixUpperEdge?(e.sweep.deleteRegion_(t,i),e.mesh.deleteEdge(o),o=(i=r.regionBelow()).eUp):r.fixUpperEdge&&(e.sweep.deleteRegion_(t,r),e.mesh.deleteEdge(n),n=(r=i.regionAbove()).eUp)),n.org!==o.org)if(n.dst()===o.dst()||r.fixUpperEdge||i.fixUpperEdge||n.dst()!==t.event&&o.dst()!==t.event)e.sweep.checkForRightSplice_(t,r);else if(e.sweep.checkForIntersect_(t,r))return;n.org===o.org&&n.dst()===o.dst()&&(e.sweep.addWinding_(o,n),e.sweep.deleteRegion_(t,r),e.mesh.deleteEdge(n),r=i.regionAbove())}},e.sweep.connectRightVertex_=function(t,r,i){var n,o=i.oNext,s=r.regionBelow(),a=r.eUp,l=s.eUp,u=!1;(a.dst()!==l.dst()&&e.sweep.checkForIntersect_(t,r),e.geom.vertEq(a.org,t.event)&&(e.mesh.meshSplice(o.oPrev(),a),o=(r=e.sweep.topLeftRegion_(r)).regionBelow().eUp,e.sweep.finishLeftRegions_(t,r.regionBelow(),s),u=!0),e.geom.vertEq(l.org,t.event)&&(e.mesh.meshSplice(i,l.oPrev()),i=e.sweep.finishLeftRegions_(t,s,null),u=!0),u)?e.sweep.addRightEdges_(t,r,i.oNext,o,o,!0):(n=e.geom.vertLeq(l.org,a.org)?l.oPrev():a,n=e.mesh.connect(i.lPrev(),n),e.sweep.addRightEdges_(t,r,n,n.oNext,n.oNext,!1),n.sym.activeRegion.fixUpperEdge=!0,e.sweep.walkDirtyRegions_(t,r))},e.sweep.connectLeftDegenerate_=function(t,r,i){var n=r.eUp;if(e.geom.vertEq(n.org,i))return e.assert(e.sweep.TOLERANCE_NONZERO_),void(e.sweep.TOLERANCE_NONZERO_&&e.sweep.spliceMergeVertices_(t,n,i.anEdge));if(!e.geom.vertEq(n.dst(),i))return e.mesh.splitEdge(n.sym),r.fixUpperEdge&&(e.mesh.deleteEdge(n.oNext),r.fixUpperEdge=!1),e.mesh.meshSplice(i.anEdge,n),void e.sweep.sweepEvent_(t,i);if(e.assert(e.sweep.TOLERANCE_NONZERO_),e.sweep.TOLERANCE_NONZERO_){var o=(r=e.sweep.topRightRegion_(r)).regionBelow(),s=o.eUp.sym,a=s.oNext,l=a;o.fixUpperEdge&&(e.assert(a!==s),e.sweep.deleteRegion_(t,o),e.mesh.deleteEdge(s),s=a.oPrev()),e.mesh.meshSplice(i.anEdge,s),e.geom.edgeGoesLeft(a)||(a=null),e.sweep.addRightEdges_(t,r,s.oNext,l,a,!0)}},e.sweep.connectLeftVertex_=function(t,r){var i=new e.ActiveRegion;i.eUp=r.anEdge.sym;var n=t.dict.search(i).getKey(),o=n.regionBelow(),s=n.eUp,a=o.eUp;if(0!==e.geom.edgeSign(s.dst(),r,s.org)){var l,u=e.geom.vertLeq(a.dst(),s.dst())?n:o;n.inside||u.fixUpperEdge?(l=u===n?e.mesh.connect(r.anEdge.sym,s.lNext):e.mesh.connect(a.dNext(),r.anEdge).sym,u.fixUpperEdge?e.sweep.fixUpperEdge_(u,l):e.sweep.computeWinding_(t,e.sweep.addRegionBelow_(t,n,l)),e.sweep.sweepEvent_(t,r)):e.sweep.addRightEdges_(t,n,r.anEdge,r.anEdge,null,!0)}else e.sweep.connectLeftDegenerate_(t,n,r)},e.sweep.sweepEvent_=function(t,r){t.event=r;for(var i=r.anEdge;null===i.activeRegion;)if((i=i.oNext)===r.anEdge)return void e.sweep.connectLeftVertex_(t,r);var n=e.sweep.topLeftRegion_(i.activeRegion),o=n.regionBelow(),s=o.eUp,a=e.sweep.finishLeftRegions_(t,o,null);a.oNext===s?e.sweep.connectRightVertex_(t,n,a):e.sweep.addRightEdges_(t,n,a.oNext,s,s,!0)},e.sweep.addSentinel_=function(t,r){var i=new e.ActiveRegion,n=e.mesh.makeEdge(t.mesh);n.org.s=e.sweep.SENTINEL_COORD_,n.org.t=r,n.dst().s=-e.sweep.SENTINEL_COORD_,n.dst().t=r,t.event=n.dst(),i.eUp=n,i.windingNumber=0,i.inside=!1,i.fixUpperEdge=!1,i.sentinel=!0,i.dirty=!1,i.nodeUp=t.dict.insert(i)},e.sweep.initEdgeDict_=function(t){t.dict=new e.Dict(t,e.sweep.edgeLeq_),e.sweep.addSentinel_(t,-e.sweep.SENTINEL_COORD_),e.sweep.addSentinel_(t,e.sweep.SENTINEL_COORD_)},e.sweep.doneEdgeDict_=function(t){for(var r,i=0;null!==(r=t.dict.getMin().getKey());)r.sentinel||(e.assert(r.fixUpperEdge),e.assert(1==++i)),e.assert(0===r.windingNumber),e.sweep.deleteRegion_(t,r);t.dict=null},e.sweep.removeDegenerateEdges_=function(t){for(var r,i=t.mesh.eHead,n=i.next;n!==i;n=r){r=n.next;var o=n.lNext;e.geom.vertEq(n.org,n.dst())&&n.lNext.lNext!==n&&(e.sweep.spliceMergeVertices_(t,o,n),e.mesh.deleteEdge(n),o=(n=o).lNext),o.lNext===n&&(o!==n&&(o!==r&&o!==r.sym||(r=r.next),e.mesh.deleteEdge(o)),n!==r&&n!==r.sym||(r=r.next),e.mesh.deleteEdge(n))}},e.sweep.initPriorityQ_=function(t){var r=new e.PriorityQ;t.pq=r;var i,n=t.mesh.vHead;for(i=n.next;i!==n;i=i.next)i.pqHandle=r.insert(i);r.init()},e.sweep.donePriorityQ_=function(e){e.pq.deleteQ(),e.pq=null},e.sweep.removeDegenerateFaces_=function(t){for(var r,i=t.fHead.next;i!==t.fHead;i=r){r=i.next;var n=i.anEdge;e.assert(n.lNext!==n),n.lNext.lNext===n&&(e.sweep.addWinding_(n.oNext,n),e.mesh.deleteEdge(n))}},e.tessmono={},e.tessmono.tessellateMonoRegion_=function(t){var r=t.anEdge;for(e.assert(r.lNext!==r&&r.lNext.lNext!==r);e.geom.vertLeq(r.dst(),r.org);r=r.lPrev());for(;e.geom.vertLeq(r.org,r.dst());r=r.lNext);for(var i,n=r.lPrev();r.lNext!==n;)if(e.geom.vertLeq(r.dst(),n.org)){for(;n.lNext!==r&&(e.geom.edgeGoesLeft(n.lNext)||e.geom.edgeSign(n.org,n.dst(),n.lNext.dst())<=0);)n=(i=e.mesh.connect(n.lNext,n)).sym;n=n.lPrev()}else{for(;n.lNext!==r&&(e.geom.edgeGoesRight(r.lPrev())||e.geom.edgeSign(r.dst(),r.org,r.lPrev().org)>=0);)i=e.mesh.connect(r,r.lPrev()),r=i.sym;r=r.lNext}for(e.assert(n.lNext!==r);n.lNext.lNext!==r;)n=(i=e.mesh.connect(n.lNext,n)).sym},e.tessmono.tessellateInterior=function(t){for(var r,i=t.fHead.next;i!==t.fHead;i=r)r=i.next,i.inside&&e.tessmono.tessellateMonoRegion_(i)},e.tessmono.discardExterior=function(t){for(var r,i=t.fHead.next;i!==t.fHead;i=r)r=i.next,i.inside||e.mesh.zapFace(i)},e.tessmono.setWindingNumber=function(t,r,i){for(var n,o=t.eHead.next;o!==t.eHead;o=n)n=o.next,o.rFace().inside!==o.lFace.inside?o.winding=o.lFace.inside?r:-r:i?e.mesh.deleteEdge(o):o.winding=0},e.Dict=function(t,r){this.head_=new e.DictNode,this.frame_=t,this.leq_=r},e.Dict.prototype.deleteDict_=function(){},e.Dict.prototype.insertBefore=function(t,r){do{t=t.prev}while(null!==t.key&&!this.leq_(this.frame_,t.key,r));var i=new e.DictNode(r,t.next,t);return t.next.prev=i,t.next=i,i},e.Dict.prototype.insert=function(e){return this.insertBefore(this.head_,e)},e.Dict.prototype.deleteNode=function(e){e.next.prev=e.prev,e.prev.next=e.next},e.Dict.prototype.search=function(e){var t=this.head_;do{t=t.next}while(null!==t.key&&!this.leq_(this.frame_,e,t.key));return t},e.Dict.prototype.getMin=function(){return this.head_.next},e.Dict.prototype.getMax=function(){return this.head_.prev},e.DictNode=function(e,t,r){this.key=e||null,this.next=t||this,this.prev=r||this},e.DictNode.prototype.getKey=function(){return this.key},e.DictNode.prototype.getSuccessor=function(){return this.next},e.DictNode.prototype.getPredecessor=function(){return this.prev},e.GluTesselator=function(){this.state_=e.GluTesselator.tessState_.T_DORMANT,this.lastEdge_=null,this.mesh=null,this.errorCallback_=null,this.normal_=[0,0,0],this.windingRule=e.windingRule.GLU_TESS_WINDING_ODD,this.fatalError=!1,this.dict=null,this.pq=null,this.event=null,this.combineCallback_=null,this.boundaryOnly_=!1,this.beginCallback_=null,this.edgeFlagCallback_=null,this.vertexCallback_=null,this.endCallback_=null,this.meshCallback_=null,this.polygonData_=null},e.GluTesselator.tessState_={T_DORMANT:0,T_IN_POLYGON:1,T_IN_CONTOUR:2},e.GluTesselator.prototype.gluDeleteTess=function(){this.requireState_(e.GluTesselator.tessState_.T_DORMANT)},e.GluTesselator.prototype.gluTessProperty=function(t,r){switch(t){case e.gluEnum.GLU_TESS_TOLERANCE:return;case e.gluEnum.GLU_TESS_WINDING_RULE:var i=r;switch(i){case e.windingRule.GLU_TESS_WINDING_ODD:case e.windingRule.GLU_TESS_WINDING_NONZERO:case e.windingRule.GLU_TESS_WINDING_POSITIVE:case e.windingRule.GLU_TESS_WINDING_NEGATIVE:case e.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:return void(this.windingRule=i)}break;case e.gluEnum.GLU_TESS_BOUNDARY_ONLY:return void(this.boundaryOnly_=!!r);default:return void this.callErrorCallback(e.gluEnum.GLU_INVALID_ENUM)}this.callErrorCallback(e.gluEnum.GLU_INVALID_VALUE)},e.GluTesselator.prototype.gluGetTessProperty=function(t){switch(t){case e.gluEnum.GLU_TESS_TOLERANCE:return 0;case e.gluEnum.GLU_TESS_WINDING_RULE:var r=this.windingRule;return e.assert(r===e.windingRule.GLU_TESS_WINDING_ODD||r===e.windingRule.GLU_TESS_WINDING_NONZERO||r===e.windingRule.GLU_TESS_WINDING_POSITIVE||r===e.windingRule.GLU_TESS_WINDING_NEGATIVE||r===e.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO),r;case e.gluEnum.GLU_TESS_BOUNDARY_ONLY:return e.assert(!0===this.boundaryOnly_||!1===this.boundaryOnly_),this.boundaryOnly_;default:this.callErrorCallback(e.gluEnum.GLU_INVALID_ENUM)}return!1},e.GluTesselator.prototype.gluTessNormal=function(e,t,r){this.normal_[0]=e,this.normal_[1]=t,this.normal_[2]=r},e.GluTesselator.prototype.gluTessCallback=function(t,r){var i=r||null;switch(t){case e.gluEnum.GLU_TESS_BEGIN:case e.gluEnum.GLU_TESS_BEGIN_DATA:return void(this.beginCallback_=i);case e.gluEnum.GLU_TESS_EDGE_FLAG:case e.gluEnum.GLU_TESS_EDGE_FLAG_DATA:return void(this.edgeFlagCallback_=i);case e.gluEnum.GLU_TESS_VERTEX:case e.gluEnum.GLU_TESS_VERTEX_DATA:return void(this.vertexCallback_=i);case e.gluEnum.GLU_TESS_END:case e.gluEnum.GLU_TESS_END_DATA:return void(this.endCallback_=i);case e.gluEnum.GLU_TESS_ERROR:case e.gluEnum.GLU_TESS_ERROR_DATA:return void(this.errorCallback_=i);case e.gluEnum.GLU_TESS_COMBINE:case e.gluEnum.GLU_TESS_COMBINE_DATA:return void(this.combineCallback_=i);case e.gluEnum.GLU_TESS_MESH:return void(this.meshCallback_=i);default:return void this.callErrorCallback(e.gluEnum.GLU_INVALID_ENUM)}},e.GluTesselator.prototype.gluTessVertex=function(t,r){var i=!1,n=[0,0,0];this.requireState_(e.GluTesselator.tessState_.T_IN_CONTOUR);for(var o=0;o<3;++o){var s=t[o];s<-e.GLU_TESS_MAX_COORD&&(s=-e.GLU_TESS_MAX_COORD,i=!0),s>e.GLU_TESS_MAX_COORD&&(s=e.GLU_TESS_MAX_COORD,i=!0),n[o]=s}i&&this.callErrorCallback(e.errorType.GLU_TESS_COORD_TOO_LARGE),this.addVertex_(n,r)},e.GluTesselator.prototype.gluTessBeginPolygon=function(t){this.requireState_(e.GluTesselator.tessState_.T_DORMANT),this.state_=e.GluTesselator.tessState_.T_IN_POLYGON,this.mesh=new e.GluMesh,this.polygonData_=t},e.GluTesselator.prototype.gluTessBeginContour=function(){this.requireState_(e.GluTesselator.tessState_.T_IN_POLYGON),this.state_=e.GluTesselator.tessState_.T_IN_CONTOUR,this.lastEdge_=null},e.GluTesselator.prototype.gluTessEndContour=function(){this.requireState_(e.GluTesselator.tessState_.T_IN_CONTOUR),this.state_=e.GluTesselator.tessState_.T_IN_POLYGON},e.GluTesselator.prototype.gluTessEndPolygon=function(){if(this.requireState_(e.GluTesselator.tessState_.T_IN_POLYGON),this.state_=e.GluTesselator.tessState_.T_DORMANT,e.normal.projectPolygon(this,this.normal_[0],this.normal_[1],this.normal_[2]),e.sweep.computeInterior(this),!this.fatalError){var t=this.mesh;if(this.boundaryOnly_?e.tessmono.setWindingNumber(t,1,!0):e.tessmono.tessellateInterior(t),this.mesh.checkMesh(),this.beginCallback_||this.endCallback_||this.vertexCallback_||this.edgeFlagCallback_)if(this.boundaryOnly_)e.render.renderBoundary(this,this.mesh);else{var r=!!this.edgeFlagCallback_;e.render.renderMesh(this,this.mesh,r)}if(this.meshCallback_)return e.tessmono.discardExterior(this.mesh),this.meshCallback_(this.mesh),this.mesh=null,void(this.polygonData_=null)}e.mesh.deleteMesh(this.mesh),this.polygonData_=null,this.mesh=null},e.GluTesselator.prototype.requireState_=function(e){this.state_!==e&&this.gotoState_(e)},e.GluTesselator.prototype.gotoState_=function(t){for(;this.state_!==t;)if(this.state_<t)switch(this.state_){case e.GluTesselator.tessState_.T_DORMANT:this.callErrorCallback(e.errorType.GLU_TESS_MISSING_BEGIN_POLYGON),this.gluTessBeginPolygon(null);break;case e.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorCallback(e.errorType.GLU_TESS_MISSING_BEGIN_CONTOUR),this.gluTessBeginContour()}else switch(this.state_){case e.GluTesselator.tessState_.T_IN_CONTOUR:this.callErrorCallback(e.errorType.GLU_TESS_MISSING_END_CONTOUR),this.gluTessEndContour();break;case e.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorCallback(e.errorType.GLU_TESS_MISSING_END_POLYGON),this.gluTessEndPolygon()}},e.GluTesselator.prototype.addVertex_=function(t,r){var i=this.lastEdge_;null===i?(i=e.mesh.makeEdge(this.mesh),e.mesh.meshSplice(i,i.sym)):(e.mesh.splitEdge(i),i=i.lNext),i.org.data=r,i.org.coords[0]=t[0],i.org.coords[1]=t[1],i.org.coords[2]=t[2],i.winding=1,i.sym.winding=-1,this.lastEdge_=i},e.GluTesselator.prototype.callBeginCallback=function(e){this.beginCallback_&&this.beginCallback_(e,this.polygonData_)},e.GluTesselator.prototype.callVertexCallback=function(e){this.vertexCallback_&&this.vertexCallback_(e,this.polygonData_)},e.GluTesselator.prototype.callEdgeFlagCallback=function(e){this.edgeFlagCallback_&&this.edgeFlagCallback_(e,this.polygonData_)},e.GluTesselator.prototype.callEndCallback=function(){this.endCallback_&&this.endCallback_(this.polygonData_)},e.GluTesselator.prototype.callCombineCallback=function(e,t,r){return this.combineCallback_&&this.combineCallback_(e,t,r,this.polygonData_)||null},e.GluTesselator.prototype.callErrorCallback=function(e){this.errorCallback_&&this.errorCallback_(e,this.polygonData_)},e.GluFace=function(e,t){this.next=e||this,this.prev=t||this,this.anEdge=null,this.inside=!1},e.GluHalfEdge=function(e){this.next=e||this,this.sym=null,this.oNext=null,this.lNext=null,this.org=null,this.lFace=null,this.activeRegion=null,this.winding=0},e.GluHalfEdge.prototype.rFace=function(){return this.sym.lFace},e.GluHalfEdge.prototype.dst=function(){return this.sym.org},e.GluHalfEdge.prototype.oPrev=function(){return this.sym.lNext},e.GluHalfEdge.prototype.lPrev=function(){return this.oNext.sym},e.GluHalfEdge.prototype.dPrev=function(){return this.lNext.sym},e.GluHalfEdge.prototype.rPrev=function(){return this.sym.oNext},e.GluHalfEdge.prototype.dNext=function(){return this.rPrev().sym},e.GluHalfEdge.prototype.rNext=function(){return this.oPrev().sym},e.GluMesh=function(){this.vHead=new e.GluVertex,this.fHead=new e.GluFace,this.eHead=new e.GluHalfEdge,this.eHeadSym=new e.GluHalfEdge,this.eHead.sym=this.eHeadSym,this.eHeadSym.sym=this.eHead},e.GluMesh.prototype.checkMesh=function(){if(e.DEBUG){var t,r,i=this.fHead,n=this.vHead,o=this.eHead,s=i;for(s=i;(r=s.next)!==i;s=r){e.assert(r.prev===s),t=r.anEdge;do{e.assert(t.sym!==t),e.assert(t.sym.sym===t),e.assert(t.lNext.oNext.sym===t),e.assert(t.oNext.sym.lNext===t),e.assert(t.lFace===r),t=t.lNext}while(t!==r.anEdge)}e.assert(r.prev===s&&null===r.anEdge);var a,l=n;for(l=n;(a=l.next)!==n;l=a){e.assert(a.prev===l),t=a.anEdge;do{e.assert(t.sym!==t),e.assert(t.sym.sym===t),e.assert(t.lNext.oNext.sym===t),e.assert(t.oNext.sym.lNext===t),e.assert(t.org===a),t=t.oNext}while(t!==a.anEdge)}e.assert(a.prev===l&&null===a.anEdge&&null===a.data);var u=o;for(u=o;(t=u.next)!==o;u=t)e.assert(t.sym.next===u.sym),e.assert(t.sym!==t),e.assert(t.sym.sym===t),e.assert(null!==t.org),e.assert(null!==t.dst()),e.assert(t.lNext.oNext.sym===t),e.assert(t.oNext.sym.lNext===t);e.assert(t.sym.next===u.sym&&t.sym===this.eHeadSym&&t.sym.sym===t&&null===t.org&&null===t.dst()&&null===t.lFace&&null===t.rFace())}},e.GluVertex=function(e,t){this.next=e||this,this.prev=t||this,this.anEdge=null,this.data=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0},e.PriorityQ=function(){this.verts_=[],this.order_=null,this.size_=0,this.initialized_=!1,this.heap_=new e.PriorityQHeap},e.PriorityQ.prototype.deleteQ=function(){this.heap_=null,this.order_=null,this.verts_=null},e.PriorityQ.prototype.init=function(){this.order_=[];for(var t=0;t<this.size_;t++)this.order_[t]=t;var r=function(t){return function(r,i){return e.geom.vertLeq(t[r],t[i])?1:-1}}(this.verts_);if(this.order_.sort(r),this.initialized_=!0,this.heap_.init(),e.DEBUG){var i=0+this.size_-1;for(t=0;t<i;++t)e.assert(e.geom.vertLeq(this.verts_[this.order_[t+1]],this.verts_[this.order_[t]]))}},e.PriorityQ.prototype.insert=function(e){if(this.initialized_)return this.heap_.insert(e);var t=this.size_++;return this.verts_[t]=e,-(t+1)},e.PriorityQ.prototype.extractMin=function(){if(0===this.size_)return this.heap_.extractMin();var t=this.verts_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var r=this.heap_.minimum();if(e.geom.vertLeq(r,t))return this.heap_.extractMin()}do{--this.size_}while(this.size_>0&&null===this.verts_[this.order_[this.size_-1]]);return t},e.PriorityQ.prototype.minimum=function(){if(0===this.size_)return this.heap_.minimum();var t=this.verts_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var r=this.heap_.minimum();if(e.geom.vertLeq(r,t))return r}return t},e.PriorityQ.prototype.remove=function(t){if(t>=0)this.heap_.remove(t);else for(t=-(t+1),e.assert(t<this.verts_.length&&null!==this.verts_[t]),this.verts_[t]=null;this.size_>0&&null===this.verts_[this.order_[this.size_-1]];)--this.size_},e.PriorityQHeap=function(){this.heap_=e.PriorityQHeap.reallocNumeric_([0],e.PriorityQHeap.INIT_SIZE_+1),this.verts_=[null,null],this.handles_=[0,0],this.size_=0,this.max_=e.PriorityQHeap.INIT_SIZE_,this.freeList_=0,this.initialized_=!1,this.heap_[1]=1},e.PriorityQHeap.INIT_SIZE_=32,e.PriorityQHeap.reallocNumeric_=function(e,t){for(var r=new Array(t),i=0;i<e.length;i++)r[i]=e[i];for(;i<t;i++)r[i]=0;return r},e.PriorityQHeap.prototype.init=function(){for(var e=this.size_;e>=1;--e)this.floatDown_(e);this.initialized_=!0},e.PriorityQHeap.prototype.insert=function(t){var r,i=++this.size_;return 2*i>this.max_&&(this.max_*=2,this.handles_=e.PriorityQHeap.reallocNumeric_(this.handles_,this.max_+1)),0===this.freeList_?r=i:(r=this.freeList_,this.freeList_=this.handles_[this.freeList_]),this.verts_[r]=t,this.handles_[r]=i,this.heap_[i]=r,this.initialized_&&this.floatUp_(i),r},e.PriorityQHeap.prototype.isEmpty=function(){return 0===this.size_},e.PriorityQHeap.prototype.minimum=function(){return this.verts_[this.heap_[1]]},e.PriorityQHeap.prototype.extractMin=function(){var e=this.heap_,t=this.verts_,r=this.handles_,i=e[1],n=t[i];return this.size_>0&&(e[1]=e[this.size_],r[e[1]]=1,t[i]=null,r[i]=this.freeList_,this.freeList_=i,--this.size_>0&&this.floatDown_(1)),n},e.PriorityQHeap.prototype.remove=function(t){var r=this.heap_,i=this.verts_,n=this.handles_;e.assert(t>=1&&t<=this.max_&&null!==i[t]);var o=n[t];if(r[o]=r[this.size_],n[r[o]]=o,o<=--this.size_)if(o<=1)this.floatDown_(o);else{var s=i[r[o]],a=i[r[o>>1]];e.geom.vertLeq(a,s)?this.floatDown_(o):this.floatUp_(o)}i[t]=null,n[t]=this.freeList_,this.freeList_=t},e.PriorityQHeap.prototype.floatDown_=function(t){for(var r=this.heap_,i=this.verts_,n=this.handles_,o=t,s=r[o];;){var a=o<<1;a<this.size_&&e.geom.vertLeq(i[r[a+1]],i[r[a]])&&(a+=1),e.assert(a<=this.max_);var l=r[a];if(a>this.size_||e.geom.vertLeq(i[s],i[l]))return r[o]=s,void(n[s]=o);r[o]=l,n[l]=o,o=a}},e.PriorityQHeap.prototype.floatUp_=function(t){for(var r=this.heap_,i=this.verts_,n=this.handles_,o=t,s=r[o];;){var a=o>>1,l=r[a];if(0===a||e.geom.vertLeq(i[l],i[s]))return r[o]=s,void(n[s]=o);r[o]=l,n[l]=o,o=a}},e.ActiveRegion=function(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1},e.ActiveRegion.prototype.regionBelow=function(){return this.nodeUp.getPredecessor().getKey()},e.ActiveRegion.prototype.regionAbove=function(){return this.nodeUp.getSuccessor().getKey()},e}.apply(null,[]))||(e.exports=i)},loiZ:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("SyoC")],void 0===(n=function(e,t,r){var i=function(){function e(e,t){void 0===e&&(e=50),void 0===t&&(t=50),this._pool=new r(Map,!1,function(e){return e.clear()},t,e)}return e.prototype.acquire=function(){return this._pool.acquire()},e.prototype.release=function(e){this._pool.release(e)},e.acquire=function(){return n.acquire()},e.release=function(e){return n.release(e)},e}(),n=new i(100);return i}.apply(null,i))||(e.exports=n)},m87x:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("2Atf"),r("OXG3"),r("ma1f"),r("LxLY"),r("JNkf"),r("AKDC"),r("MtZC")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u){Object.defineProperty(t,"__esModule",{value:!0}),t.createMaterialKey=function(e,t,r,i){if(s.isSome(t))return function(e,t,r,i){if("heatmap"===r.type)throw new Error("Symbol processor does not support heatmap renderer");switch(e){case a.WGLGeometryType.FILL:return m.from(r);case a.WGLGeometryType.LINE:return y.from(r,t);case a.WGLGeometryType.MARKER:if("dot-density"===r.type)throw new Error("Dot Density renderer does not support Marker GeometryTypes");return g.from(r);case a.WGLGeometryType.TEXT:if("dot-density"===r.type)throw new Error("Dot Density renderer does not support Text GeometryTypes");return v.from(r);case a.WGLGeometryType.LABEL:if("dot-density"===r.type)throw new Error("Dot Density renderer does not support Label GeometryTypes");return _.from(r,i);default:throw new Error("Unable to createMaterialKey for unknown geometryType "+e)}}(e,r,t,i);switch(e){case a.WGLGeometryType.FILL:return m.from(null);case a.WGLGeometryType.LINE:return y.from(null,r);case a.WGLGeometryType.MARKER:return g.from(null);case a.WGLGeometryType.TEXT:return v.from(null);case a.WGLGeometryType.LABEL:return _.from(null,i);default:throw new Error("Unable to createMaterialKey for unknown geometryType "+e)}};var h=function(){function e(e){this._data=0,this._data=e}return e.load=function(e){var t=this.shared;return t.data=e,t},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geometryType",{get:function(){return this.bits(5,8)},set:function(e){this.setBits(e,5,8)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapAligned",{get:function(){return!!this.bit(17)},set:function(e){this.setBit(17,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sdf",{get:function(){return!!this.bit(8)},set:function(e){this.setBit(8,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return!!this.bit(9)},set:function(e){this.setBit(9,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textureBinding",{get:function(){return this.bits(0,5)},set:function(e){this.setBits(e,0,5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geometryTypeString",{get:function(){switch(this.geometryType){case a.WGLGeometryType.FILL:return"fill";case a.WGLGeometryType.MARKER:return"marker";case a.WGLGeometryType.LINE:return"line";case a.WGLGeometryType.TEXT:return"text";case a.WGLGeometryType.LABEL:return"label";default:throw new o("Unable to handle unknown geometryType: "+this.geometryType)}},enumerable:!0,configurable:!0}),e.prototype.setBit=function(e,t){var r=1<<e;t?this._data|=r:this._data&=~r},e.prototype.bit=function(e){return(this._data&1<<e)>>e},e.prototype.setBits=function(e,t,r){for(var i=t,n=0;i<r;i++,n++)this.setBit(i,0!=(e&1<<n))},e.prototype.bits=function(e,t){for(var r=0,i=e,n=0;i<t;i++,n++)r|=this.bit(i)<<n;return r},e.prototype.hasVV=function(){return!1},e.prototype.setVV=function(e,t){},e.prototype.getVariation=function(){var e={};for(var t in this)"boolean"==typeof this[t]&&(e[t]=this[t]);return e},e.prototype.getVariationHash=function(){return this._data&~(4&this.textureBinding)},e.shared=new e(0),e}(),c=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"vvSizeMinMaxValue",{get:function(){return 0!==this.bit(13)},set:function(e){this.setBit(13,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vvSizeScaleStops",{get:function(){return 0!==this.bit(14)},set:function(e){this.setBit(14,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vvSizeFieldStops",{get:function(){return 0!==this.bit(15)},set:function(e){this.setBit(15,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vvSizeUnitValue",{get:function(){return 0!==this.bit(16)},set:function(e){this.setBit(16,e)},enumerable:!0,configurable:!0}),t.prototype.hasVV=function(){return e.prototype.hasVV.call(this)||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue},t.prototype.setVV=function(t,r){e.prototype.setVV.call(this,t,r);var i=u.getSizeFlagsMask(t,r)&t;this.vvSizeMinMaxValue=!!(i&a.WGLVVFlag.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(i&a.WGLVVFlag.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(i&a.WGLVVFlag.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(i&a.WGLVVFlag.SIZE_SCALE_STOPS)},t}(e)},p=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"vvRotation",{get:function(){return 0!==this.bit(12)},set:function(e){this.setBit(12,e)},enumerable:!0,configurable:!0}),t.prototype.hasVV=function(){return e.prototype.hasVV.call(this)||this.vvRotation},t.prototype.setVV=function(t,r){e.prototype.setVV.call(this,t,r),this.vvRotation=!r&&!!(t&a.WGLVVFlag.ROTATION)},t}(e)},f=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"vvColor",{get:function(){return 0!==this.bit(10)},set:function(e){this.setBit(10,e)},enumerable:!0,configurable:!0}),t.prototype.hasVV=function(){return e.prototype.hasVV.call(this)||this.vvColor},t.prototype.setVV=function(t,r){e.prototype.setVV.call(this,t,r),this.vvColor=!r&&!!(t&a.WGLVVFlag.COLOR)},t}(e)},d=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"vvOpacity",{get:function(){return 0!==this.bit(11)},set:function(e){this.setBit(11,e)},enumerable:!0,configurable:!0}),t.prototype.hasVV=function(){return e.prototype.hasVV.call(this)||this.vvOpacity},t.prototype.setVV=function(t,r){e.prototype.setVV.call(this,t,r),this.vvOpacity=!r&&!!(t&a.WGLVVFlag.OPACITY)},t}(e)},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e){var t=this.load(0);if(t.geometryType=a.WGLGeometryType.FILL,s.isSome(e))if(e instanceof n.DotDensityRenderer)t.dotDensity=!0;else{var r=u.getVVFlags(e.visualVariables);t.setVV(r,!1)}return t.data},t.prototype.getVariation=function(){return e.prototype.getVariation.call(this)},Object.defineProperty(t.prototype,"dotDensity",{get:function(){return!!this.bit(12)},set:function(e){this.setBit(12,e)},enumerable:!0,configurable:!0}),t.shared=new t(0),t}(f(d(t.MaterialKeyBase=h)));t.FillMaterialKey=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e){var t=this.load(0);if(t.geometryType=a.WGLGeometryType.MARKER,s.isSome(e)){var r=u.getVVFlags(e.visualVariables);t.setVV(r,!1)}return t.data},t.prototype.getVariation=function(){return e.prototype.getVariation.call(this)},t.shared=new t(0),t}(f(d(p(c(h)))));t.MarkerMaterialKey=g;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e,t){var r=this.load(0);if(r.geometryType=a.WGLGeometryType.LINE,s.isSome(e)){var i=u.getVVFlags(e.visualVariables);r.setVV(i,t)}return r.data},t.prototype.getVariation=function(){return e.prototype.getVariation.call(this)},t.shared=new t(0),t}(f(d(c(h))));t.LineMaterialKey=y;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e){var t=this.load(0);if(t.geometryType=a.WGLGeometryType.TEXT,s.isSome(e)){var r=u.getVVFlags(e.visualVariables);t.setVV(r,!1)}return t.data},t.prototype.getVariation=function(){return e.prototype.getVariation.call(this)},t.shared=new t(0),t}(f(d(p(c(h)))));t.TextMaterialKey=v;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e,t){var r=this.load(0);if(r.geometryType=a.WGLGeometryType.LABEL,s.isSome(e)){var i=u.getVVFlags(e.visualVariables);r.setVV(i,!1)}return r.mapAligned=!!l.isMapAligned(t.labelPlacement),r.data},t.prototype.getVariation=function(){return e.prototype.getVariation.call(this)},t.shared=new t(0),t}(c(h));t.LabelMaterialKey=_}.apply(null,i))||(e.exports=n)},qDit:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("6+ni"),r("6cAc"),r("CIy2")],void 0===(n=function(e,t,r,i,n){function o(e,t,r){n.packFloatRGBA(e,t,r)}function s(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":var t=e.symbolLayers;return t&&1===t.length?s(t[0]):null;case"CIMVectorMarker":var r=e.markerGraphics;if(!r||1!==r.length)return null;var i=r[0];if(!i)return null;var n=i.geometry;if(!n||!n.rings&&!n.paths)return null;n.paths&&(n={rings:n.paths.map(function(e){for(var t=e.slice(),r=e.length-2;0<=r;r--)t.push(e[r]);return t})});var o=i.symbol;return!o||"CIMPolygonSymbol"!==o.type&&"CIMLineSymbol"!==o.type?null:{marker:e,polygon:n,symbol:o}}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.packFloat=o,t.checkSDF=function(e){return null!==s(e)},t.getSDFSymbol=function(e){var t=e.markerGraphics;if(!t||1!==t.length)return null;var r=t[0];if(!r)return null;var i=r.symbol;return!i||"CIMPolygonSymbol"!==i.type&&"CIMLineSymbol"!==i.type?null:i},t.buildSDF=function(e){var t=s(e);if(!t)return null;var n=function(e){if(!e)return null;var t=e.rings;if(!t)return null;for(var i=[],n=0,o=t;n<o.length;n++){for(var s=[],a=0,l=o[n];a<l.length;a++){var u=l[a];s.push(new r.Point(u[0],u[1]))}i.push(s)}return i}(t.polygon);if(!n)return null;var a=function(e){for(var t=1/0,r=-1/0,n=1/0,o=-1/0,s=0,a=e;s<a.length;s++)for(var l=0,u=a[s];l<u.length;l++){var h=u[l];h.x<t&&(t=h.x),h.x>r&&(r=h.x),h.y<n&&(n=h.y),h.y>o&&(o=h.y)}return new i(t,n,r-t,o-n)}(n),l=Math.floor(31.5),u=(128-2*(l+0+1))/Math.max(a.width,a.height),h=Math.round(a.width*u),c=Math.round(a.height*u),p=h+2*l,f=c+2*l,d=1,m=t.marker.frame;if(m){var g=m.ymax-m.ymin;d=a.height/g}a.width>a.height&&(d*=f/c/2);var y=t.marker.anchorPoint,v=0,_=0;if(y){var x=.5*(m.xmax+m.xmin)+y.x*(m.xmax-m.xmin),w=.5*(m.ymax+m.ymin)+y.y*(m.ymax-m.ymin);x-=a.x,w-=a.y,x*=u,w*=u,v=(x+=l-.5)/p-.5,_=(w+=l-.5)/f-.5}for(var b=0,T=n;b<T.length;b++)for(var S=0,M=T[b];S<M.length;S++){var E=M[S];E.x-=a.x,E.y-=a.y,E.x*=u,E.y*=u,E.x+=l-.5,E.y+=l-.5}var L=function(e,t,r,i){for(var n=t*r,o=new Float32Array(n),s=i*i+1,a=0;a<n;++a)o[a]=s;for(var l=0,u=e;l<u.length;l++){var h=u[l],c=h.length;for(a=1;a<c;++a){var p,f=h[a-1],d=h[a],m=void 0;p=f.x<d.x?(m=f.x,d.x):(m=d.x,f.x);var g,y=void 0;g=f.y<d.y?(y=f.y,d.y):(y=d.y,f.y);var v=Math.floor(m)-i,_=Math.floor(p)+i,x=Math.floor(y)-i,w=Math.floor(g)+i;v<0&&(v=0),t<_&&(_=t),x<0&&(x=0),r<w&&(w=r);for(var b=d.x-f.x,T=d.y-f.y,S=b*b+T*T,M=v;M<_;M++)for(var E=x;E<w;E++){var L,I=(M-f.x)*b+(E-f.y)*T,G=void 0;L=I<0?(G=f.x,f.y):S<I?(G=d.x,d.y):(I/=S,G=f.x+I*b,f.y+I*T);var C=(M-G)*(M-G)+(E-L)*(E-L),V=(r-E-1)*t+M;C<o[V]&&(o[V]=C)}}}for(a=0;a<n;++a)o[a]=Math.sqrt(o[a]);return o}(n,p,f,l);return function(e,t,r,i,n){for(var o=0,s=e;o<s.length;o++)for(var a=s[o],l=a.length,u=1;u<l;++u){var h,c=a[u-1],p=a[u],f=void 0;h=c.x<p.x?(f=c.x,p.x):(f=p.x,c.x);var d,m=void 0;d=c.y<p.y?(m=c.y,p.y):(m=p.y,c.y);var g=Math.floor(f),y=Math.floor(h)+1,v=Math.floor(m),_=Math.floor(d)+1;g<i&&(g=i),t-i<y&&(y=t-i),v<i&&(v=i),r-i<_&&(_=r-i);for(var x=v;x<_;++x)if(c.y>x!=p.y>x){for(var w=(r-x-1)*t,b=g;b<y;++b)b<(p.x-c.x)*(x-c.y)/(p.y-c.y)+c.x&&(n[w+b]=-n[w+b]);for(b=i;b<g;++b)n[w+b]=-n[w+b]}}}(n,p,f,l,L),[function(e,t){for(var r=2*t,i=e.length,n=new Uint8Array(4*i),s=0;s<i;++s){o(.5-e[s]/r,n,4*s)}return n}(L,l),p,f,d,v,_]}}.apply(null,i))||(e.exports=n)},t1uL:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("ma1f"),r("qsST"),r("jBNx"),r("aMdW"),r("Zx0K"),r("W9tT"),r("ab6c"),r("4F/P"),r("tI6k"),r("JNkf"),r("0XPR"),r("Dos2"),r("bUZ0"),r("hNI9"),r("x84Q"),r("m87x"),r("75dh"),r("MzWl"),r("2Gaw"),r("wjMf"),r("BEeJ")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d,m,g,y,v,_,x,w,b,T){Object.defineProperty(t,"__esModule",{value:!0});var S=n.getLogger("esri.views.2d.engine.webgl.WGLTextTemplate"),M=a.mat2df32.create(),E=u.vec2f32.create(),L=function(e){function t(t,r){var i=e.call(this)||this;i.geometryType=p.WGLGeometryType.TEXT,i._xOffset=o.pt2px(r.xoffset),i._yOffset=o.pt2px(r.yoffset),i._decorationTop=f.getFontDecorationTop(r.font),i._color=0|(r.color&&h.premultiplyAlphaRGBA(r.color)),i._haloColor=0|(r.haloColor&&h.premultiplyAlphaRGBA(r.haloColor)),i._haloSize=Math.min(Math.floor(5*o.pt2px(o.toPt(r.haloSize||0))),127),i._size=Math.min(Math.round(o.pt2px(r.font.size)),127),i._scale=i._size/24,i._angle=r.angle||0,i._justify=b.getJustification(r.horizontalAlignment||"center"),i._xAlignD=b.getXAnchorDirection(r.horizontalAlignment||"center"),i._yAlignD=-b.getYAnchorDirection(r.verticalAlignment||"baseline"),i._baseline="baseline"===(r.verticalAlignment||"baseline"),i._bitset=0;var n=v.MaterialKeyBase.load(v.createMaterialKey(i.geometryType,t,!1));return n.sdf=!0,i._materialKey=n.data,i.symbolId=r.id,i}return r(t,e),t.fromText=function(e,r,i){var n=new t(e,r),o=w.bidiText(r.text),s=o[0],a=o[1];return n.bindTextInfo(i,s,a),n._computeGlyphs(n._shapedGlyphs,n._shapedBox),n},t.prototype.bindTextInfo=function(e,t,r){var i=this._computeShaping(e,this._justify).getShaping(t,r);isNaN(this._decorationTop)||m.addDecoration(i,this._decorationTop),this._shapedGlyphs=i,this._shapedBox=m.getBox(i)},t.prototype.writeMesh=function(e,t,r,n,o,s,a,l){var u,h,c=this._computedGlyphs,p=v.TextMaterialKey.load(this._materialKey),f=d.i8888to32(0,0,0,this._bitset);switch(r){case"esriGeometryPoint":for(var m=o.geometry,g=m.x,y=m.y,_=0,x=c;_<x.length;_++)(C=x[_]).anchorX=g,C.anchorY=y;return void this._writeVertices(e,t,n,a,c,l,p,f,0,0);case"esriGeometryPolygon":if(o.centroid){for(var w=o.centroid,b=(g=w.x,y=w.y,0),T=c;b<T.length;b++)(C=T[b]).anchorX=g,C.anchorY=y;return void this._writeVertices(e,t,n,a,c,l,p,f,0,0)}case"esriGeometryMultipoint":g=0,y=0;for(var M=0,E=o.geometry.points;M<E.length;M++){var L=E[M];g+=L[0],y+=L[1];for(var I=0,G=c;I<G.length;I++){var C;(C=G[I]).anchorX=g,C.anchorY=y}this._writeVertices(e,t,n,a,c,l,p,f,0,0)}return;default:u="Unable to handle geometryType: "+r,void 0===h&&(h="mapview-processing"),S.error(new i(h,u))}},t.prototype._computeGlyphs=function(e,t){for(var r=new Array(e.length),i=this._computeGlyphTransform(t),n=v.MaterialKeyBase.load(this._materialKey),o=0;o<e.length;o++){var s=e[o],a=s.x,l=s.y,u=s.codePoint,h=s.glyphMosaicItem;n.textureBinding=h.textureBinding,r[o]=_.default.from(a,l,0,0,-1,0,25,h,u,n.data,i,this._size,this._haloSize,!1,!0)}this._computedGlyphs=r},t.prototype._createBounds=function(e,t){var r,i,n=e.width/2,o=e.height/2,s=t[4],a=t[5];if(this._angle){var h=u.vec2f32.fromValues(-n,-o),p=u.vec2f32.fromValues(n,-o),f=u.vec2f32.fromValues(-n,o),d=u.vec2f32.fromValues(n,o);l.vec2.transformMat2d(h,h,t),l.vec2.transformMat2d(p,p,t),l.vec2.transformMat2d(f,f,t),l.vec2.transformMat2d(d,d,t);for(var m=1/0,g=1/0,v=0,_=0,x=0,w=[h,p,f,d];x<w.length;x++){var b=w[x];m=Math.min(b[0],m),v=Math.max(b[0],v),g=Math.min(b[1],g),_=Math.max(b[1],_)}r=v-m,i=_-g}else r=e.width*this._scale,i=e.height*this._scale;var T=r+c.COLLISION_BOX_PADDING,S=i+c.COLLISION_BOX_PADDING;return new y.default(s,a,T,S)},t.prototype._computeShaping=function(e,t){return new m([e],512,c.TEXT_LINE_HEIGHT,c.TEXT_SPACING,[0,.5*-c.TEXT_LINE_HEIGHT],.5*(1-this._xAlignD),0,t)},t.prototype._computeGlyphTransform=function(e){var t=this._scale,r=this._angle*T.C_DEG_TO_RAD,i=s.mat2d.identity(M);s.mat2d.rotate(i,i,r),s.mat2d.translate(i,i,l.vec2.set(E,this._xOffset,-this._yOffset)),s.mat2d.scale(i,i,l.vec2.set(E,t,t));var n=this._baseline?25:e.y+(1-this._yAlignD)*e.height*.5;return s.mat2d.translate(i,i,l.vec2.set(E,-4,-4-n)),i},t.prototype._writeVertices=function(e,t,r,i,n,o,s,a,l,u){this._writeHalos(e,t,r,i,n,o,s,a,l,u),this._writeText(e,t,r,i,n,o,s,a,l,u)},t.prototype._writeHalos=function(e,t,r,i,n,o,s,a,l,u){var h=t.indexVector,c=s.hasVV(),p=t.getVector("geometry").vertexCount,f=0;if(this._haloSize)for(var m=0;m<n.length;m++,f+=4){var y=n[m],v=d.i1616to32(2*y.anchorX+1,2*y.anchorY),_=null==l?Math.floor(10*y.minZoom):l,x=null==u?Math.floor(10*y.maxZoom):u,w=new g(r,this.geometryType,y.materialKey,_,x);w.vertexFrom=p+f,w.indexFrom=h.length,this._writeVertex(w,t,r,v,this._haloColor,y,c,i,o,a),this._writeIndices(w,h,p+f),e.push(w)}},t.prototype._writeText=function(e,t,r,i,n,o,s,a,l,u){for(var h=t.indexVector,c=s.hasVV(),p=t.getVector("geometry").vertexCount,f=0,m=0;m<n.length;m++,f+=4){var y=n[m],v=d.i1616to32(2*y.anchorX,2*y.anchorY),_=null==l?Math.floor(10*y.minZoom):l,x=null==u?Math.floor(10*y.maxZoom):u,w=new g(r,this.geometryType,y.materialKey,_,x);w.vertexFrom=p+f,w.indexFrom=h.length,this._writeVertex(w,t,r,v,this._color,y,c,i,o,a),this._writeIndices(w,h,p+f),e.push(w)}},t.prototype._writeVertex=function(e,t,r,i,n,o,s,a,l,u){var h=t.get("geometry"),c=t.get("visibility");h.push(i),h.push(r),h.push(n),h.push(o.vertexOffsetUpperLeft),h.push(o.texFontSizeUpperLeft),h.push(u),this._writeVV(h,a,s),c.push(l),h.push(i),h.push(r),h.push(n),h.push(o.vertexOffsetUpperRight),h.push(o.texFontSizeUpperRight),h.push(u),this._writeVV(h,a,s),c.push(l),h.push(i),h.push(r),h.push(n),h.push(o.vertexOffsetLowerLeft),h.push(o.texFontSizeLowerLeft),h.push(u),this._writeVV(h,a,s),c.push(l),h.push(i),h.push(r),h.push(n),h.push(o.vertexOffsetLowerRight),h.push(o.texFontSizeLowerRight),h.push(u),this._writeVV(h,a,s),c.push(l),e.vertexCount+=4},t.prototype._writeVV=function(e,t,r){r&&(e.push(t[p.VVType.SIZE]),e.push(t[p.VVType.COLOR]),e.push(t[p.VVType.OPACITY]),e.push(t[p.VVType.ROTATION]))},t.prototype._writeIndices=function(e,t,r){t.push(r+0),t.push(r+1),t.push(r+2),t.push(r+1),t.push(r+3),t.push(r+2),e.indexCount+=6},t}(x.default);t.default=L}.apply(null,i))||(e.exports=n)},v3M4:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("qsST"),r("lnyn")],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=r.getLogger("esri.views.2d.engine.webgl.mesh.templates.Tesselator"),o=function(){function e(){this._currentVertexIndex=0,this._indexCounter=0,this._triangleIndices=[-1,-1,-1],this.glu=new i.GluTesselator,this.glu.gluTessCallback(i.gluEnum.GLU_TESS_BEGIN,this._begincallback.bind(this)),this.glu.gluTessCallback(i.gluEnum.GLU_TESS_VERTEX_DATA,this._vertexCallback.bind(this)),this.glu.gluTessCallback(i.gluEnum.GLU_TESS_END,this._endcallback.bind(this)),this.glu.gluTessCallback(i.gluEnum.GLU_TESS_COMBINE,this._combinecallback.bind(this)),this.glu.gluTessCallback(i.gluEnum.GLU_TESS_ERROR,this._errorcallback.bind(this)),this.glu.gluTessCallback(i.gluEnum.GLU_TESS_EDGE_FLAG,this._edgeCallback.bind(this)),this.glu.gluTessProperty(i.gluEnum.GLU_TESS_WINDING_RULE,i.windingRule.GLU_TESS_WINDING_ODD)}return e.prototype.beginPolygon=function(e,t){this._triangleIndices[0]=-1,this._triangleIndices[1]=-1,this._triangleIndices[2]=-1,this._currentVertexIndex=0,this._indexCounter=0,this.glu.gluTessBeginPolygon(e),this._indices=t},e.prototype.endPolygon=function(){this.glu.gluTessEndPolygon()},e.prototype.beginContour=function(){this.glu.gluTessBeginContour()},e.prototype.endContour=function(){this.glu.gluTessEndContour()},e.prototype.addVertex=function(e,t){this.glu.gluTessVertex(e,t)},e.prototype._vertexCallback=function(e,t){if(t[t.length]=e[0],t[t.length]=e[1],this._triangleIndices[this._currentVertexIndex]=-1,2<=this._currentVertexIndex){for(var r=0;r<3;r++)-1===this._triangleIndices[r]&&(this._triangleIndices[r]=this._indexCounter++),this._indices[this._indices.length]=this._triangleIndices[r];this._currentVertexIndex=0}else this._currentVertexIndex++},e.prototype._begincallback=function(e){this._triangleIndices[0]=-1,this._triangleIndices[1]=-1,this._triangleIndices[2]=-1,this._currentVertexIndex=0},e.prototype._endcallback=function(){this._currentVertexIndex=0},e.prototype._errorcallback=function(e){n.error("Encountered error during tesselation: "+e)},e.prototype._combinecallback=function(e,t,r){return[e[0],e[1],e[2]]},e.prototype._edgeCallback=function(e){},e}();t.default=o}.apply(null,i))||(e.exports=n)},wjMf:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("jBNx"),r("aMdW"),r("Zx0K"),r("W9tT"),r("ab6c"),r("Z4y+"),r("lRq4"),r("hBh5"),r("Thzy"),r("Lzvl"),r("fw2w"),r("nrlZ"),r("nrlZ"),r("tI6k"),r("0XPR"),r("VY6u"),r("bUZ0"),r("GDRe"),r("2Gaw")],void 0===(n=function(e,t,r,i,n,o,s,a,l,u,h,c,p,f,d,m,g,y,v,_,x){function w(e){switch(e){case"left":return 1;case"right":return-1;case"center":case"justify":return 0}}function b(e){switch(e){case"top":return-1;case"middle":return 0;case"baseline":case"bottom":return 1}}function T(e){switch(e){case"left":return 0;case"right":return 1;case"center":case"justify":return.5}}function S(e,t,n,s,a){var l,u,h=r.pt2px(n.xoffset),c=r.pt2px(n.yoffset),p=y.C_DEG_TO_RAD*n.angle,f=y.C_DEG_TO_RAD*a;switch(n.type){case"simple-marker":var d=n;l=u=r.pt2px(d.size);break;case"picture-marker":var m=n;l=r.pt2px(m.width),u=r.pt2px(m.height)}var g=i.mat2d.identity(F);i.mat2d.translate(g,g,o.vec2.set(U,e,t)),i.mat2d.rotate(g,g,f-p),i.mat2d.scale(g,g,o.vec2.set(U,s,-s)),i.mat2d.translate(g,g,o.vec2.set(U,h,-c));var v=[0,0];o.vec2.transformMat2d(v,o.vec2.set(U,-.5*l,-.5*u),g);var _=[0,0];o.vec2.transformMat2d(_,o.vec2.set(U,-.5*l,.5*u),g);var x=[0,0];o.vec2.transformMat2d(x,o.vec2.set(U,.5*l,-.5*u),g);var w=[0,0];return o.vec2.transformMat2d(w,o.vec2.set(U,.5*l,.5*u),g),{rings:[[v,x,w,_,v]]}}function M(e,t,n,s,a,l){var u=b(n.verticalAlignment||"baseline"),h="baseline"===(n.verticalAlignment||"baseline"),c=r.pt2px(n.xoffset),p=r.pt2px(n.yoffset),f=r.pt2px(n.font.size)/24,d=4*f,m=h?25*f:s[1]+(1+u)*s[3]*.5,g=y.C_DEG_TO_RAD*n.angle,v=y.C_DEG_TO_RAD*l,_=i.mat2d.identity(F);i.mat2d.translate(_,_,o.vec2.set(U,e,t)),i.mat2d.rotate(_,_,v-g),i.mat2d.scale(_,_,o.vec2.set(U,a,-a)),i.mat2d.translate(_,_,o.vec2.set(U,c,-p)),i.mat2d.translate(_,_,o.vec2.set(U,-d,-d-m));var x=[0,0];o.vec2.transformMat2d(x,o.vec2.set(U,s[0],s[1]),_);var w=[0,0];o.vec2.transformMat2d(w,o.vec2.set(U,s[0],s[1]+s[3]),_);var T=[0,0];o.vec2.transformMat2d(T,o.vec2.set(U,s[0]+s[2],s[1]),_);var S=[0,0];return o.vec2.transformMat2d(S,o.vec2.set(U,s[0]+s[2],s[1]+s[3]),_),{rings:[[x,T,S,w,x]]}}function E(e,t){var r=0;switch(e.type){case"simple-fill":case"picture-fill":var i=e.outline;if(!i)return 0;r=i.width;break;case"simple-line":r=e.width;break;case"simple-marker":r=e.size;break;case"picture-marker":r=Math.max(e.width,e.height);break;case"text":var n=[0,0,0,0];L(n,e,t),r=Math.max(n[0],n[1])}return r}function L(e,t,i){if(!i||0===i.glyphMosaicItems.length)return e;var n=x.bidiText(t.text),o=n[0],s=n[1],a=T(t.horizontalAlignment||"center"),l=w(t.horizontalAlignment||"center"),u=i.glyphMosaicItems,h=new v([u],m.TEXT_MAX_WIDTH,m.TEXT_LINE_HEIGHT,m.TEXT_SPACING,[0,.5*-m.TEXT_LINE_HEIGHT],.5*(1-l),0,a).getShaping(o,s),c=g.getFontDecorationTop(t.font);isNaN(c)||v.addDecoration(h,c);var p=v.getBox(h),f=r.pt2px(t.font.size)/Y;return e[0]=f*p.x,e[1]=f*p.y,e[2]=f*p.width,e[3]=f*p.height,e}function I(e,t,r,i,n,o){for(var s,a,l=S(t,r,i,n,0),u=0,h=0;h<l.rings[0].length-1;h++)s=(t-(a=l.rings[0][h])[0])*(t-a[0])+(r-a[1])*(r-a[1]),u=Math.max(u,s);u=Math.sqrt(u);var c=p.normalizeMapX(t-u,o),f=p.normalizeMapX(t+u,o);if(c>f){var m=d.getInfo(o);if(m){var g=m.valid;c=g[0],f=g[1]}}return e[0]=c,e[1]=r-u,e[2]=f,e[3]=r+u,e}function G(e,t,r,i,n,o,s){for(var a,l,u=M(t,r,i,n,o,0),h=0,c=0;c<u.rings[0].length-1;c++)a=(t-(l=u.rings[0][c])[0])*(t-l[0])+(r-l[1])*(r-l[1]),h=Math.max(h,a);h=Math.sqrt(h);var f=p.normalizeMapX(t-h,s),m=p.normalizeMapX(t+h,s);if(f>m){var g=d.getInfo(s);if(g){var y=g.valid;f=y[0],m=y[1]}}return e[0]=f,e[1]=r-h,e[2]=m,e[3]=r+h,e}function C(e){return c.isPolygon(e)?e.rings:e.paths}function V(e,t){return Math.ceil((e-t)/(2*t))}function N(e,t){for(var r=0,i=C(e);r<i.length;r++)for(var n=0,o=i[r];n<o.length;n++){o[n][0]+=t}return e}function P(e,t){if(!t)return e;var r=O(e,t).map(function(e){return e.extent});return r.length<2?r[0]||e:r.length>2?(e.xmin=t.valid[0],e.xmax=t.valid[1],e):{rings:r.map(function(e){return[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]})}}function O(e,t){var r,i=[],n=e.ymin,o=e.ymax,s=e.xmax-e.xmin,a=e.xmin,l=e.xmax,u=t.valid,h=u[0],c=u[1],p=(r=k(e.xmin,t)).x,f=r.frameId,d=(r=k(e.xmax,t)).x,m=r.frameId,g=p===d&&s>0;if(s>2*c){var y={xmin:a<l?p:d,ymin:n,xmax:c,ymax:o},v={xmin:h,ymin:n,xmax:a<l?d:p,ymax:o},_={xmin:0,ymin:n,xmax:c,ymax:o},x={xmin:h,ymin:n,xmax:0,ymax:o},w=[],b=[];D(y,_)&&w.push(f),D(y,x)&&b.push(f),D(v,_)&&w.push(m),D(v,x)&&b.push(m);for(var T=f+1;T<m;T++)w.push(T),b.push(T);i.push({extent:y,frameIds:[f]},{extent:v,frameIds:[m]},{extent:_,frameIds:w},{extent:x,frameIds:b})}else p>d||g?i.push({extent:{xmin:p,ymin:n,xmax:c,ymax:o},frameIds:[f]},{extent:{xmin:h,ymin:n,xmax:d,ymax:o},frameIds:[m]}):i.push({extent:{xmin:p,ymin:n,xmax:d,ymax:o},frameIds:[f]});return i}function k(e,t){var r,i=t.valid,n=i[0],o=i[1],s=2*o,a=0;return e>o?(e-=(r=Math.ceil(Math.abs(e-o)/s))*s,a=r):e<n&&(e+=(r=Math.ceil(Math.abs(e-n)/s))*s,a=-r),{x:e,frameId:a}}function D(e,t){var r=t.xmin,i=t.ymin,n=t.xmax,o=t.ymax;return A(e,r,i)&&A(e,r,o)&&A(e,n,o)&&A(e,n,i)}function A(e,t,r){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax}function R(e,t,r){var i;if(Array.isArray(e)){if((i=e[0])>t){var n=V(i,t);e[0]=i+n*(-2*t)}else if(i<r){n=V(i,r);e[0]=i+n*(-2*r)}}else if((i=e.x)>t){n=V(i,t);e.x+=n*(-2*t)}else if(i<r){n=V(i,r);e.x+=n*(-2*r)}return e}Object.defineProperty(t,"__esModule",{value:!0});var F=n.mat2df32.create(),U=s.vec2f32.create(),z=l.create();t.ensureClosedRings=function(e){if(c.isPolygon(e))for(var t=0,r=e.rings;t<r.length;t++){var i=r[t];i.length<3||i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0])}},t.getBounds=function(e,t,r,i,n,o,s,a,l){if(!i)return e[0]=e[1]=e[2]=e[3]=0,t[0]=t[1]=t[2]=t[3]=0,e;var h=r.symbol;if(!h&&o&&(h=o.getSymbol(r,{scale:a})),!h)return e;var p=i;if(!c.isPoint(p)){u.getBoundsXY(e,p);var f=t[0];0===f&&(f=E(h,n),t[0]=f);var d=s*f/2;return e[0]-=d,e[1]-=d,e[2]+=d,e[3]+=d,e}var m=p.x,g=p.y;switch(h.type){case"simple-marker":case"picture-marker":I(e,m,g,h,s,l);break;case"text":0===t[2]&&0===t[3]&&L(t,h,n),G(e,m,g,h,t,s,l)}return e},t.isMarkerSymbol=function(e){return"simple-marker"===e||"picture-marker"===e||"text"===e},t.graphicGeometryToNumber=function(e){switch(e.geometry.type){case"point":case"multipoint":return 0;case"polyline":return 1;case"polygon":case"extent":return 2}return 0},t.getXAnchorDirection=w,t.getYAnchorDirection=b,t.getJustification=T;var B=s.vec2f32.create(),W=s.vec2f32.create(),H=s.vec2f32.create(),j=s.vec2f32.create(),q=s.vec2f32.create(),X=s.vec2f32.create(),K=s.vec2f32.create();t.isPointOnPolyline=function(e,t,r,i){o.vec2.set(H,t,r);for(var n,s,a,l,u,h,c,p,f,d=e.paths,m=1/0,g=0;g<d.length;g++){var y=d[g];if(!(y.length<2))for(var v=1;v<y.length;v++)n=y[v-1][0],a=y[v-1][1],s=y[v][0],l=y[v][1],u=Math.min(n,s)-i,h=Math.min(a,l)-i,c=Math.max(n,s)+i,p=Math.max(a,l)+i,t<u||t>c||r<h||r>p||(o.vec2.set(B,n,a),o.vec2.set(W,s,l),o.vec2.subtract(j,W,B),o.vec2.subtract(q,B,H),o.vec2.scale(X,j,o.vec2.dot(j,q)/o.vec2.dot(j,j)),o.vec2.subtract(K,q,X),m>(f=o.vec2.dot(K,K))&&(m=f))}return Math.sqrt(m)<=i},t.getMarkerSymbolBounds=S,t.getTextSymbolBounds=M,t.normalizeCentralMeridian=function(e){var t,r,i,n,o,s,a,l,p=null;if(!e)return null;t=e.spatialReference,r=f.getInfo(t),i=t.isWebMercator,n=Z[s=i?102100:4326].maxX,o=Z[s].minX,a=Z[s].plus180Line,l=Z[s].minus180Line;var d,m=e.toJSON();if(!r)return m;if("mesh"===e.type)d=m;else if(c.isPoint(m))d=R(m,n,o);else if(c.isMultipoint(m))m.points=m.points.map(function(e){return R(e,n,o)}),d=m;else if(c.isExtent(m))d=P(m,r);else if(c.isPolygon(m)||c.isPolyline(m)){var g=z;u.getBoundsXY(g,m);var y={xmin:g[0],ymin:g[1],xmax:g[2],ymax:g[3]},v=V(y.xmin,o)*(2*n),x=0===v?m:N(m,v);y.xmin+=v,y.xmax+=v,h.extentIntersectsPolyline(y,a)&&y.xmax!==n?p=x:h.extentIntersectsPolyline(y,l)&&y.xmin!==o?p=x:d=x}else d=e.clone();return null!==p?(new _.CutVertical).cut(p,n):d};var Y=24;t.getTextSymbolSize=L,t.getTextSymbolEstimatedSize=function(e,t,i){var n=x.bidiText(t.text),o=n[0],s=n[1],a=T(t.horizontalAlignment||"center"),l=w(t.horizontalAlignment||"center"),u=new v([],m.TEXT_MAX_WIDTH,m.TEXT_LINE_HEIGHT,m.TEXT_SPACING,[0,.5*-m.TEXT_LINE_HEIGHT],.5*(1-l),0,a).getEstimatedShaping(o,s,i),h=v.getBox(u),c=r.pt2px(t.font.size)/Y;return e[0]=c*h.x,e[1]=c*h.y,e[2]=c*h.width,e[3]=c*h.height,e};var Z={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:{paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:a.WebMercator},minus180Line:{paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:a.WebMercator}},4326:{maxX:180,minX:-180,plus180Line:{paths:[[[180,-180],[180,180]]],spatialReference:a.WGS84},minus180Line:{paths:[[[-180,-180],[-180,180]]],spatialReference:a.WGS84}}}}.apply(null,i))||(e.exports=n)},yVlQ:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xhoE"),r("MzWl")],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){var t=e.call(this)||this;return t._materialCache=new Map,t}return r(t,e),t}(i.default);t.default=n}.apply(null,i))||(e.exports=n)}}]);