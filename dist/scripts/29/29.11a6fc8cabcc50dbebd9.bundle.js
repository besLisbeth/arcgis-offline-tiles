(function(){(this||window).webpackJsonp.registerAbsMids({"esri/renderers/support/styleUtils":"PhdM","esri/portal/support/layersCreator":"RDRC","esri/portal/support/portalLayers":"uLAD","esri/portal/support/mapNotesUtils":"wGgo"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[29,82],{PhdM:function(e,r,a){var t,n;t=[a.dj.c(e.i),r,a("Q2wQ"),a("HZ3d"),a("WYKK"),a("V2ZO")],void 0===(n=function(e,r,a,t,n,i){Object.defineProperty(r,"__esModule",{value:!0}),r.loadStyleRenderer=function(e,r){return t(this,void 0,void 0,function(){var t,o,l;return a(this,function(a){switch(a.label){case 0:return(t=e&&e.getAtOrigin&&e.getAtOrigin("renderer",r.origin))&&"unique-value"===t.type&&t.styleOrigin?[4,n.result(t.populateFromStyle())]:[3,2];case 1:!1===(o=a.sent()).ok&&(l=o.error,r&&r.messages&&r.messages.push(new i("renderer:style-reference","Failed to create unique value renderer from style reference: "+l.message,{error:l,context:r})),e.clear("renderer",r.origin)),a.label=2;case 2:return[2]}})})}}.apply(null,t))||(e.exports=n)},RDRC:function(e,r,a){var t,n;t=[a.dj.c(e.i),r,a("Q2wQ"),a("HZ3d"),a("y4WC"),a("H1tY"),a("qMld"),a("FayN"),a("QmTF"),a("wGgo"),a("uLAD"),a("PhdM")],void 0===(n=function(e,r,a,t,n,i,o,l,y,c,s,u){function p(e,r,n){return t(this,void 0,void 0,function(){var t;return a(this,function(a){switch(a.label){case 0:return(t=new e).read(r,n.context),[4,u.loadStyleRenderer(t,n.context)];case 1:return a.sent(),[2,t]}})})}function L(e,r){return t(this,void 0,void 0,function(){return a(this,function(a){switch(a.label){case 0:return[4,d(e,r)];case 1:return[2,p(a.sent(),e,r)]}})})}function d(e,r){return t(this,void 0,void 0,function(){var t,n,i,o,u,p,L,d;return a(this,function(a){switch(a.label){case 0:return t=r.context,n=f(t),!(i=e.layerType||e.type)&&r&&r.defaultLayerType&&(i=r.defaultLayerType),o=n[i],u=o?l.layerLookupMap[o]:l.layerLookupMap.UnknownLayer,"Feature Collection"!==e.type?[3,4]:e.itemId?[4,(p=new y({id:e.itemId,portal:t&&t.portal})).load()]:[3,3];case 1:return a.sent(),[4,s.selectLayerClassPath(p)];case 2:L=a.sent(),d=L.className||"UnknownLayer",u=l.layerLookupMap[d],a.label=3;case 3:return[3,5];case 4:"ArcGISFeatureLayer"===i&&c.isMapNotesLayer(e)&&(u=l.layerLookupMap.MapNotesLayer),a.label=5;case 5:return e.wmtsInfo&&(u=l.layerLookupMap.WMTSLayer),[2,u()]}})})}function f(e){var r;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":r=g;break;case"ground":r=I;break;default:r=m}break;default:switch(e.layerContainerType){case"basemap":r=T;break;default:r=h}}return r}function S(e,r,i){return t(this,void 0,void 0,function(){var t,o,l;return a(this,function(a){switch(a.label){case 0:return t=new n,o=v(t,Array.isArray(r.layers)?r.layers:[],i),[4,e];case 1:return l=a.sent(),[4,o];case 2:return a.sent(),"group"===l.type?(l.layers.addMany(t),[2,l]):[2]}})})}function v(e,r,n){return t(this,void 0,void 0,function(){var t,i,l,y,c,s,u,p,d;return a(this,function(a){switch(a.label){case 0:if(!r)return[2];for(t=[],i=0,l=r;i<l.length;i++)y=l[i],c=L(y,n),"GroupLayer"===y.layerType?t.push(S(c,y,n)):t.push(c);return[4,o.eachAlways(t)];case 1:for(s=a.sent(),u=0,p=s;u<p.length;u++)d=p[u],M&&d.error||!d.value||n.filter&&!n.filter(d.value)||e.add(d.value);return[2]}})})}Object.defineProperty(r,"__esModule",{value:!0});var M=i("dojo-debug-messages"),m={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"TileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},I={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer"},g={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},h={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"TileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},T={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"TileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};r.createLayer=L,r.populateOperationalLayers=function(e,r,n){return t(this,void 0,void 0,function(){return a(this,function(a){return[2,v(e,r,n)]})})}}.apply(null,t))||(e.exports=n)},uLAD:function(e,r,a){var t,n;t=[a.dj.c(e.i),r,a("2Atf"),a("zp6E"),a("y4WC"),a("ma1f"),a("qMld"),a("FayN"),a("QmTF"),a("wGgo")],void 0===(n=function(e,r,a,t,n,i,o,l,y,c){function s(e){return e.load().then(u).then(p)}function u(e){switch(e.type){case"Map Service":return L(e);case"Feature Service":return d(e);case"Feature Collection":return S(e);case"Scene Service":return f(e);case"Image Service":return v(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return o.reject(new i("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function p(e){return(0,l.layerLookupMap[e.className])().then(function(r){return{constructor:r,properties:e.properties}})}function L(e){return M(e).then(function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}})}function d(e){return m(e).then(function(e){if("object"==typeof e){var r={outFields:["*"]};return null!=e.id&&(r.layerId=e.id),{className:"FeatureLayer",properties:r}}return{className:"GroupLayer"}})}function f(e){return m(e).then(function(r){if("object"==typeof r){var a={},t=void 0;if(null!=r.id?(a.layerId=r.id,t=e.url+"/layers/"+r.id):t=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var n={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];if(-1!==e.typeKeywords.indexOf(l))return{className:n[l]}}return I(t).then(function(e){var r="SceneLayer",t={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&t[e.layerType]&&(r=t[e.layerType]),{className:r,properties:a}})}return{className:"GroupLayer"}})}function S(e){return e.load().then(function(){return e.fetchData()}).then(function(e){if(e&&Array.isArray(e.layers)){if(c.isMapNotesLayer(e))return{className:"MapNotesLayer"};if(1===e.layers.length)return{className:"FeatureLayer"}}return{className:"GroupLayer"}})}function v(e){return M(e).then(function(r){var a=new n(e.typeKeywords);return r?a.find(function(e){return"elevation 3d layer"===e.toLowerCase()})?{className:"ElevationLayer"}:{className:"TileLayer"}:{className:"ImageryLayer"}})}function M(e){return I(e.url).then(function(e){return e.tileInfo})}function m(e){return!e.url||e.url.match(/\/\d+$/)?o.resolve({}):e.load().then(function(){return e.fetchData()}).then(function(r){return r&&Array.isArray(r.layers)?1===r.layers.length&&{id:r.layers[0].id}:I(e.url).then(function(e){return e&&Array.isArray(e.layers)?1===e.layers.length&&{id:e.layers[0].id}:{}})})}function I(e){return t(e,{responseType:"json",query:{f:"json"}}).then(function(e){return e.data})}Object.defineProperty(r,"__esModule",{value:!0}),r.fromItem=function(e){return!e.portalItem||e.portalItem instanceof y||e.portalItem.constructor&&e.portalItem.constructor._meta||(e=a({},e,{portalItem:new y(e.portalItem)})),s(e.portalItem).then(function(r){var t=a({portalItem:e.portalItem},r.properties),n=r.constructor;return o.resolve(new n(t))})},r.selectLayerClassPath=u}.apply(null,t))||(e.exports=n)},wGgo:function(e,r,a){var t,n;t=[a.dj.c(e.i),r],void 0===(n=function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isMapNotesLayer=function(e){var r=["TITLE","DESCRIPTION","IMAGE_URL","IMAGE_LINK_URL"],a=e.layers||e.featureCollection&&e.featureCollection.layers;if(a&&Array.isArray(a)){var t=a[0];return t.layerDefinition&&Array.isArray(t.layerDefinition.fields)&&t.layerDefinition.fields.forEach(function(e){var a=r.indexOf(e.name);a>-1&&r.splice(a,1)}),!r.length}}}.apply(null,t))||(e.exports=n)}}]);